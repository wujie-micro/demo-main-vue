{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/views/Angular12.vue?d810","webpack:///./src/views/Home.vue?672e","webpack:///./src/views/Multiple.vue?3e0d","webpack:///./src/views/Home.vue?4889","webpack:///./src/App.vue?fe7f","webpack:///./src/App.vue?315a","webpack:///./src/views/Home.vue?57fe","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?73d4","webpack:///./src/views/Home.vue?f957","webpack:///./src/views/React16.vue?4fba","webpack:///./src/hostMap.js","webpack:///./src/fetch.js","webpack:///./src/lifecycle.js","webpack:///./src/plugin.js","webpack:///src/views/React16.vue","webpack:///./src/views/React16.vue?93c1","webpack:///./src/views/React16.vue","webpack:///./src/views/React17.vue?cfe5","webpack:///src/views/React17.vue","webpack:///./src/views/React17.vue?d057","webpack:///./src/views/React17.vue","webpack:///./src/views/Vue2.vue?c154","webpack:///src/views/Vue2.vue","webpack:///./src/views/Vue2.vue?b099","webpack:///./src/views/Vue2.vue","webpack:///./src/views/Vite.vue?6ee2","webpack:///src/views/Vite.vue","webpack:///./src/views/Vite.vue?f68b","webpack:///./src/views/Vite.vue","webpack:///./src/views/Vue3.vue?64dc","webpack:///src/views/Vue3.vue","webpack:///./src/views/Vue3.vue?95ce","webpack:///./src/views/Vue3.vue","webpack:///./src/views/Angular12.vue?d892","webpack:///src/views/Angular12.vue","webpack:///./src/views/Angular12.vue?27b0","webpack:///./src/views/Angular12.vue?baff","webpack:///./src/views/Multiple.vue?d944","webpack:///src/views/Multiple.vue","webpack:///./src/views/Multiple.vue?0540","webpack:///./src/views/Multiple.vue?4b2a","webpack:///./src/views/WujiRadio.vue?69bf","webpack:///../src/constant.ts","webpack:///../src/utils.ts","webpack:///../src/template.ts","webpack:///../src/entry.ts","webpack:///../src/common.ts","webpack:///../src/effect.ts","webpack:///../src/shadow.ts","webpack:///../src/sync.ts","webpack:///../src/iframe.ts","webpack:///../src/proxy.ts","webpack:///../src/event.ts","webpack:///../src/sandbox.ts","webpack:///../src/index.ts","webpack:///./src/wuji.js","webpack:///src/views/WujiRadio.vue","webpack:///./src/views/WujiRadio.vue?275b","webpack:///./src/views/WujiRadio.vue","webpack:///./src/views/WujiCheckbox.vue?931b","webpack:///src/views/WujiCheckbox.vue","webpack:///./src/views/WujiCheckbox.vue?f491","webpack:///./src/views/WujiCheckbox.vue","webpack:///./src/views/WujiAlive.vue?8628","webpack:///src/views/WujiAlive.vue","webpack:///./src/views/WujiAlive.vue?600f","webpack:///./src/views/WujiAlive.vue","webpack:///./src/router/index.js","webpack:////Users/xuzhidan/work/wujie/packages/wujie-vue2/esm/index.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","staticRenderFns","component","slot","model","callback","$$v","preload","expression","disable","degrade","style","width","height","_m","watch","setTimeout","react16Url","fetch","props","plugins","lifecycles","beforeLoad","beforeMount","afterMount","beforeUnmount","afterUnmount","activated","deactivated","loadError","map","hostMap","host","url","options","includeFlag","includes","credentials","appWindow","console","log","__WUJIE","id","e","htmlLoader","code","jsBeforeLoaders","jsLoader","jsAfterLoaders","cssBeforeLoaders","src","content","cssLoader","cssAfterLoaders","jump","methods","react17Url","vue2Url","viteUrl","vue3Url","cssExcludes","staticStyle","vue3Fetch","vite","angular12Url","ref","WUJIE_DATA_ID","WUJIE_DATA_FLAG","WUJIE_DATA_ATTACH_CSS_FLAG","WUJIE_IFRAME_CLASS","WUJIE_ALL_EVENT","WUJIE_SHADE_STYLE","WUJIE_TIPS_NO_URL","WUJIE_TIPS_RELOAD_DISABLED","WUJIE_TIPS_STOP_APP","WUJIE_TIPS_NO_SUBJECT","WUJIE_TIPS_NO_FETCH","WUJIE_TIPS_EMPTY_CALLBACK","WUJIE_TIPS_NOT_SUPPORTED","WUJIE_TIPS_SCRIPT_ERROR_REQUESTED","WUJIE_TIPS_CSS_ERROR_REQUESTED","isFunction","isHijackingTag","tagName","toUpperCase","wujieSupport","Proxy","CustomElementRegistry","naughtySafari","document","all","callableFnCacheMap","WeakMap","isCallable","fn","has","callable","set","boundedMap","isBoundedFunction","bounded","indexOf","fnRegexCheckCacheMap","isConstructable","hasPrototypeMethods","constructor","getOwnPropertyNames","constructable","fnString","toString","constructableFunctionRegex","classRegex","test","getTargetValue","target","boundValue","Function","writable","getDegradeIframe","querySelector","appRouteParse","error","Error","urlElement","anchorElementGenerator","appHostPath","protocol","appRoutePath","pathname","search","hash","element","createElement","href","getAnchorElementQueryMap","anchorElement","queryList","replace","split","queryMap","forEach","query","isMatchSyncQueryById","location","keys","fixElementCtrSrcOrHref","iframeWindow","elementCtr","attr","rawElementSetAttribute","Element","setAttribute","targetValue","URL","baseURI","rawAnchorElementHrefDescriptor","getOwnPropertyDescriptor","configurable","getSyncUrl","prefix","winUrlElement","syncUrl","decodeURIComponent","validShortPath","match","_a","requestIdleCallback","cb","getContainer","container","warn","msg","getInlineCode","start","end","lastIndexOf","substring","defaultGetPublicPath","entry","origin","paths","pop","join","compose","fnList","args","reduce","newCode","nextTick","Promise","resolve","then","execHooks","hookName","plugin","filter","hook","ALL_SCRIPT_REGEX","SCRIPT_TAG_REGEX","SCRIPT_SRC_REGEX","SCRIPT_TYPE_REGEX","SCRIPT_ENTRY_REGEX","SCRIPT_ASYNC_REGEX","DEFER_ASYNC_REGEX","SCRIPT_NO_MODULE_REGEX","SCRIPT_MODULE_REGEX","LINK_TAG_REGEX","LINK_PRELOAD_OR_PREFETCH_REGEX","LINK_HREF_REGEX","LINK_AS_FONT","STYLE_TAG_REGEX","STYLE_TYPE_REGEX","STYLE_HREF_REGEX","HTML_COMMENT_REGEX","LINK_IGNORE_REGEX","STYLE_IGNORE_REGEX","SCRIPT_IGNORE_REGEX","CROSS_ORIGIN_REGEX","hasProtocol","startsWith","getEntirePath","path","isValidJavaScriptType","type","handleTypes","isModuleScriptSupported","genLinkReplaceSymbol","linkHref","preloadOrPrefetch","getInlineStyleReplaceSymbol","index","genScriptReplaceSymbol","scriptSrc","inlineScriptReplaceSymbol","genIgnoreAssetReplaceSymbol","genModuleScriptReplaceSymbol","moduleSupport","processTpl","tpl","postProcessTemplate","scripts","styles","template","styleType","styleHref","styleIgnore","newHref","preloadOrPrefetchType","scriptTag","scriptIgnore","isModuleScript","isCrossOriginScript","crossOriginType","moduleScriptIgnore","matchedScriptTypeMatch","matchedScriptType","matchedScriptEntry","matchedScriptSrcMatch","matchedScriptSrc","SyntaxError","isAsyncScript","isDeferScript","async","defer","crossorigin","crossoriginType","isPureCommentBlock","every","line","trim","tplResult","styleCache","scriptCache","embedHTMLCache","defaultFetch","defaultGetTemplate","processCssLoader","sandbox","getExternalStyleSheets","composeCssLoader","processedCssList","contentPromise","embedHTML","getEmbedHTML","styleResultList","scriptResult","isInlineCode","fetchAssets","cache","cssFlag","response","status","text","catch","getExternalScripts","script","reject","importHTML","opts","jsExcludes","pre","next","concat","item","getPublicPath","getHtmlParseResult","html","assetPublicPath","some","idToSandboxMap","__POWERED_BY_WUJIE__","inject","Map","getSandboxById","addSandboxIdMap","deleteSandboxIdMap","delete","documentProxyProperties","modifyLocalProperties","modifyProperties","shadowProperties","shadowMethods","documentProperties","documentMethods","documentEvents","ownerProperties","documentAddEventListenerEvents","rootAddEventListenerEvents","iframeAddEventListenerEvents","relativeElementTagAttrMap","IMG","A","SOURCE","windowProxyProperties","windowRegWhiteList","rawElementAppendChild","HTMLElement","appendChild","rawElementRemoveChild","removeChild","rawHeadInsertBefore","HTMLHeadElement","insertBefore","rawBodyInsertBefore","HTMLBodyElement","rawWindowAddEventListener","Window","addEventListener","rawWindowRemoveEventListener","removeEventListener","rawAppendChild","Node","rawDocumentQuerySelector","__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__","Document","patchCustomEvent","elementGetter","defineProperties","srcElement","manualInvokeElementEvent","event","customEvent","CustomEvent","patchedEvent","dispatchEvent","handleStylesheetElementHost","stylesheetElement","innerHTML","hostStyleSheetElement","getHostCssRules","sheet","shadowRoot","head","patchStylesheetElement","innerHTMLDesc","innerTextDesc","textContentDesc","innerText","textContent","node","nodeType","TEXT_NODE","ownerDocument","createTextNode","rewriteAppendOrInsertChild","newChild","refChild","rawDOMAppendOrInsertBefore","wujieId","styleSheetElements","iframe","iframeDocument","contentDocument","comment","createComment","execScript","insertScriptToIframe","contentWindow","execQueueLength","execQueue","fiber","_b","getAttribute","res","patchScript","firstChild","patchRenderEffect","render","body","cssSelectorMap","WujieApp","connectedCallback","attachShadow","patchElementEffect","disconnectedCallback","unmount","defineWujieWebComponent","customElements","define","createWujieWebComponent","contentElement","classList","add","renderElementToContainer","selectorOrElement","contains","clearChild","processCssLoaderForTemplate","preLoaders","curLoaders","reverse","afterLoader","contentList","styleElement","renderTemplateToHtml","ElementIterator","createTreeWalker","NodeFilter","SHOW_ELEMENT","nextElement","currentNode","relativeAttr","nextNode","renderTemplateToShadowRoot","processedHtml","shade","createIframeContainer","renderTemplateToIframe","renderDocument","firstElementChild","root","rootStyleSheets","rootCssRule","rootStyleReg","cssRules","cssRuleText","cssText","styleSheetElement","syncUrlToWindow","sync","curUrl","shortPath","longPath","encodeURIComponent","newQuery","history","replaceState","syncUrlToIframe","execFlag","idUrl","preAppRoutePath","mainHostPath","clearInactiveAppUrl","clearFlag","hrefFlag","pushUrlToWindow","pushState","processAppForHrefJump","iframeBody","renderIframeReplaceApp","parentElement","el","patchEventTimeStamp","onunload","patchIframeEvents","listener","patchIframeVariable","__WUJIE_PUBLIC_PATH__","$wujie","provide","__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__","querySelectorAll","patchIframeHistory","rawHistoryPushState","rawHistoryReplaceState","title","baseUrl","mainUrl","ignoreFlag","undefined","updateBase","baseElement","patchWindowEffect","processWindowProperty","message","reg","parent","windowOnEvents","descriptor","handler","recordEventListeners","rawAddEventListener","EventTarget","rawRemoveEventListener","elementListenerList","elementEventCacheMap","find","findIndex","ele","recoverEventListeners","rootElement","recoverDocumentListeners","oldRootElement","newRootElement","targetWindow","Event","createEvent","timeStamp","patchDocumentEffect","handlerCallbackMap","handlerTypeMap","typeList","elementOnEvents","documentOnEvent","propKey","proxyDocument","patchNodeEffect","rawGetRootNode","getRootNode","rootNode","patchRelativeUrlEffect","HTMLImageElement","HTMLAnchorElement","HTMLSourceElement","HTMLLinkElement","HTMLScriptElement","initBase","iframeUrlElement","appUrlElement","initIframeDom","stopIframeLoading","iframeReady","loop","stop","proxyLocation","syncIframeUrlToWindow","scriptElement","nextScriptElement","iframeGenerator","attrsMerge","locationHrefSet","hrefElement","proxyGenerator","proxyWindow","proxy","_fakeDocument","_ctx","arg","activeElement","_fakeLocation","ownKeys","_target","localGenerator","documentURI","getElementsByTagName","locationKeys","constantKey","reload","appEventObjMap","EventBus","$clear","eventObj","$on","cbs","$onAll","$once","on","$off","$offAll","$emit","allCbs","events","Wujie","bus","Array","isArray","active","alive","iframeFetch","input","init","scriptResultList","beforeScriptResultList","preLoader","afterScriptResultList","syncScriptResultList","asyncScriptResultList","deferScriptResultList","beforeScriptResult","mount","afterScriptResult","mountFlag","attachHostCssRules","__WUJIE_MOUNT","_d","_e","_f","_g","__WUJIE_UNMOUNT","destroy","parentNode","rebuildStyleSheets","hasAttribute","from","Date","now","startApp","newSandbox","WuJie","_j","_k","preloadApp","exec","runPreload","__awaiter","destroyApp","wujiFetch","exclude","loginHTML","needLogin","version","authId","authKey","Vue","use","VueRouter","routes","Home","React16","React17","Vue2","Vite","Vue3","Angular12","WujiRadio","WujiCheckbox","WujiAlive","Multiple","redirect","router","base","process","wujieVueOptions","String","default","Boolean","startAppQueue","mounted","handleEmit","execStartApp","$watch","$refs","wujie","beforeDestroy","WujieVue","extend","install","Switch","Tooltip","config","productionTip","alert","localStorage","getItem","credentialsFetch","h","App","$mount"],"mappings":"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","file":"js/app.10f9757c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Angular12.vue?vue&type=style&index=0&id=297a8f25&lang=css&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Multiple.vue?vue&type=style&index=0&id=3663915e&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=362ee65f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"nav\"}},[_c('router-link',{attrs:{\"to\":\"/home\"}},[_vm._v(\"\")]),_c('router-link',{attrs:{\"to\":\"/react16\"}},[_vm._v(\"react16\")]),_c('router-link',{attrs:{\"to\":\"/react17\"}},[_vm._v(\"react17\"),_c('span',{staticClass:\"alive\"},[_vm._v(\"\")])]),_c('router-link',{attrs:{\"to\":\"/vue2\"}},[_vm._v(\"vue2\")]),_c('router-link',{attrs:{\"to\":\"/vue3\"}},[_vm._v(\"vue3\"),_c('span',{staticClass:\"alive\"},[_vm._v(\"\")])]),_c('router-link',{attrs:{\"to\":\"/vite\"}},[_vm._v(\"vite\")]),_c('router-link',{attrs:{\"to\":\"/angular12\"}},[_vm._v(\"angular12\")]),_c('router-link',{attrs:{\"to\":\"/all\"}},[_vm._v(\"all\")])],1),_c('div',{staticClass:\"content\"},[_c('router-view')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2a7759c8&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"fixed\"},[_c('a',{staticClass:\"docs\",attrs:{\"href\":\"https://wujie.pages.woa.com/\",\"target\":\"_blank\"}},[_vm._v(\"\")]),_c('a',{staticClass:\"docs\",attrs:{\"href\":\"https://git.woa.com/wujie/wujie/tree/master/examples/main-vue/\",\"target\":\"_blank\"}},[_vm._v(\"\")]),_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\"hash\")]),_c('a',{staticClass:\"docs\",attrs:{\"href\":\"https://wujie-demo-react.pages.woa.com/\",\"target\":\"_blank\"}},[_vm._v(\"react\")])],2),_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\"+\")]),_c('a-switch',{staticClass:\"switch\",attrs:{\"checked-children\":\"\",\"un-checked-children\":\"\"},model:{value:(_vm.preload),callback:function ($$v) {_vm.preload=$$v},expression:\"preload\"}})],2),_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\"shadow+proxy\")]),_c('a-switch',{staticClass:\"switch\",attrs:{\"disabled\":_vm.disable,\"checked-children\":\"\",\"un-checked-children\":\"\"},model:{value:(_vm.degrade),callback:function ($$v) {_vm.degrade=$$v},expression:\"degrade\"}})],2)],1),_c('h1',{staticClass:\"header\"},[_c('img',{style:({ width: '70px', height: '70px', 'margin-right': '15px' }),attrs:{\"src\":\"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/86gA3vf6.svg\"}}),_c('span',{staticClass:\"bland\"},[_vm._v(\"\")])]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"\")]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-content\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \")]),_c('div',{staticClass:\"detail\"},[_c('ul',[_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")])])])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \")]),_c('div',{staticClass:\"detail\"},[_c('ul',[_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")])])])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \")]),_c('div',{staticClass:\"detail\"},[_c('ul',[_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"API\")]),_c('li',[_vm._v(\"\")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <div class=\"fixed\">\n      <a href=\"https://wujie.pages.woa.com/\" target=\"_blank\" class=\"docs\"></a>\n      <a href=\"https://git.woa.com/wujie/wujie/tree/master/examples/main-vue/\" target=\"_blank\" class=\"docs\"></a>\n      <a-tooltip placement=\"top\">\n        <template slot=\"title\">hash</template>\n        <a href=\"https://wujie-demo-react.pages.woa.com/\" target=\"_blank\" class=\"docs\">react</a>\n      </a-tooltip>\n      <a-tooltip placement=\"top\">\n        <template slot=\"title\">+</template>\n        <a-switch class=\"switch\" checked-children=\"\" un-checked-children=\"\" v-model=\"preload\" />\n      </a-tooltip>\n      <a-tooltip placement=\"top\">\n        <template slot=\"title\">shadow+proxy</template>\n        <a-switch\n          class=\"switch\"\n          :disabled=\"disable\"\n          checked-children=\"\"\n          un-checked-children=\"\"\n          v-model=\"degrade\"\n        />\n      </a-tooltip>\n    </div>\n    <h1 class=\"header\">\n      <img\n        :style=\"{ width: '70px', height: '70px', 'margin-right': '15px' }\"\n        src=\"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/86gA3vf6.svg\"\n      />\n      <span class=\"bland\"></span>\n    </h1>\n    <h2 class=\"subtitle\"></h2>\n\n    <div class=\"detail-content\">\n      <div class=\"item\">\n        <div class=\"title\"> </div>\n        <div class=\"detail\">\n          <ul>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"item\">\n        <div class=\"title\"> </div>\n        <div class=\"detail\">\n          <ul>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"item\">\n        <div class=\"title\"> </div>\n        <div class=\"detail\">\n          <ul>\n            <li></li>\n            <li>API</li>\n            <li></li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      preload: window.localStorage.getItem(\"preload\") !== \"false\",\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\" || !window.Proxy || !window.CustomElementRegistry,\n      disable: !window.Proxy || !window.CustomElementRegistry,\n    };\n  },\n  watch: {\n    preload(val) {\n      window.localStorage.setItem(\"preload\", val);\n      setTimeout(() => window.location.reload(), 1000);\n    },\n    degrade(val) {\n      window.localStorage.setItem(\"degrade\", val);\n      setTimeout(() => window.location.reload(), 1000);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.header {\n  font-size: 70px;\n  margin-top: 150px;\n  text-align: center;\n  font-weight: 300;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 200px;\n}\n.subtitle {\n  font-size: 50px;\n  margin-left: 250px;\n  text-align: center;\n  font-weight: 300;\n  font-style: italic;\n}\n\n.bland {\n  display: inline-block;\n  font-weight: 400;\n}\n\n.title {\n  font-size: 30px;\n  color: var(--theme);\n  text-align: center;\n}\n\n.fixed {\n  position: fixed;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  top: 50px;\n  right: 50px;\n}\n\n.switch {\n  margin-left: 15px;\n  padding: 5px;\n  height: 40px;\n}\n\n.switch.ant-switch::after {\n  top: 6px;\n  width: 25px;\n  height: 25px;\n}\n\n.docs {\n  font-size: 20px;\n  border: 1px solid rgb(217, 217, 217);\n  box-shadow: 0 2px #00000004;\n  color: rgb(44, 62, 80);\n  padding: 5px 20px;\n  border-radius: 20px;\n  margin-left: 15px;\n  cursor: pointer;\n  text-decoration: none;\n  transition: all 0.1s linear;\n}\n.docs:hover {\n  color: var(--theme);\n  border: 1px solid var(--theme);\n}\n\n.detail-content {\n  width: 900px;\n  height: 200px;\n  margin: 150px auto 0 auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.detail-content .item ul {\n  margin: 15px 0;\n}\n\n.home {\n  font-size: 20px;\n}\n.home .ant-switch-checked {\n  background-color: var(--theme);\n}\nspan.switch {\n  margin-left: 0;\n  padding: 0;\n}\n</style>\n\n<style>\n.switch .ant-switch-inner {\n  font-size: 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=362ee65f&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=362ee65f&scoped=true&lang=css&\"\nimport style1 from \"./Home.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"362ee65f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"react16\",\"url\":_vm.react16Url,\"sync\":true,\"fetch\":_vm.fetch,\"props\":_vm.props,\"degrade\":_vm.degrade,\"plugins\":_vm.plugins,\"prefix\":{ 'prefix-dialog': '/dialog', 'prefix-location': '/location' },\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const map = {\n  \"//localhost:7100\": \"//wujie-react17.pages.woa.com\",\n  \"//localhost:7200\": \"//wujie-vue2.pages.woa.com\",\n  \"//localhost:7300\": \"//wujie-vue3.pages.woa.com\",\n  \"//localhost:7400\": \"//wujie-angular12.pages.woa.com\",\n  \"//localhost:7500\": \"//wujie-vite.pages.woa.com\",\n  \"//localhost:7600\": \"//wujie-react16.pages.woa.com\",\n};\n\nexport default function hostMap(host) {\n  if (process.env.NODE_ENV === \"production\") return map[host];\n  return host;\n}\n","// woacredential\nexport default function fetch(url, options) {\n  const includeFlag = process.env.NODE_ENV === \"production\" && !url.includes(\"//vfiles.gtimg.cn/\");\n  return window.fetch(url, { ...options, credentials: includeFlag ? \"include\" : \"omit\" });\n}\n","const lifecycles = {\n  beforeLoad: (appWindow) => console.log(`${appWindow.__WUJIE.id} beforeLoad `),\n  beforeMount: (appWindow) => console.log(`${appWindow.__WUJIE.id} beforeMount `),\n  afterMount: (appWindow) => console.log(`${appWindow.__WUJIE.id} afterMount `),\n  beforeUnmount: (appWindow) => console.log(`${appWindow.__WUJIE.id} beforeUnmount `),\n  afterUnmount: (appWindow) => console.log(`${appWindow.__WUJIE.id} afterUnmount `),\n  activated: (appWindow) => console.log(`${appWindow.__WUJIE.id} activated `),\n  deactivated: (appWindow) => console.log(`${appWindow.__WUJIE.id} deactivated `),\n  loadError: (url, e) => console.log(`${url} `, e),\n};\n\nexport default lifecycles;\n","const plugins = [\n  {\n    htmlLoader: (code) => {\n      console.log(\"html-loader\");\n      return code;\n    },\n    jsBeforeLoaders: [\n      {\n        callback(appWindow) {\n          console.log(\"js-before-loader-callback\", appWindow.__WUJIE.id);\n        },\n      },\n    ],\n    jsLoader: (code, url) => {\n      console.log(\"js-loader\", url);\n      return code;\n    },\n    jsAfterLoaders: [\n      {\n        callback(appWindow) {\n          console.log(\"js-after-loader-callback\", appWindow.__WUJIE.id);\n        },\n      },\n    ],\n    cssBeforeLoaders: [\n      //html\n      { src: \"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/HDaBURp7.css\" },\n      //html\n      { content: \"img{width: 300px}\" },\n    ],\n    cssLoader: (code, url) => {\n      console.log(\"css-loader\", url, code.slice(0, 50) + \"...\");\n      return code;\n    },\n    cssAfterLoaders: [\n      //html\n      { src: \"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/FQsK8IN6.css\" },\n      //html\n      { content: \"img{height: 300px}\" },\n    ],\n  },\n];\n\nexport default plugins;\n","<template>\n  <WujieVue\n    width=\"100%\"\n    height=\"100%\"\n    name=\"react16\"\n    :url=\"react16Url\"\n    :sync=\"true\"\n    :fetch=\"fetch\"\n    :props=\"props\"\n    :degrade=\"degrade\"\n    :plugins=\"plugins\"\n    :prefix=\"{ 'prefix-dialog': '/dialog', 'prefix-location': '/location' }\"\n    :beforeLoad=\"lifecycles.beforeLoad\"\n    :beforeMount=\"lifecycles.beforeMount\"\n    :afterMount=\"lifecycles.afterMount\"\n    :beforeUnmount=\"lifecycles.beforeUnmount\"\n    :afterUnmount=\"lifecycles.afterUnmount\"\n    :activated=\"lifecycles.activated\"\n    :deactivated=\"lifecycles.deactivated\"\n    :loadError=\"lifecycles.loadError\"\n  ></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport fetch from \"../fetch\";\nimport lifecycles from \"../lifecycle\";\nimport plugins from \"../plugin\";\nexport default {\n  data() {\n    return {\n      react16Url: hostMap(\"//localhost:7600\"),\n      props: { jump: this.jump },\n      fetch,\n      lifecycles,\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\",\n      plugins,\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./React16.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./React16.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./React16.vue?vue&type=template&id=9a5b7ec8&scoped=true&\"\nimport script from \"./React16.vue?vue&type=script&lang=js&\"\nexport * from \"./React16.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a5b7ec8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"react17\",\"url\":_vm.react17Url,\"sync\":true,\"alive\":true,\"fetch\":_vm.fetch,\"degrade\":_vm.degrade,\"props\":_vm.props,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <WujieVue\n    width=\"100%\"\n    height=\"100%\"\n    name=\"react17\"\n    :url=\"react17Url\"\n    :sync=\"true\"\n    :alive=\"true\"\n    :fetch=\"fetch\"\n    :degrade=\"degrade\"\n    :props=\"props\"\n    :beforeLoad=\"lifecycles.beforeLoad\"\n    :beforeMount=\"lifecycles.beforeMount\"\n    :afterMount=\"lifecycles.afterMount\"\n    :beforeUnmount=\"lifecycles.beforeUnmount\"\n    :afterUnmount=\"lifecycles.afterUnmount\"\n    :activated=\"lifecycles.activated\"\n    :deactivated=\"lifecycles.deactivated\"\n    :loadError=\"lifecycles.loadError\"\n  ></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport fetch from \"../fetch\";\nimport lifecycles from \"../lifecycle\";\nexport default {\n  data() {\n    return {\n      react17Url: hostMap(\"//localhost:7100\"),\n      props: { jump: this.jump },\n      fetch,\n      lifecycles,\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\",\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./React17.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./React17.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./React17.vue?vue&type=template&id=cc0d1a16&scoped=true&\"\nimport script from \"./React17.vue?vue&type=script&lang=js&\"\nexport * from \"./React17.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cc0d1a16\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vue2\",\"url\":_vm.vue2Url,\"props\":_vm.props,\"sync\":true,\"fetch\":_vm.fetch,\"degrade\":_vm.degrade,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <WujieVue\n    width=\"100%\"\n    height=\"100%\"\n    name=\"vue2\"\n    :url=\"vue2Url\"\n    :props=\"props\"\n    :sync=\"true\"\n    :fetch=\"fetch\"\n    :degrade=\"degrade\"\n    :beforeLoad=\"lifecycles.beforeLoad\"\n    :beforeMount=\"lifecycles.beforeMount\"\n    :afterMount=\"lifecycles.afterMount\"\n    :beforeUnmount=\"lifecycles.beforeUnmount\"\n    :afterUnmount=\"lifecycles.afterUnmount\"\n    :activated=\"lifecycles.activated\"\n    :deactivated=\"lifecycles.deactivated\"\n    :loadError=\"lifecycles.loadError\"\n  ></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport fetch from \"../fetch\";\nimport lifecycles from \"../lifecycle\";\nexport default {\n  data() {\n    return {\n      vue2Url: hostMap(\"//localhost:7200\"),\n      props: { jump: this.jump },\n      fetch,\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\",\n      lifecycles,\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vue2.vue?vue&type=template&id=aa1f3d98&scoped=true&\"\nimport script from \"./Vue2.vue?vue&type=script&lang=js&\"\nexport * from \"./Vue2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa1f3d98\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vite\",\"url\":_vm.viteUrl,\"sync\":true,\"fetch\":_vm.fetch,\"props\":_vm.props,\"degrade\":_vm.degrade,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <WujieVue\n    width=\"100%\"\n    height=\"100%\"\n    name=\"vite\"\n    :url=\"viteUrl\"\n    :sync=\"true\"\n    :fetch=\"fetch\"\n    :props=\"props\"\n    :degrade=\"degrade\"\n    :beforeLoad=\"lifecycles.beforeLoad\"\n    :beforeMount=\"lifecycles.beforeMount\"\n    :afterMount=\"lifecycles.afterMount\"\n    :beforeUnmount=\"lifecycles.beforeUnmount\"\n    :afterUnmount=\"lifecycles.afterUnmount\"\n    :activated=\"lifecycles.activated\"\n    :deactivated=\"lifecycles.deactivated\"\n    :loadError=\"lifecycles.loadError\"\n  ></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport fetch from \"../fetch\";\nimport lifecycles from \"../lifecycle\";\n\nexport default {\n  data() {\n    return {\n      viteUrl: hostMap(\"//localhost:7500\"),\n      fetch,\n      props: { jump: this.jump },\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\",\n      lifecycles,\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vite.vue?vue&type=template&id=7e0db83e&scoped=true&\"\nimport script from \"./Vite.vue?vue&type=script&lang=js&\"\nexport * from \"./Vite.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e0db83e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vue3\",\"url\":_vm.vue3Url,\"sync\":true,\"fetch\":_vm.fetch,\"alive\":true,\"props\":_vm.props,\"degrade\":_vm.degrade,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError,\"plugins\":[{ cssExcludes: ['https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'] }]}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <WujieVue\n    width=\"100%\"\n    height=\"100%\"\n    name=\"vue3\"\n    :url=\"vue3Url\"\n    :sync=\"true\"\n    :fetch=\"fetch\"\n    :alive=\"true\"\n    :props=\"props\"\n    :degrade=\"degrade\"\n    :beforeLoad=\"lifecycles.beforeLoad\"\n    :beforeMount=\"lifecycles.beforeMount\"\n    :afterMount=\"lifecycles.afterMount\"\n    :beforeUnmount=\"lifecycles.beforeUnmount\"\n    :afterUnmount=\"lifecycles.afterUnmount\"\n    :activated=\"lifecycles.activated\"\n    :deactivated=\"lifecycles.deactivated\"\n    :loadError=\"lifecycles.loadError\"\n    :plugins=\"[{ cssExcludes: ['https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'] }]\"\n  ></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport fetch from \"../fetch\";\nimport lifecycles from \"../lifecycle\";\nexport default {\n  data() {\n    return {\n      vue3Url: hostMap(\"//localhost:7300\"),\n      props: { jump: this.jump },\n      lifecycles,\n      // credentials\n      fetch: (url, options) =>\n        url.includes(hostMap(\"//localhost:7300\")) ? fetch(url, options) : window.fetch(url, options),\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\",\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue3.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue3.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vue3.vue?vue&type=template&id=5a0e97ef&scoped=true&\"\nimport script from \"./Vue3.vue?vue&type=script&lang=js&\"\nexport * from \"./Vue3.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a0e97ef\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WujieVue',{staticClass:\"angular-container\",attrs:{\"name\":\"angular12\",\"url\":_vm.url,\"fetch\":_vm.fetch,\"sync\":true,\"degrade\":_vm.degrade,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <WujieVue\n    class=\"angular-container\"\n    name=\"angular12\"\n    :url=\"url\"\n    :fetch=\"fetch\"\n    :sync=\"true\"\n    :degrade=\"degrade\"\n    :beforeLoad=\"lifecycles.beforeLoad\"\n    :beforeMount=\"lifecycles.beforeMount\"\n    :afterMount=\"lifecycles.afterMount\"\n    :beforeUnmount=\"lifecycles.beforeUnmount\"\n    :afterUnmount=\"lifecycles.afterUnmount\"\n    :activated=\"lifecycles.activated\"\n    :deactivated=\"lifecycles.deactivated\"\n    :loadError=\"lifecycles.loadError\"\n  ></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport fetch from \"../fetch\";\nimport lifecycles from \"../lifecycle\";\n\nexport default {\n  data() {\n    return {\n      url: hostMap(\"//localhost:7400\"),\n      fetch,\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\",\n      lifecycles,\n    };\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n.angular-container {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Angular12.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Angular12.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Angular12.vue?vue&type=template&id=297a8f25&scoped=true&\"\nimport script from \"./Angular12.vue?vue&type=script&lang=js&\"\nexport * from \"./Angular12.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Angular12.vue?vue&type=style&index=0&id=297a8f25&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"297a8f25\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"react16\",\"url\":_vm.react16Url,\"sync\":true,\"fetch\":_vm.fetch,\"props\":_vm.props,\"degrade\":_vm.degrade,\"prefix\":{ 'prefix-dialog': '/dialog', 'prefix-location': '/location' },\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"react17\",\"url\":_vm.react17Url,\"sync\":true,\"fetch\":_vm.fetch,\"props\":_vm.props,\"degrade\":_vm.degrade,\"alive\":true,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"vue2\",\"url\":_vm.vue2Url,\"props\":_vm.props,\"sync\":true,\"fetch\":_vm.fetch,\"degrade\":_vm.degrade,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"vue3\",\"url\":_vm.vue3Url,\"sync\":true,\"fetch\":_vm.vue3Fetch,\"props\":_vm.props,\"degrade\":_vm.degrade,\"alive\":true,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"vite\",\"url\":_vm.vite,\"sync\":true,\"fetch\":_vm.fetch,\"props\":_vm.props,\"degrade\":_vm.degrade,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"angular12\",\"url\":_vm.angular12Url,\"sync\":true,\"fetch\":_vm.fetch,\"props\":_vm.props,\"degrade\":_vm.degrade,\"beforeLoad\":_vm.lifecycles.beforeLoad,\"beforeMount\":_vm.lifecycles.beforeMount,\"afterMount\":_vm.lifecycles.afterMount,\"beforeUnmount\":_vm.lifecycles.beforeUnmount,\"afterUnmount\":_vm.lifecycles.afterUnmount,\"activated\":_vm.lifecycles.activated,\"deactivated\":_vm.lifecycles.deactivated,\"loadError\":_vm.lifecycles.loadError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height: 100%; width: 100%\">\n    <WujieVue\n      class=\"item\"\n      name=\"react16\"\n      :url=\"react16Url\"\n      :sync=\"true\"\n      :fetch=\"fetch\"\n      :props=\"props\"\n      :degrade=\"degrade\"\n      :prefix=\"{ 'prefix-dialog': '/dialog', 'prefix-location': '/location' }\"\n      :beforeLoad=\"lifecycles.beforeLoad\"\n      :beforeMount=\"lifecycles.beforeMount\"\n      :afterMount=\"lifecycles.afterMount\"\n      :beforeUnmount=\"lifecycles.beforeUnmount\"\n      :afterUnmount=\"lifecycles.afterUnmount\"\n      :activated=\"lifecycles.activated\"\n      :deactivated=\"lifecycles.deactivated\"\n      :loadError=\"lifecycles.loadError\"\n    ></WujieVue>\n    <WujieVue\n      class=\"item\"\n      name=\"react17\"\n      :url=\"react17Url\"\n      :sync=\"true\"\n      :fetch=\"fetch\"\n      :props=\"props\"\n      :degrade=\"degrade\"\n      :alive=\"true\"\n      :beforeLoad=\"lifecycles.beforeLoad\"\n      :beforeMount=\"lifecycles.beforeMount\"\n      :afterMount=\"lifecycles.afterMount\"\n      :beforeUnmount=\"lifecycles.beforeUnmount\"\n      :afterUnmount=\"lifecycles.afterUnmount\"\n      :activated=\"lifecycles.activated\"\n      :deactivated=\"lifecycles.deactivated\"\n      :loadError=\"lifecycles.loadError\"\n    ></WujieVue>\n    <WujieVue\n      class=\"item\"\n      name=\"vue2\"\n      :url=\"vue2Url\"\n      :props=\"props\"\n      :sync=\"true\"\n      :fetch=\"fetch\"\n      :degrade=\"degrade\"\n      :beforeLoad=\"lifecycles.beforeLoad\"\n      :beforeMount=\"lifecycles.beforeMount\"\n      :afterMount=\"lifecycles.afterMount\"\n      :beforeUnmount=\"lifecycles.beforeUnmount\"\n      :afterUnmount=\"lifecycles.afterUnmount\"\n      :activated=\"lifecycles.activated\"\n      :deactivated=\"lifecycles.deactivated\"\n      :loadError=\"lifecycles.loadError\"\n    ></WujieVue>\n    <WujieVue\n      class=\"item\"\n      name=\"vue3\"\n      :url=\"vue3Url\"\n      :sync=\"true\"\n      :fetch=\"vue3Fetch\"\n      :props=\"props\"\n      :degrade=\"degrade\"\n      :alive=\"true\"\n      :beforeLoad=\"lifecycles.beforeLoad\"\n      :beforeMount=\"lifecycles.beforeMount\"\n      :afterMount=\"lifecycles.afterMount\"\n      :beforeUnmount=\"lifecycles.beforeUnmount\"\n      :afterUnmount=\"lifecycles.afterUnmount\"\n      :activated=\"lifecycles.activated\"\n      :deactivated=\"lifecycles.deactivated\"\n      :loadError=\"lifecycles.loadError\"\n    ></WujieVue>\n    <WujieVue\n      class=\"item\"\n      name=\"vite\"\n      :url=\"vite\"\n      :sync=\"true\"\n      :fetch=\"fetch\"\n      :props=\"props\"\n      :degrade=\"degrade\"\n      :beforeLoad=\"lifecycles.beforeLoad\"\n      :beforeMount=\"lifecycles.beforeMount\"\n      :afterMount=\"lifecycles.afterMount\"\n      :beforeUnmount=\"lifecycles.beforeUnmount\"\n      :afterUnmount=\"lifecycles.afterUnmount\"\n      :activated=\"lifecycles.activated\"\n      :deactivated=\"lifecycles.deactivated\"\n      :loadError=\"lifecycles.loadError\"\n    ></WujieVue>\n    <WujieVue\n      class=\"item\"\n      name=\"angular12\"\n      :url=\"angular12Url\"\n      :sync=\"true\"\n      :fetch=\"fetch\"\n      :props=\"props\"\n      :degrade=\"degrade\"\n      :beforeLoad=\"lifecycles.beforeLoad\"\n      :beforeMount=\"lifecycles.beforeMount\"\n      :afterMount=\"lifecycles.afterMount\"\n      :beforeUnmount=\"lifecycles.beforeUnmount\"\n      :afterUnmount=\"lifecycles.afterUnmount\"\n      :activated=\"lifecycles.activated\"\n      :deactivated=\"lifecycles.deactivated\"\n      :loadError=\"lifecycles.loadError\"\n    ></WujieVue>\n  </div>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport fetch from \"../fetch\";\nimport lifecycles from \"../lifecycle\";\n\nexport default {\n  data() {\n    return {\n      react16Url: hostMap(\"//localhost:7600\"),\n      react17Url: hostMap(\"//localhost:7100\"),\n      vue2Url: hostMap(\"//localhost:7200\"),\n      vue3Url: hostMap(\"//localhost:7300\"),\n      vite: hostMap(\"//localhost:7500\"),\n      angular12Url: hostMap(\"//localhost:7400\"),\n      props: { jump: this.jump },\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\",\n      fetch,\n      lifecycles,\n      vue3Fetch: (url, options) =>\n        url.includes(hostMap(\"//localhost:7300\")) ? fetch(url, options) : window.fetch(url, options),\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.item {\n  display: inline-block;\n  border: 1px dashed #ccc;\n  border-radius: 8px;\n  width: 45%;\n  height: 45%;\n  margin: 20px;\n  overflow: scroll;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Multiple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Multiple.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Multiple.vue?vue&type=template&id=3663915e&scoped=true&\"\nimport script from \"./Multiple.vue?vue&type=script&lang=js&\"\nexport * from \"./Multiple.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Multiple.vue?vue&type=style&index=0&id=3663915e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3663915e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"contain\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// \nexport const WUJIE_DATA_ID = \"data-wujie-id\";\nexport const WUJIE_DATA_FLAG = \"data-wujie-Flag\";\nexport const WUJIE_DATA_ATTACH_CSS_FLAG = \"data-wujie-attach-css-flag\";\n\n// \nexport const WUJIE_IFRAME_CLASS = \"wujie_iframe\";\nexport const WUJIE_ALL_EVENT = \"_wujie_all_event\";\nexport const WUJIE_SHADE_STYLE =\n  \"position: fixed; z-index: 2147483647; visibility: hidden; inset: 0px; backface-visibility: hidden;\";\n\n// \nexport const WUJIE_TIPS_NO_URL = \"url\";\nexport const WUJIE_TIPS_RELOAD_DISABLED = \"reload\";\nexport const WUJIE_TIPS_STOP_APP = \"iframe\";\nexport const WUJIE_TIPS_NO_SUBJECT = \"\";\nexport const WUJIE_TIPS_NO_FETCH = \"windowfetchpolyfill\";\nexport const WUJIE_TIPS_EMPTY_CALLBACK = \"\";\nexport const WUJIE_TIPS_NOT_SUPPORTED = \"iframe\";\nexport const WUJIE_TIPS_SCRIPT_ERROR_REQUESTED = \"\";\nexport const WUJIE_TIPS_CSS_ERROR_REQUESTED = \"\";\n","import { WUJIE_TIPS_NO_URL, WUJIE_DATA_ID } from \"./constant\";\nimport { plugin } from \"./index\";\n\nexport function toArray<T>(array: T | T[]): T[] {\n  return Array.isArray(array) ? array : [array];\n}\n\nexport function isFunction(value: any): boolean {\n  return typeof value === \"function\";\n}\n\nexport function isHijackingTag(tagName?: string) {\n  return (\n    tagName?.toUpperCase() === \"LINK\" ||\n    tagName?.toUpperCase() === \"STYLE\" ||\n    tagName?.toUpperCase() === \"SCRIPT\" ||\n    tagName?.toUpperCase() === \"IFRAME\"\n  );\n}\n\nexport const wujieSupport = window.Proxy && window.CustomElementRegistry;\n\n/**\n * in safari\n * typeof document.all === 'undefined' // true\n * typeof document.all === 'function' // true\n * We need to discriminate safari for better performance\n */\nconst naughtySafari = typeof document.all === \"function\" && typeof document.all === \"undefined\";\nconst callableFnCacheMap = new WeakMap<CallableFunction, boolean>();\nexport const isCallable = (fn: any) => {\n  if (callableFnCacheMap.has(fn)) {\n    return true;\n  }\n\n  const callable = naughtySafari ? typeof fn === \"function\" && typeof fn !== \"undefined\" : typeof fn === \"function\";\n  if (callable) {\n    callableFnCacheMap.set(fn, callable);\n  }\n  return callable;\n};\n\nconst boundedMap = new WeakMap<CallableFunction, boolean>();\nexport function isBoundedFunction(fn: CallableFunction) {\n  if (boundedMap.has(fn)) {\n    return boundedMap.get(fn);\n  }\n  const bounded = fn.name.indexOf(\"bound \") === 0 && !fn.hasOwnProperty(\"prototype\");\n  boundedMap.set(fn, bounded);\n  return bounded;\n}\n\nconst fnRegexCheckCacheMap = new WeakMap<any | FunctionConstructor, boolean>();\nexport function isConstructable(fn: () => any | FunctionConstructor) {\n  const hasPrototypeMethods =\n    fn.prototype && fn.prototype.constructor === fn && Object.getOwnPropertyNames(fn.prototype).length > 1;\n\n  if (hasPrototypeMethods) return true;\n\n  if (fnRegexCheckCacheMap.has(fn)) {\n    return fnRegexCheckCacheMap.get(fn);\n  }\n\n  let constructable = hasPrototypeMethods;\n  if (!constructable) {\n    const fnString = fn.toString();\n    const constructableFunctionRegex = /^function\\b\\s[A-Z].*/;\n    const classRegex = /^class\\b/;\n    constructable = constructableFunctionRegex.test(fnString) || classRegex.test(fnString);\n  }\n\n  fnRegexCheckCacheMap.set(fn, constructable);\n  return constructable;\n}\n\nexport function getTargetValue(target: any, p: any): any {\n  const value = target[p];\n  if (isCallable(value) && !isBoundedFunction(value) && !isConstructable(value)) {\n    const boundValue = Function.prototype.bind.call(value, target);\n\n    for (const key in value) {\n      boundValue[key] = value[key];\n    }\n    if (value.hasOwnProperty(\"prototype\") && !boundValue.hasOwnProperty(\"prototype\")) {\n      // https://github.com/kuitos/kuitos.github.io/issues/47\n      Object.defineProperty(boundValue, \"prototype\", { value: value.prototype, enumerable: false, writable: true });\n    }\n    return boundValue;\n  }\n  return value;\n}\n\nexport function getDegradeIframe(id: string): HTMLIFrameElement {\n  return window.document.querySelector(`iframe[${WUJIE_DATA_ID}=\"${id}\"]`);\n}\n\nexport function appRouteParse(url: string): {\n  urlElement: HTMLAnchorElement;\n  appHostPath: string;\n  appRoutePath: string;\n} {\n  if (!url) {\n    error(WUJIE_TIPS_NO_URL);\n    throw new Error();\n  }\n  const urlElement = anchorElementGenerator(url);\n  const appHostPath = urlElement.protocol + \"//\" + urlElement.host;\n  const appRoutePath = urlElement.pathname + urlElement.search + urlElement.hash;\n  return { urlElement, appHostPath, appRoutePath };\n}\n\nexport function anchorElementGenerator(url: string): HTMLAnchorElement {\n  const element = window.document.createElement(\"a\");\n  element.href = url;\n  return element;\n}\n\nexport function getAnchorElementQueryMap(anchorElement: HTMLAnchorElement): { [key: string]: string } {\n  const queryList = anchorElement.search.replace(\"?\", \"\").split(\"&\");\n  const queryMap = {};\n  queryList.forEach((query) => {\n    const [key, value] = query.split(\"=\");\n    if (key && value) queryMap[key] = value;\n  });\n  return queryMap;\n}\n\n/**\n * urlid\n */\nexport function isMatchSyncQueryById(id: string): boolean {\n  const queryMap = getAnchorElementQueryMap(anchorElementGenerator(window.location.href));\n  return Object.keys(queryMap).includes(id);\n}\n\n/**\n * \n * @param iframeWindow\n */\nexport function fixElementCtrSrcOrHref(\n  iframeWindow: Window,\n  elementCtr:\n    | typeof HTMLImageElement\n    | typeof HTMLAnchorElement\n    | typeof HTMLSourceElement\n    | typeof HTMLLinkElement\n    | typeof HTMLScriptElement,\n  attr\n): void {\n  // patch setAttribute\n  const rawElementSetAttribute = iframeWindow.Element.prototype.setAttribute;\n  elementCtr.prototype.setAttribute = function (name: string, value: string): void {\n    let targetValue = value;\n    if (name === attr) targetValue = new URL(value, this.baseURI || \"\").href;\n    rawElementSetAttribute.call(this, name, targetValue);\n  };\n  // patch href get and set\n  const rawAnchorElementHrefDescriptor = Object.getOwnPropertyDescriptor(elementCtr.prototype, attr);\n  const { enumerable, configurable, get, set } = rawAnchorElementHrefDescriptor;\n  Object.defineProperty(elementCtr.prototype, attr, {\n    enumerable,\n    configurable,\n    get: function () {\n      return get.call(this);\n    },\n    set: function (href) {\n      set.call(this, new URL(href, this.baseURI).href);\n    },\n  });\n  // TODO: innerHTML\n}\n\n/**\n * url\n */\nexport function getSyncUrl(id: string, prefix: { [key: string]: string }): string {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  winUrlElement = null;\n  const syncUrl = window.decodeURIComponent(queryMap[id] || \"\");\n  const validShortPath = syncUrl.match(/^{([^}]*)}/)?.[1];\n  if (prefix && validShortPath) {\n    return syncUrl.replace(`{${validShortPath}}`, prefix[validShortPath]);\n  }\n  return syncUrl;\n}\n// @ts-ignore\nexport const requestIdleCallback = window.requestIdleCallback || ((cb: Function) => setTimeout(cb, 1));\n\nexport function getContainer(container: string | HTMLElement): HTMLElement {\n  return typeof container === \"string\" ? (document.querySelector(container) as HTMLElement) : container;\n}\n\nexport function warn(msg: string, data?: any): void {\n  console?.warn(`[wujie warn]: ${msg}`, data);\n}\n\nexport function error(msg: string, data?: any): void {\n  console?.error(`[wujie error]: ${msg}`, data);\n}\n\nexport function getInlineCode(match) {\n  const start = match.indexOf(\">\") + 1;\n  const end = match.lastIndexOf(\"<\");\n  return match.substring(start, end);\n}\n\nexport function defaultGetPublicPath(entry) {\n  if (typeof entry === \"object\") {\n    return \"/\";\n  }\n  try {\n    const { origin, pathname } = new URL(entry, location.href);\n    const paths = pathname.split(\"/\");\n    // \n    paths.pop();\n    return `${origin}${paths.join(\"/\")}/`;\n  } catch (e) {\n    console.warn(e);\n    return \"\";\n  }\n}\n\n/** [f1, f2, f3, f4] => f4(f3(f2(f1)))  */\nexport function compose(fnList: Array<Function>): (...args: Array<string>) => string {\n  return function (code: string, ...args: Array<any>) {\n    return fnList.reduce((newCode, fn) => (isFunction(fn) ? fn(newCode, ...args) : newCode), code || \"\");\n  };\n}\n\n// \nexport function nextTick(cb: () => any): void {\n  Promise.resolve().then(cb);\n}\n\n//\nexport function execHooks(plugins: Array<plugin>, hookName: string, ...args: Array<any>): void {\n  try {\n    plugins\n      .map((plugin) => plugin[hookName])\n      .filter((hook) => isFunction(hook))\n      .forEach((hook) => hook(...args));\n  } catch (e) {\n    error(e);\n  }\n}\n","/**\n * @author damyxu\n * @reference import-html-entry\n * html\n */\nimport { getInlineCode } from \"./utils\";\n\nconst ALL_SCRIPT_REGEX = /(<script[\\s\\S]*?>)[\\s\\S]*?<\\/script>/gi;\nconst SCRIPT_TAG_REGEX = /<(script)\\s+((?!type=('|\")text\\/ng-template\\3).)*?>.*?<\\/\\1>/is;\nconst SCRIPT_SRC_REGEX = /.*\\ssrc=('|\")?([^>'\"\\s]+)/;\nconst SCRIPT_TYPE_REGEX = /.*\\stype=('|\")?([^>'\"\\s]+)/;\nconst SCRIPT_ENTRY_REGEX = /.*\\sentry\\s*.*/;\nconst SCRIPT_ASYNC_REGEX = /.*\\sasync\\s*.*/;\nconst DEFER_ASYNC_REGEX = /.*\\sdefer\\s*.*/;\nconst SCRIPT_NO_MODULE_REGEX = /.*\\snomodule\\s*.*/;\nconst SCRIPT_MODULE_REGEX = /.*\\stype=('|\")?module('|\")?\\s*.*/;\nconst LINK_TAG_REGEX = /<(link)\\s+.*?>/gis;\nconst LINK_PRELOAD_OR_PREFETCH_REGEX = /\\srel=('|\")?(preload|prefetch|modulepreload)\\1/;\nconst LINK_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nconst LINK_AS_FONT = /.*\\sas=('|\")?font\\1.*/;\nconst STYLE_TAG_REGEX = /<style[^>]*>[\\s\\S]*?<\\/style>/gi;\nconst STYLE_TYPE_REGEX = /\\s+rel=('|\")?stylesheet\\1.*/;\nconst STYLE_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nconst HTML_COMMENT_REGEX = /<!--([\\s\\S]*?)-->/g;\nconst LINK_IGNORE_REGEX = /<link(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst STYLE_IGNORE_REGEX = /<style(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst SCRIPT_IGNORE_REGEX = /<script(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst CROSS_ORIGIN_REGEX = /.*\\scrossorigin=?('|\")?(use-credentials|anonymous)?('|\")?/i;\n\n/**  */\nexport interface ScriptBaseObject {\n  /**  */\n  src?: string;\n  /** async */\n  async?: boolean;\n  /** defer */\n  defer?: boolean;\n  /** module */\n  module?: boolean;\n  /** crossorigin */\n  crossorigin?: boolean;\n  /** crossorigin */\n  crossoriginType?: \"anonymous\" | \"use-credentials\" | \"\";\n}\nexport type ScriptObject = ScriptBaseObject & {\n  /** script */\n  content?: string;\n};\n\n/**  */\nexport interface StyleObject {\n  /**   */\n  src?: string;\n  /**  */\n  content?: string;\n}\n\nexport interface TemplateResult {\n  template: string;\n  scripts: ScriptObject[];\n  styles: StyleObject[];\n  entry: string | ScriptObject;\n}\n\nfunction hasProtocol(url) {\n  return url.startsWith(\"//\") || url.startsWith(\"http://\") || url.startsWith(\"https://\");\n}\n\nfunction getEntirePath(path, baseURI) {\n  return new URL(path, baseURI).toString();\n}\n\nfunction isValidJavaScriptType(type) {\n  const handleTypes = [\n    \"text/javascript\",\n    \"module\",\n    \"application/javascript\",\n    \"text/ecmascript\",\n    \"application/ecmascript\",\n  ];\n  return !type || handleTypes.indexOf(type) !== -1;\n}\n\nfunction isModuleScriptSupported() {\n  const s = window.document.createElement(\"script\");\n  return \"noModule\" in s;\n}\n\nexport const genLinkReplaceSymbol = (linkHref, preloadOrPrefetch = false) =>\n  `<!-- ${preloadOrPrefetch ? \"prefetch/preload/modulepreload\" : \"\"} link ${linkHref} replaced by wujie -->`;\nexport const getInlineStyleReplaceSymbol = (index) => `<!-- inline-style-${index} replaced by wujie -->`;\nexport const genScriptReplaceSymbol = (scriptSrc, type = \"\") =>\n  `<!-- ${type} script ${scriptSrc} replaced by wujie -->`;\nexport const inlineScriptReplaceSymbol = \"<!-- inline scripts replaced by wujie -->\";\nexport const genIgnoreAssetReplaceSymbol = (url) => `<!-- ignore asset ${url || \"file\"} replaced by wujie -->`;\nexport const genModuleScriptReplaceSymbol = (scriptSrc, moduleSupport) =>\n  `<!-- ${moduleSupport ? \"nomodule\" : \"module\"} script ${scriptSrc} ignored by wujie -->`;\n\n/**\n * parse the script link from the template\n * 1. collect stylesheets\n * 2. use global eval to evaluate the inline scripts\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function#Difference_between_Function_constructor_and_function_declaration\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval#Do_not_ever_use_eval!\n * @param tpl\n * @param baseURI\n * @stripStyles whether to strip the css links\n * @returns {{template: void | string | *, scripts: *[], entry: *}}\n */\nexport default function processTpl(tpl: String, baseURI: String, postProcessTemplate?: Function): TemplateResult {\n  const scripts: ScriptObject[] = [];\n  const styles: StyleObject[] = [];\n  let entry = null;\n  const moduleSupport = isModuleScriptSupported();\n  const template = tpl\n\n    /*\n     remove html comment first\n     */\n    .replace(HTML_COMMENT_REGEX, \"\")\n\n    .replace(LINK_TAG_REGEX, (match) => {\n      /*\n       change the css link\n       */\n      const styleType = !!match.match(STYLE_TYPE_REGEX);\n      if (styleType) {\n        const styleHref = match.match(STYLE_HREF_REGEX);\n        const styleIgnore = match.match(LINK_IGNORE_REGEX);\n\n        if (styleHref) {\n          const href = styleHref && styleHref[2];\n          let newHref = href;\n\n          if (href && !hasProtocol(href)) {\n            newHref = getEntirePath(href, baseURI);\n          }\n          if (styleIgnore) {\n            return genIgnoreAssetReplaceSymbol(newHref);\n          }\n\n          styles.push({ src: newHref });\n          return genLinkReplaceSymbol(newHref);\n        }\n      }\n\n      const preloadOrPrefetchType =\n        match.match(LINK_PRELOAD_OR_PREFETCH_REGEX) && match.match(LINK_HREF_REGEX) && !match.match(LINK_AS_FONT);\n      if (preloadOrPrefetchType) {\n        const [, , linkHref] = match.match(LINK_HREF_REGEX);\n        return genLinkReplaceSymbol(linkHref, true);\n      }\n\n      return match;\n    })\n    .replace(STYLE_TAG_REGEX, (match) => {\n      if (STYLE_IGNORE_REGEX.test(match)) {\n        return genIgnoreAssetReplaceSymbol(\"style file\");\n      } else {\n        const code = getInlineCode(match);\n        styles.push({ src: \"\", content: code });\n        return getInlineStyleReplaceSymbol(styles.length - 1);\n      }\n    })\n    .replace(ALL_SCRIPT_REGEX, (match, scriptTag) => {\n      const scriptIgnore = scriptTag.match(SCRIPT_IGNORE_REGEX);\n      const isModuleScript = !!scriptTag.match(SCRIPT_MODULE_REGEX);\n      const isCrossOriginScript = scriptTag.match(CROSS_ORIGIN_REGEX);\n      const crossOriginType = isCrossOriginScript?.[2] || \"\";\n      const moduleScriptIgnore =\n        (moduleSupport && !!scriptTag.match(SCRIPT_NO_MODULE_REGEX)) || (!moduleSupport && isModuleScript);\n      // in order to keep the exec order of all javascripts\n\n      const matchedScriptTypeMatch = scriptTag.match(SCRIPT_TYPE_REGEX);\n      const matchedScriptType = matchedScriptTypeMatch && matchedScriptTypeMatch[2];\n      if (!isValidJavaScriptType(matchedScriptType)) {\n        return match;\n      }\n\n      // if it is a external script\n      if (SCRIPT_TAG_REGEX.test(match) && scriptTag.match(SCRIPT_SRC_REGEX)) {\n        /*\n         collect scripts and replace the ref\n         */\n\n        const matchedScriptEntry = scriptTag.match(SCRIPT_ENTRY_REGEX);\n        const matchedScriptSrcMatch = scriptTag.match(SCRIPT_SRC_REGEX);\n        let matchedScriptSrc = matchedScriptSrcMatch && matchedScriptSrcMatch[2];\n\n        if (entry && matchedScriptEntry) {\n          throw new SyntaxError(\"You should not set multiply entry script!\");\n        } else {\n          // append the domain while the script not have an protocol prefix\n          if (matchedScriptSrc && !hasProtocol(matchedScriptSrc)) {\n            matchedScriptSrc = getEntirePath(matchedScriptSrc, baseURI);\n          }\n\n          entry = entry || (matchedScriptEntry && matchedScriptSrc);\n        }\n\n        if (scriptIgnore) {\n          return genIgnoreAssetReplaceSymbol(matchedScriptSrc || \"js file\");\n        }\n\n        if (moduleScriptIgnore) {\n          return genModuleScriptReplaceSymbol(matchedScriptSrc || \"js file\", moduleSupport);\n        }\n\n        if (matchedScriptSrc) {\n          const isAsyncScript = !!scriptTag.match(SCRIPT_ASYNC_REGEX);\n          const isDeferScript = !!scriptTag.match(DEFER_ASYNC_REGEX);\n          scripts.push(\n            isAsyncScript || isDeferScript\n              ? {\n                  async: isAsyncScript,\n                  defer: isDeferScript,\n                  src: matchedScriptSrc,\n                  module: isModuleScript,\n                  crossorigin: !!isCrossOriginScript,\n                  crossoriginType: crossOriginType,\n                }\n              : {\n                  src: matchedScriptSrc,\n                  module: isModuleScript,\n                  crossorigin: !!isCrossOriginScript,\n                  crossoriginType: crossOriginType,\n                }\n          );\n          return genScriptReplaceSymbol(\n            matchedScriptSrc,\n            (isAsyncScript && \"async\") || (isDeferScript && \"defer\") || \"\"\n          );\n        }\n\n        return match;\n      } else {\n        if (scriptIgnore) {\n          return genIgnoreAssetReplaceSymbol(\"js file\");\n        }\n\n        if (moduleScriptIgnore) {\n          return genModuleScriptReplaceSymbol(\"js file\", moduleSupport);\n        }\n\n        // if it is an inline script\n        const code = getInlineCode(match);\n\n        // remove script blocks when all of these lines are comments.\n        const isPureCommentBlock = code.split(/[\\r\\n]+/).every((line) => !line.trim() || line.trim().startsWith(\"//\"));\n\n        if (!isPureCommentBlock && code) {\n          scripts.push({\n            src: null,\n            content: code,\n            module: isModuleScript,\n            crossorigin: !!isCrossOriginScript,\n            crossoriginType: crossOriginType,\n          });\n        }\n\n        return inlineScriptReplaceSymbol;\n      }\n    });\n\n  let tplResult = {\n    template,\n    scripts,\n    styles,\n    // set the last script as entry if have not set\n    entry: entry || scripts[scripts.length - 1],\n  };\n  if (typeof postProcessTemplate === \"function\") {\n    tplResult = postProcessTemplate(tplResult);\n  }\n\n  return tplResult;\n}\n","/**\n * @author damyxu\n * @reference import-html-entry\n * @since 2021-12-19\n * \n */\n\nimport processTpl, {\n  genLinkReplaceSymbol,\n  getInlineStyleReplaceSymbol,\n  ScriptObject,\n  ScriptBaseObject,\n  StyleObject,\n} from \"./template\";\nimport { defaultGetPublicPath, getInlineCode, requestIdleCallback, error, compose } from \"./utils\";\nimport { WUJIE_TIPS_NO_FETCH, WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, WUJIE_TIPS_CSS_ERROR_REQUESTED } from \"./constant\";\nimport Wujie from \"./sandbox\";\nimport { plugin, loadErrorHandler } from \"./index\";\n\nexport type ScriptResultList = (ScriptBaseObject & { contentPromise: Promise<string> })[];\nexport type StyleResultList = { src: string; contentPromise: Promise<string> }[];\n\ninterface htmlParseResult {\n  template: string;\n\n  assetPublicPath: string;\n\n  getExternalScripts(): ScriptResultList;\n\n  getExternalStyleSheets(): StyleResultList;\n}\n\ntype ImportEntryOpts = {\n  fetch?: typeof window.fetch;\n  plugins?: Array<plugin>;\n  loadError?: loadErrorHandler;\n};\n\nconst styleCache = {};\nconst scriptCache = {};\nconst embedHTMLCache = {};\n\nif (!window.fetch) {\n  error(WUJIE_TIPS_NO_FETCH);\n  throw new Error();\n}\nconst defaultFetch = window.fetch.bind(window);\n\nfunction defaultGetTemplate(tpl) {\n  return tpl;\n}\n\n/**\n * css-loader\n */\nexport async function processCssLoader(\n  sandbox: Wujie,\n  template: string,\n  getExternalStyleSheets: () => StyleResultList\n): Promise<string> {\n  /** css-loader */\n  const composeCssLoader = compose(sandbox.plugins.map((plugin) => plugin.cssLoader));\n  const processedCssList: StyleResultList = getExternalStyleSheets().map(({ src, contentPromise }) => ({\n    src,\n    contentPromise: contentPromise.then((content) => composeCssLoader(content, src)),\n  }));\n  const embedHTML = await getEmbedHTML(template, processedCssList);\n  return sandbox.replace ? sandbox.replace(embedHTML) : embedHTML;\n}\n\n/**\n * convert external css link to inline style for performance optimization\n * @return embedHTML\n */\nasync function getEmbedHTML(template, styleResultList: StyleResultList): Promise<string> {\n  let embedHTML = template;\n\n  return Promise.all(\n    styleResultList.map((scriptResult, index) =>\n      scriptResult.contentPromise.then((content) => {\n        if (scriptResult.src) {\n          embedHTML = embedHTML.replace(\n            genLinkReplaceSymbol(scriptResult.src),\n            `<style>/* ${scriptResult.src} */${content}</style>`\n          );\n        } else if (content) {\n          embedHTML = embedHTML.replace(\n            getInlineStyleReplaceSymbol(index),\n            `<style>/* inline-style-${index} */${content}</style>`\n          );\n        }\n      })\n    )\n  ).then(() => embedHTML);\n}\n\nconst isInlineCode = (code) => code.startsWith(\"<\");\n\nconst fetchAssets = (\n  src: string,\n  cache: Object,\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response>,\n  cssFlag?: boolean,\n  loadError?: loadErrorHandler\n) =>\n  cache[src] ||\n  (cache[src] = fetch(src)\n    .then((response) => {\n      // usually browser treats 4xx and 5xx response of script loading as an error and will fire a script error event\n      // https://stackoverflow.com/questions/5625420/what-http-headers-responses-trigger-the-onerror-handler-on-a-script-tag/5625603\n      if (response.status >= 400) {\n        cache[src] = null;\n        if (cssFlag) {\n          error(WUJIE_TIPS_CSS_ERROR_REQUESTED, { src, response });\n          loadError?.(src, new Error(WUJIE_TIPS_CSS_ERROR_REQUESTED));\n          return \"\";\n        } else {\n          error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, { src, response });\n          loadError?.(src, new Error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED));\n          throw new Error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED);\n        }\n      }\n      return response.text();\n    })\n    .catch((e) => {\n      cache[src] = null;\n      if (cssFlag) {\n        error(WUJIE_TIPS_CSS_ERROR_REQUESTED, src);\n        loadError?.(src, e);\n        return \"\";\n      } else {\n        error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, src);\n        loadError?.(src, e);\n        throw e;\n      }\n    }));\n\n// for prefetch\nexport function getExternalStyleSheets(\n  styles: StyleObject[],\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response> = defaultFetch,\n  loadError: loadErrorHandler\n): StyleResultList {\n  return styles.map(({ src, content }) => {\n    // \n    if (content) {\n      return { src: \"\", contentPromise: Promise.resolve(content) };\n    } else if (isInlineCode(src)) {\n      // if it is inline style\n      return { src: \"\", contentPromise: Promise.resolve(getInlineCode(src)) };\n    } else {\n      // external styles\n      return { src, contentPromise: fetchAssets(src, styleCache, fetch, true, loadError) };\n    }\n  });\n}\n\n// for prefetch\nexport function getExternalScripts(\n  scripts: ScriptObject[],\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response> = defaultFetch,\n  loadError: loadErrorHandler\n): ScriptResultList {\n  // module should be requested in iframe\n  return scripts.map((script) => {\n    const { src, async, defer, module } = script;\n    let contentPromise = null;\n    // async\n    if ((async || defer) && src && !module) {\n      contentPromise = new Promise((resolve, reject) =>\n        requestIdleCallback(() => fetchAssets(src, scriptCache, fetch, false, loadError).then(resolve, reject))\n      );\n      // module\n    } else if (module && src) {\n      contentPromise = Promise.resolve(\"\");\n      // inline\n    } else if (!src) {\n      contentPromise = Promise.resolve(script.content);\n      // outline\n    } else {\n      contentPromise = fetchAssets(src, scriptCache, fetch, false, loadError);\n    }\n    return { ...script, contentPromise };\n  });\n}\n\nexport default function importHTML(url: string, opts?: ImportEntryOpts): Promise<htmlParseResult> {\n  const fetch = opts.fetch ?? defaultFetch;\n  const { plugins, loadError } = opts;\n  const htmlLoader = plugins ? compose(plugins.map((plugin) => plugin.htmlLoader)) : defaultGetTemplate;\n  const jsExcludes = plugins\n    ? plugins\n        .map((plugin) => plugin.jsExcludes)\n        .reduce((pre, next) => pre.concat(next), [])\n        .filter((item) => item)\n    : [];\n  const cssExcludes = plugins\n    ? plugins\n        .map((plugin) => plugin.cssExcludes)\n        .reduce((pre, next) => pre.concat(next), [])\n        .filter((item) => item)\n    : [];\n  const getPublicPath = defaultGetPublicPath;\n\n  const getHtmlParseResult = (url, htmlLoader) =>\n    fetch(url)\n      .then(\n        (response) => response.text(),\n        (e) => {\n          loadError?.(url, e);\n          return Promise.reject(e);\n        }\n      )\n      .then((html) => {\n        const assetPublicPath = getPublicPath(url);\n        const { template, scripts, styles } = processTpl(htmlLoader(html), assetPublicPath);\n        return {\n          template: template,\n          assetPublicPath,\n          getExternalScripts: () =>\n            getExternalScripts(\n              scripts.filter((script) => !script.src || !jsExcludes.length || !jsExcludes.includes(script.src)),\n              fetch,\n              loadError\n            ),\n          getExternalStyleSheets: () =>\n            getExternalStyleSheets(\n              styles.filter((style) => !style.src || !cssExcludes.length || !cssExcludes.includes(style.src)),\n              fetch,\n              loadError\n            ),\n        };\n      });\n\n  if (opts?.plugins.some((plugin) => plugin.htmlLoader)) {\n    return getHtmlParseResult(url, htmlLoader);\n    // html-loader\n  } else {\n    return embedHTMLCache[url] || (embedHTMLCache[url] = getHtmlParseResult(url, htmlLoader));\n  }\n}\n","import Wujie from \"./sandbox\";\n\n// map\nexport const idToSandboxMap = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE.inject.idToSandboxMap\n  : new Map<String, Wujie>();\n\nexport function getSandboxById(id: String): Wujie | null {\n  return idToSandboxMap.get(id) || null;\n}\n\nexport function addSandboxIdMap(id: string, sandbox: Wujie) {\n  idToSandboxMap.set(id, sandbox);\n}\n\nexport function deleteSandboxIdMap(id: string) {\n  idToSandboxMap.delete(id);\n}\n\n// document\nexport const documentProxyProperties = {\n  // \n  modifyLocalProperties: [\"createElement\", \"createTextNode\", \"documentURI\", \"URL\", \"getElementsByTagName\"],\n\n  // \n  modifyProperties: [\n    \"createElement\",\n    \"createTextNode\",\n    \"documentURI\",\n    \"URL\",\n    \"getElementsByTagName\",\n    \"getElementsByClassName\",\n    \"getElementsByName\",\n    \"getElementById\",\n    \"querySelector\",\n    \"querySelectorAll\",\n    \"documentElement\",\n    \"scrollingElement\",\n    \"forms\",\n    \"images\",\n    \"links\",\n  ],\n\n  // shadowRoot\n  shadowProperties: [\n    \"activeElement\",\n    \"childElementCount\",\n    \"children\",\n    \"firstElementChild\",\n    \"firstChild\",\n    \"fullscreenElement\",\n    \"lastElementChild\",\n    \"pictureInPictureElement\",\n    \"pointerLockElement\",\n    \"styleSheets\",\n  ],\n\n  // shadowRoot\n  shadowMethods: [\n    \"append\",\n    \"contains\",\n    \"getSelection\",\n    \"elementFromPoint\",\n    \"elementsFromPoint\",\n    \"getAnimations\",\n    \"replaceChildren\",\n  ],\n\n  // document\n  documentProperties: [\n    \"characterSet\",\n    \"compatMode\",\n    \"contentType\",\n    \"designMode\",\n    \"dir\",\n    \"doctype\",\n    \"embeds\",\n    \"fullscreenEnabled\",\n    \"hidden\",\n    \"implementation\",\n    \"lastModified\",\n    \"pictureInPictureEnabled\",\n    \"plugins\",\n    \"readyState\",\n    \"referrer\",\n    \"visibilityState\",\n    \"fonts\",\n  ],\n\n  // document\n  documentMethods: [\n    \"execCommand\",\n    \"createRange\",\n    \"exitFullscreen\",\n    \"exitPictureInPicture\",\n    \"getElementsByTagNameNS\",\n    \"hasFocus\",\n    \"prepend\",\n  ],\n\n  // document\n  documentEvents: [\n    \"onreadystatechange\",\n    \"onpointerlockchange\",\n    \"onpointerlockerror\",\n    \"onbeforecopy\",\n    \"onbeforecut\",\n    \"onbeforepaste\",\n    \"onfreeze\",\n    \"onresume\",\n    \"onsearch\",\n    \"onfullscreenchange\",\n    \"onfullscreenerror\",\n    \"onsecuritypolicyviolation\",\n    \"onvisibilitychange\",\n  ],\n\n  // \n  ownerProperties: [\"head\", \"body\"],\n};\n\n// document\nexport const documentAddEventListenerEvents = [\n  \"DOMContentLoaded\",\n  \"fullscreenchange\",\n  \"fullscreenerror\",\n  \"readystatechange\",\n  \"scroll\",\n  \"selectionchange\",\n  \"visibilitychange\",\n  \"wheel\",\n];\n\n// documentshadow\nexport const rootAddEventListenerEvents = [\"gotpointercapture\", \"lostpointercapture\"];\n\nexport const iframeAddEventListenerEvents = [\"hashchange\", \"popstate\"];\n\n// tagattrmap\nexport const relativeElementTagAttrMap = {\n  IMG: \"src\",\n  A: \"href\",\n  SOURCE: \"src\",\n};\n\n// window\nexport const windowProxyProperties = [\"getComputedStyle\", \"visualViewport\", \"matchMedia\", \"DOMParser\"];\n\n// window\nexport const windowRegWhiteList = [\n  /animationFrame$/i,\n  /resizeObserver$|mutationObserver$|intersectionObserver$/i,\n  /height$|width$|left$/i,\n  /^screen/i,\n  /X$|Y$/,\n];\n\n// \nexport const rawElementAppendChild = HTMLElement.prototype.appendChild;\nexport const rawElementRemoveChild = HTMLElement.prototype.removeChild;\nexport const rawHeadInsertBefore = HTMLHeadElement.prototype.insertBefore;\nexport const rawBodyInsertBefore = HTMLBodyElement.prototype.insertBefore;\nexport const rawWindowAddEventListener = Window.prototype.addEventListener;\nexport const rawWindowRemoveEventListener = Window.prototype.removeEventListener;\nexport const rawAppendChild = Node.prototype.appendChild;\nexport const rawDocumentQuerySelector = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__\n  : Document.prototype.querySelector;\n","/**\n * \bshadow\n * @author damyxu\n * @reference qiankun\n * @since 2021-7-27\n */\nimport { getExternalStyleSheets, getExternalScripts } from \"./entry\";\nimport {\n  getSandboxById,\n  rawAppendChild,\n  rawHeadInsertBefore,\n  rawBodyInsertBefore,\n  rawDocumentQuerySelector,\n} from \"./common\";\nimport { isFunction, isHijackingTag, requestIdleCallback, compose, error, nextTick } from \"./utils\";\nimport { insertScriptToIframe } from \"./iframe\";\nimport Wujie from \"./sandbox\";\nimport { getHostCssRules } from \"./shadow\";\nimport { WUJIE_DATA_ID, WUJIE_DATA_FLAG } from \"./constant\";\n\nfunction patchCustomEvent(\n  e: CustomEvent,\n  elementGetter: () => HTMLScriptElement | HTMLLinkElement | null\n): CustomEvent {\n  Object.defineProperties(e, {\n    srcElement: {\n      get: elementGetter,\n    },\n    target: {\n      get: elementGetter,\n    },\n  });\n\n  return e;\n}\n\n/**\n * \n */\nfunction manualInvokeElementEvent(element: HTMLLinkElement | HTMLScriptElement, event: string): void {\n  const customEvent = new CustomEvent(event);\n  const patchedEvent = patchCustomEvent(customEvent, () => element);\n  if (isFunction(element[`on${event}`])) {\n    element[`on${event}`](patchedEvent);\n  } else {\n    element.dispatchEvent(patchedEvent);\n  }\n}\n\n/**\n * css\n */\nfunction handleStylesheetElementHost(stylesheetElement: HTMLStyleElement, sandbox: Wujie) {\n  if (!stylesheetElement.innerHTML || sandbox.degrade) return;\n  const hostStyleSheetElement = getHostCssRules([stylesheetElement.sheet]);\n  if (hostStyleSheetElement) {\n    sandbox.shadowRoot.head.appendChild(hostStyleSheetElement);\n  }\n}\n\n/**\n * \n */\nfunction patchStylesheetElement(\n  stylesheetElement: HTMLStyleElement,\n  cssLoader: (code: string) => string,\n  sandbox: Wujie\n) {\n  const innerHTMLDesc = Object.getOwnPropertyDescriptor(Element.prototype, \"innerHTML\");\n  const innerTextDesc = Object.getOwnPropertyDescriptor(HTMLElement.prototype, \"innerText\");\n  const textContentDesc = Object.getOwnPropertyDescriptor(Node.prototype, \"textContent\");\n  Object.defineProperties(stylesheetElement, {\n    innerHTML: {\n      get: function () {\n        return innerHTMLDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        innerHTMLDesc.set.call(stylesheetElement, cssLoader(code));\n        nextTick(() => handleStylesheetElementHost(this, sandbox));\n      },\n    },\n    innerText: {\n      get: function () {\n        return innerTextDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        innerTextDesc.set.call(stylesheetElement, cssLoader(code));\n        nextTick(() => handleStylesheetElementHost(this, sandbox));\n      },\n    },\n    textContent: {\n      get: function () {\n        return textContentDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        textContentDesc.set.call(stylesheetElement, cssLoader(code));\n        nextTick(() => handleStylesheetElementHost(this, sandbox));\n      },\n    },\n    appendChild: {\n      value: function (node: Node): Node {\n        nextTick(() => handleStylesheetElementHost(this, sandbox));\n        if (node.nodeType === Node.TEXT_NODE) {\n          return rawAppendChild.call(\n            stylesheetElement,\n            stylesheetElement.ownerDocument.createTextNode(cssLoader(node.textContent))\n          );\n        } else return rawAppendChild(node);\n      },\n    },\n  });\n}\n\nfunction rewriteAppendOrInsertChild(opts: {\n  rawDOMAppendOrInsertBefore: <T extends Node>(newChild: T, refChild?: Node | null) => T;\n  wujieId: string;\n}) {\n  return function appendChildOrInsertBefore<T extends Node>(\n    this: HTMLHeadElement | HTMLBodyElement,\n    newChild: T,\n    refChild?: Node | null\n  ) {\n    let element = newChild as any;\n    const { rawDOMAppendOrInsertBefore, wujieId } = opts;\n    const sandbox = getSandboxById(wujieId);\n\n    if (!isHijackingTag(element.tagName) || !wujieId) {\n      return rawDOMAppendOrInsertBefore.call(this, element, refChild) as T;\n    }\n\n    const { styleSheetElements, replace, fetch, plugins, iframe, lifecycles } = sandbox;\n    const iframeDocument = iframe.contentDocument;\n\n    // TODO:\n    if (element.tagName) {\n      switch (element.tagName?.toUpperCase()) {\n        case \"LINK\": {\n          const { href } = element as HTMLLinkElement;\n          // css\n          if (\n            href &&\n            !plugins\n              .map((plugin) => plugin.cssExcludes)\n              .reduce((pre, next) => pre.concat(next), [])\n              .filter((item) => item)\n              .includes(href)\n          ) {\n            getExternalStyleSheets([{ src: href }], fetch, lifecycles.loadError).forEach(({ src, contentPromise }) =>\n              contentPromise.then(\n                (content) => {\n                  // js\n                  const stylesheetElement = iframeDocument.createElement(\"style\");\n                  // css-loader\n                  stylesheetElement.innerHTML = compose(plugins.map((plugin) => plugin.cssLoader))(\n                    replace ? replace(content) : content,\n                    src\n                  );\n                  styleSheetElements.push(stylesheetElement);\n                  // host\n                  handleStylesheetElementHost(stylesheetElement, sandbox);\n                  rawDOMAppendOrInsertBefore.call(this, stylesheetElement, refChild);\n                  manualInvokeElementEvent(element, \"load\");\n                  element = null;\n                },\n                () => {\n                  manualInvokeElementEvent(element, \"error\");\n                  element = null;\n                }\n              )\n            );\n          }\n\n          const comment = iframeDocument.createComment(`dynamic link ${href} replaced by wujie`);\n          return rawDOMAppendOrInsertBefore.call(this, comment, refChild);\n        }\n        case \"STYLE\": {\n          const stylesheetElement: HTMLLinkElement | HTMLStyleElement = newChild as any;\n          styleSheetElements.push(stylesheetElement);\n          const content = stylesheetElement.innerHTML;\n          const cssLoader = (content) =>\n            compose(plugins.map((plugin) => plugin.cssLoader))(replace ? replace(content) : content);\n          content && (stylesheetElement.innerHTML = cssLoader(content));\n          patchStylesheetElement(stylesheetElement, cssLoader, sandbox);\n          // host\n          handleStylesheetElementHost(stylesheetElement, sandbox);\n          return rawDOMAppendOrInsertBefore.call(this, element, refChild);\n        }\n        case \"SCRIPT\": {\n          const { src, text } = element as HTMLScriptElement;\n          // js\n          if (\n            src &&\n            !plugins\n              .map((plugin) => plugin.jsExcludes)\n              .reduce((pre, next) => pre.concat(next), [])\n              .filter((item) => item)\n              .includes(src)\n          ) {\n            const execScript = (scriptResult) => {\n              insertScriptToIframe(scriptResult, sandbox.iframe.contentWindow);\n              manualInvokeElementEvent(element, \"load\");\n              element = null;\n            };\n            getExternalScripts([{ src }], fetch, lifecycles.loadError).forEach((scriptResult) =>\n              scriptResult.contentPromise.then(\n                (content) => {\n                  const execQueueLength = sandbox.execQueue?.length;\n                  sandbox.execQueue.push(() =>\n                    sandbox.fiber\n                      ? requestIdleCallback(() => {\n                          execScript({ ...scriptResult, content });\n                        })\n                      : execScript({ ...scriptResult, content })\n                  );\n                  // \n                  if (!execQueueLength) sandbox.execQueue.shift()();\n                },\n                () => {\n                  manualInvokeElementEvent(element, \"error\");\n                  element = null;\n                }\n              )\n            );\n          } else {\n            const execQueueLength = sandbox.execQueue?.length;\n            sandbox.execQueue.push(() =>\n              requestIdleCallback(() => {\n                insertScriptToIframe({ src: null, content: text }, sandbox.iframe.contentWindow);\n              })\n            );\n            if (!execQueueLength) sandbox.execQueue.shift()();\n          }\n          // inline script never trigger the onload and onerror event\n          const comment = iframeDocument.createComment(`dynamic script ${src} replaced by wujie`);\n          return rawDOMAppendOrInsertBefore.call(this, comment, refChild);\n        }\n        // iframewindow.parent\n        case \"IFRAME\": {\n          // js-iframejs-iframe\n          if (element.getAttribute(WUJIE_DATA_FLAG) === \"\") {\n            return rawAppendChild.call(rawDocumentQuerySelector.call(this.ownerDocument, \"html\"), element);\n          }\n          const res = rawDOMAppendOrInsertBefore.call(this, element, refChild);\n          try {\n            // dom-iframe\n            if (!element.getAttribute(WUJIE_DATA_ID)) {\n              const patchScript = (element as HTMLIFrameElement).contentWindow.document.createElement(\"script\");\n              patchScript.type = \"text/javascript\";\n              patchScript.innerHTML = `Array.prototype.slice.call(window.parent.frames).some(iframe => {if(iframe.name === '${wujieId}'){window.parent = iframe;return true};return false})`;\n              element.contentDocument.head.insertBefore(patchScript, element.contentDocument.head.firstChild);\n            }\n          } catch (e) {\n            error(e);\n          }\n          return res;\n        }\n        default:\n      }\n    }\n  };\n}\n\n/**\n * patch head and body in render\n * intercept appendChild and insertBefore\n */\nexport function patchRenderEffect(render: ShadowRoot | Document, id: string): void {\n  render.head.appendChild = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawAppendChild,\n    wujieId: id,\n  }) as typeof rawAppendChild;\n  render.head.insertBefore = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawHeadInsertBefore as any,\n    wujieId: id,\n  }) as typeof rawHeadInsertBefore;\n  render.body.appendChild = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawAppendChild,\n    wujieId: id,\n  }) as typeof rawAppendChild;\n  render.body.insertBefore = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawBodyInsertBefore as any,\n    wujieId: id,\n  }) as typeof rawBodyInsertBefore;\n}\n","/**\n * dom\n * @author damyxu\n * @since 2021-07-14\n */\n\nimport { WUJIE_DATA_ID, WUJIE_IFRAME_CLASS, WUJIE_SHADE_STYLE } from \"./constant\";\nimport { getSandboxById, rawElementAppendChild, rawElementRemoveChild, relativeElementTagAttrMap } from \"./common\";\nimport { getExternalStyleSheets } from \"./entry\";\nimport Wujie from \"./sandbox\";\nimport { patchElementEffect } from \"./iframe\";\nimport { patchRenderEffect } from \"./effect\";\nimport { getContainer, compose } from \"./utils\";\n\nconst cssSelectorMap = {\n  \":root\": \":host\",\n};\n\ndeclare global {\n  interface ShadowRoot {\n    head: HTMLHeadElement;\n    body: HTMLBodyElement;\n  }\n}\n\n/**\n * webComponent\n */\nclass WujieApp extends HTMLElement {\n  connectedCallback(): void {\n    if (this.shadowRoot) return;\n    const shadowRoot = this.attachShadow({ mode: \"open\" });\n    const sandbox = getSandboxById(this.getAttribute(WUJIE_DATA_ID));\n    patchElementEffect(shadowRoot, sandbox.iframe.contentWindow);\n    sandbox.shadowRoot = shadowRoot;\n  }\n\n  disconnectedCallback(): void {\n    const sandbox = getSandboxById(this.getAttribute(WUJIE_DATA_ID));\n    sandbox.unmount();\n  }\n}\n\n/**\n *  wujie webComponentshadowdom\n */\nexport function defineWujieWebComponent() {\n  if (!customElements.get(\"wujie-app\")) {\n    customElements.define(\"wujie-app\", WujieApp);\n  }\n}\n\nexport function createWujieWebComponent(id: string): HTMLElement {\n  const contentElement = window.document.createElement(\"wujie-app\");\n  contentElement.setAttribute(WUJIE_DATA_ID, id);\n  contentElement.setAttribute(\"style\", \"position:relative\");\n  contentElement.classList.add(WUJIE_IFRAME_CLASS);\n  return contentElement;\n}\n\n/**\n * \n */\nexport function renderElementToContainer(element: Element, selectorOrElement: string | HTMLElement): HTMLElement {\n  const container = getContainer(selectorOrElement);\n  if (container && !container.contains(element)) {\n    // \n    clearChild(container);\n    // \n    if (element) {\n      rawElementAppendChild.call(container, element);\n    }\n  }\n  return container;\n}\n\n/**\n * css-before-loader  css-after-loader\n */\nasync function processCssLoaderForTemplate(sandbox: Wujie, html: HTMLHtmlElement): Promise<HTMLHtmlElement> {\n  const document = sandbox.iframe.contentDocument;\n  const { plugins, replace } = sandbox;\n  const cssLoader = (content, src) =>\n    compose(plugins.map((plugin) => plugin.cssLoader))(replace ? replace(content) : content, src);\n  const cssBeforeLoaders = sandbox.plugins\n    .map((plugin) => plugin.cssBeforeLoaders)\n    .reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), [])\n    .filter((cssLoader) => typeof cssLoader === \"object\")\n    .reverse();\n  const cssAfterLoaders = sandbox.plugins\n    .map((plugin) => plugin.cssAfterLoaders)\n    .reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), [])\n    .filter((afterLoader) => typeof afterLoader === \"object\");\n  return await Promise.all([\n    Promise.all(\n      getExternalStyleSheets(cssBeforeLoaders, sandbox.fetch, sandbox.lifecycles.loadError).map(\n        ({ src, contentPromise }) => contentPromise.then((content) => ({ src, content }))\n      )\n    ).then((contentList) => {\n      contentList.forEach(({ src, content }) => {\n        if (!content) return;\n        const styleElement = document.createElement(\"style\");\n        styleElement.setAttribute(\"type\", \"text/css\");\n        styleElement.appendChild(document.createTextNode(content ? cssLoader(content, src) : content));\n        const head = html.querySelector(\"head\");\n        head?.insertBefore(styleElement, html.querySelector(\"head\")?.firstChild);\n      });\n    }),\n    Promise.all(\n      getExternalStyleSheets(cssAfterLoaders, sandbox.fetch, sandbox.lifecycles.loadError).map(\n        ({ src, contentPromise }) => contentPromise.then((content) => ({ src, content }))\n      )\n    ).then((contentList) => {\n      contentList.forEach(({ src, content }) => {\n        if (!content) return;\n        const styleElement = document.createElement(\"style\");\n        styleElement.setAttribute(\"type\", \"text/css\");\n        styleElement.appendChild(document.createTextNode(content ? cssLoader(content, src) : content));\n        html.appendChild(styleElement);\n      });\n    }),\n  ]).then(\n    () => html,\n    () => html\n  );\n}\n\n/**\n * templatehtml\n */\nfunction renderTemplateToHtml(iframeWindow: Window, template: string): HTMLHtmlElement {\n  const document = iframeWindow.document;\n  const html = document.createElement(\"html\");\n  html.innerHTML = template;\n  const ElementIterator = document.createTreeWalker(html, NodeFilter.SHOW_ELEMENT);\n  let nextElement = ElementIterator.currentNode as HTMLElement;\n  while (nextElement) {\n    patchElementEffect(nextElement, iframeWindow);\n    const relativeAttr = relativeElementTagAttrMap[nextElement.tagName];\n    const url = nextElement[relativeAttr];\n    if (relativeAttr) nextElement.setAttribute(relativeAttr, new URL(url, nextElement.baseURI || \"\").href);\n    nextElement = ElementIterator.nextNode() as HTMLElement;\n  }\n  if (!html.querySelector(\"head\")) {\n    const head = document.createElement(\"head\");\n    html.appendChild(head);\n  }\n  if (!html.querySelector(\"body\")) {\n    const body = document.createElement(\"body\");\n    html.appendChild(body);\n  }\n  return html;\n}\n\n/**\n * templateshadowRoot\n */\nexport async function renderTemplateToShadowRoot(\n  shadowRoot: ShadowRoot,\n  iframeWindow: Window,\n  template: string\n): Promise<void> {\n  const html = renderTemplateToHtml(iframeWindow, template);\n  //  css-before-loader  css-after-loader\n  const processedHtml = await processCssLoaderForTemplate(iframeWindow.__WUJIE, html);\n  // change ownerDocument\n  shadowRoot.appendChild(processedHtml);\n  const shade = document.createElement(\"div\");\n  shade.setAttribute(\"style\", WUJIE_SHADE_STYLE);\n  processedHtml.insertBefore(shade, processedHtml.firstChild);\n  shadowRoot.head = shadowRoot.querySelector(\"head\");\n  shadowRoot.body = shadowRoot.querySelector(\"body\");\n\n  //  html parentNode\n  Object.defineProperty(shadowRoot.firstChild, \"parentNode\", {\n    enumerable: true,\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n\n  patchRenderEffect(shadowRoot, iframeWindow.__WUJIE.id);\n}\n\nexport function createIframeContainer(id: string): HTMLIFrameElement {\n  const iframe = document.createElement(\"iframe\");\n  iframe.setAttribute(\"style\", \"width: 100%; height:100%\");\n  iframe.setAttribute(WUJIE_DATA_ID, id);\n  return iframe;\n}\n\n/**\n * templateiframe\n */\nexport async function renderTemplateToIframe(\n  renderDocument: Document,\n  iframeWindow: Window,\n  template: string\n): Promise<void> {\n  // iframe\n  clearChild(renderDocument);\n  // template\n  const html = renderTemplateToHtml(iframeWindow, template);\n  //  css-before-loader  css-after-loader\n  const processedHtml = await processCssLoaderForTemplate(iframeWindow.__WUJIE, html);\n  renderDocument.appendChild(processedHtml);\n\n  //  html parentNode\n  Object.defineProperty(renderDocument.firstElementChild, \"parentNode\", {\n    enumerable: true,\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n\n  patchRenderEffect(renderDocument, iframeWindow.__WUJIE.id);\n}\n\n/**\n * Element\n */\nexport function clearChild(root: ShadowRoot | Node): void {\n  // \n  while (root.firstChild) {\n    rawElementRemoveChild.call(root, root.firstChild);\n  }\n}\n\n/**\n * :rootshadow:host\n */\nexport function getHostCssRules(rootStyleSheets: Array<CSSStyleSheet>): void | HTMLStyleElement {\n  const rootCssRule = [];\n  const rootStyleReg = /:root/g;\n\n  // rootcssRules\n  for (let i = 0; i < rootStyleSheets.length; i++) {\n    const cssRules = rootStyleSheets[i]?.cssRules ?? [];\n    for (let j = 0; j < cssRules.length; j++) {\n      const cssRuleText = cssRules[j].cssText;\n      if (rootStyleReg.test(cssRuleText)) {\n        rootCssRule.push(cssRuleText.replace(rootStyleReg, (match) => cssSelectorMap[match]));\n      }\n    }\n  }\n\n  // host\n  if (rootCssRule.length) {\n    const styleSheetElement = window.document.createElement(\"style\");\n    styleSheetElement.innerHTML = rootCssRule.join(\"\");\n    return styleSheetElement;\n  }\n}\n","/**\n * \n * @author damyxu\n * @since 2021-10-28\n */\n\nimport { anchorElementGenerator, getAnchorElementQueryMap, getSyncUrl, appRouteParse, getDegradeIframe } from \"./utils\";\nimport { renderIframeReplaceApp, patchEventTimeStamp } from \"./iframe\";\nimport { renderElementToContainer, createIframeContainer, clearChild } from \"./shadow\";\nimport { getSandboxById, rawDocumentQuerySelector } from \"./common\";\n\n/**\n * \n */\nexport function syncUrlToWindow(iframeWindow: Window): void {\n  const { sync, id, prefix } = iframeWindow.__WUJIE;\n  if (!sync) return;\n  const curUrl = iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n  let validShortPath = \"\";\n  // \n  if (prefix) {\n    Object.keys(prefix).forEach((shortPath) => {\n      const longPath = prefix[shortPath];\n      // \n      if (curUrl.startsWith(longPath) && (!validShortPath || longPath.length > prefix[validShortPath].length)) {\n        validShortPath = shortPath;\n      }\n    });\n  }\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  queryMap[id] = window.encodeURIComponent(\n    validShortPath ? curUrl.replace(prefix[validShortPath], `{${validShortPath}}`) : curUrl\n  );\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  if (winUrlElement.href !== window.location.href) {\n    window.history.replaceState(null, \"\", winUrlElement.href);\n  }\n  winUrlElement = null;\n}\n\n/**\n * \n */\nexport function syncUrlToIframe(iframeWindow: Window): void {\n  // \n  const { pathname, search, hash } = iframeWindow.location;\n  const { id, url, sync, execFlag, prefix, inject } = iframeWindow.__WUJIE;\n\n  // \n  const idUrl = sync && !execFlag ? getSyncUrl(id, prefix) : url;\n  // href\n  const syncUrl = (/^http/.test(idUrl) ? null : idUrl) || url;\n  const { appRoutePath } = appRouteParse(syncUrl);\n\n  const preAppRoutePath = pathname + search + hash;\n  if (preAppRoutePath !== appRoutePath) {\n    iframeWindow.history.replaceState(null, \"\", inject.mainHostPath + appRoutePath);\n  }\n}\n\n/**\n * \n * hash\n */\nexport function clearInactiveAppUrl(): void {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  Object.keys(queryMap).forEach((id) => {\n    const sandbox = getSandboxById(id);\n    if (!sandbox) return;\n    // \n    const clearFlag = sandbox.degrade\n      ? !window.document.contains(getDegradeIframe(sandbox.id))\n      : !window.document.contains(sandbox?.shadowRoot?.host);\n    if (sandbox.execFlag && sandbox.sync && !sandbox.hrefFlag && clearFlag) {\n      delete queryMap[id];\n    }\n  });\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  if (winUrlElement.href !== window.location.href) {\n    window.history.replaceState(null, \"\", winUrlElement.href);\n  }\n  winUrlElement = null;\n}\n\n/**\n * url\n */\nexport function pushUrlToWindow(id: string, url: string): void {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  queryMap[id] = window.encodeURIComponent(url);\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  window.history.pushState(null, \"\", winUrlElement.href);\n  winUrlElement = null;\n}\n\n/**\n * (window.location.href)\n */\nexport function processAppForHrefJump(): void {\n  window.addEventListener(\"popstate\", () => {\n    let winUrlElement = anchorElementGenerator(window.location.href);\n    const queryMap = getAnchorElementQueryMap(winUrlElement);\n    winUrlElement = null;\n    Object.keys(queryMap)\n      .map((id) => getSandboxById(id))\n      .filter((sandbox) => sandbox)\n      .forEach((sandbox) => {\n        const url = queryMap[sandbox.id];\n        const iframeBody = rawDocumentQuerySelector.call(sandbox.iframe.contentDocument, \"body\");\n        // href\n        if (/http/.test(url)) {\n          if (sandbox.degrade) {\n            renderElementToContainer(sandbox.document.firstElementChild, iframeBody);\n            renderIframeReplaceApp(window.decodeURIComponent(url), getDegradeIframe(sandbox.id).parentElement);\n          } else renderIframeReplaceApp(window.decodeURIComponent(url), sandbox.shadowRoot.host.parentElement);\n          sandbox.hrefFlag = true;\n          // href\n        } else if (sandbox.hrefFlag) {\n          if (sandbox.degrade) {\n            // \n            const iframe = createIframeContainer(sandbox.id);\n            renderElementToContainer(iframe, sandbox.el);\n            clearChild(iframe.contentDocument);\n            patchEventTimeStamp(iframe.contentWindow, sandbox.iframe.contentWindow);\n            iframe.contentWindow.onunload = () => {\n              sandbox.unmount();\n            };\n            iframe.contentDocument.appendChild(iframeBody.firstElementChild);\n            sandbox.document = iframe.contentDocument;\n          } else renderElementToContainer(sandbox.shadowRoot.host, sandbox.el);\n          sandbox.hrefFlag = false;\n        }\n      });\n  });\n}\n","/**\n * js\n * @author damyxu\n * @since 2021-07-14\n */\nimport WuJie from \"./sandbox\";\nimport { ScriptObject } from \"./template\";\nimport { renderElementToContainer, clearChild } from \"./shadow\";\nimport { syncUrlToWindow } from \"./sync\";\nimport {\n  fixElementCtrSrcOrHref,\n  isConstructable,\n  anchorElementGenerator,\n  isMatchSyncQueryById,\n  warn,\n  error,\n  compose,\n  execHooks,\n} from \"./utils\";\nimport {\n  documentProxyProperties,\n  rawWindowAddEventListener,\n  rawWindowRemoveEventListener,\n  rawDocumentQuerySelector,\n  documentAddEventListenerEvents,\n  rootAddEventListenerEvents,\n  iframeAddEventListenerEvents,\n  windowProxyProperties,\n  windowRegWhiteList,\n} from \"./common\";\nimport { WUJIE_TIPS_EMPTY_CALLBACK, WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, WUJIE_DATA_FLAG } from \"./constant\";\nimport { ScriptObjectLoader } from \"./index\";\n\ndeclare global {\n  interface Window {\n    // \n    __POWERED_BY_WUJIE__?: boolean;\n    // \n    __WUJIE_PUBLIC_PATH__: string;\n    // querySelector\n    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__: typeof Document.prototype.querySelector;\n    // querySelector\n    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__: typeof Document.prototype.querySelectorAll;\n    // \n    __WUJIE: WuJie;\n    // mount\n    __WUJIE_MOUNT: () => void;\n    // unmount\n    __WUJIE_UNMOUNT: () => void;\n    // document type\n    Document: typeof Document;\n    // img type\n    HTMLImageElement: typeof HTMLImageElement;\n    // node type\n    Node: typeof Node;\n    // element type\n    Element: typeof Element;\n    // htmlElement typeof\n    HTMLElement: typeof HTMLElement;\n    // anchor type\n    HTMLAnchorElement: typeof HTMLAnchorElement;\n    // source type\n    HTMLSourceElement: typeof HTMLSourceElement;\n    // link type\n    HTMLLinkElement: typeof HTMLLinkElement;\n    // script type\n    HTMLScriptElement: typeof HTMLScriptElement;\n    EventTarget: typeof EventTarget;\n    Event: typeof Event;\n    ShadowRoot: typeof ShadowRoot;\n    // \n    $wujie: { [key: string]: any };\n  }\n}\n\n/**\n * windowiframe\n */\nfunction patchIframeEvents(iframeWindow: Window) {\n  // TODO: \n  iframeWindow.addEventListener = function addEventListener<K extends keyof WindowEventMap>(\n    type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"windowAddEventListenerHook\", iframeWindow, type, listener, options);\n\n    if (iframeAddEventListenerEvents.includes(type)) {\n      return rawWindowAddEventListener.call(iframeWindow, type, listener, options);\n    }\n    // window.windowwindow\n    rawWindowAddEventListener.call(window.window, type, listener, options);\n  };\n\n  iframeWindow.removeEventListener = function removeEventListener<K extends keyof WindowEventMap>(\n    type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"windowRemoveEventListenerHook\", iframeWindow, type, listener, options);\n\n    if (iframeAddEventListenerEvents.includes(type)) {\n      return rawWindowRemoveEventListener.call(iframeWindow, type, listener, options);\n    }\n    rawWindowRemoveEventListener.call(window.window, type, listener, options);\n  };\n}\n\nfunction patchIframeVariable(iframeWindow: Window, appHostPath: string): void {\n  iframeWindow.__WUJIE_PUBLIC_PATH__ = appHostPath + \"/\";\n  iframeWindow.$wujie = iframeWindow.__WUJIE.provide;\n  iframeWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__ = iframeWindow.Document.prototype.querySelector;\n  iframeWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__ = iframeWindow.Document.prototype.querySelectorAll;\n}\n\n/**\n * iframehistorypushStatereplaceState\n * location\n * \n * @param iframeWindow\n * @param appHostPath  host path\n * @param mainHostPath  host path\n */\nfunction patchIframeHistory(iframeWindow: Window, appHostPath: string, mainHostPath: string): void {\n  const history = iframeWindow.history;\n  const rawHistoryPushState = history.pushState;\n  const rawHistoryReplaceState = history.replaceState;\n  history.pushState = function (data: any, title: string, url?: string): void {\n    const baseUrl =\n      mainHostPath + iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n    const mainUrl = new URL(url?.replace(appHostPath, \"\"), baseUrl).href;\n    const ignoreFlag = url === undefined;\n\n    rawHistoryPushState.call(history, data, title, ignoreFlag ? undefined : mainUrl);\n    if (ignoreFlag) return;\n    updateBase(iframeWindow, appHostPath, mainHostPath);\n    syncUrlToWindow(iframeWindow);\n  };\n  history.replaceState = function (data: any, title: string, url?: string): void {\n    const baseUrl =\n      mainHostPath + iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n    const mainUrl = new URL(url?.replace(appHostPath, \"\"), baseUrl).href;\n    const ignoreFlag = url === undefined;\n\n    rawHistoryReplaceState.call(history, data, title, ignoreFlag ? undefined : mainUrl);\n    if (ignoreFlag) return;\n    updateBase(iframeWindow, appHostPath, mainHostPath);\n    syncUrlToWindow(iframeWindow);\n  };\n}\n\n/**\n * iframebase\n * @param iframeWindow\n * @param url\n * @param appHostPath\n * @param mainHostPath\n */\nfunction updateBase(iframeWindow: Window, appHostPath: string, mainHostPath: string) {\n  const baseUrl = new URL(iframeWindow.location.href?.replace(mainHostPath, \"\"), appHostPath);\n  const baseElement = rawDocumentQuerySelector.call(iframeWindow.document, \"base\");\n  if (baseElement) baseElement.setAttribute(\"href\", appHostPath + baseUrl.pathname);\n}\n\n/**\n * patch iframe window effect\n * @param iframeWindow\n */\n// TODO:\nfunction patchWindowEffect(iframeWindow: Window): void {\n  // \n  function processWindowProperty(key: string): boolean {\n    const value = iframeWindow[key];\n    try {\n      if (typeof value === \"function\" && !isConstructable(value)) {\n        iframeWindow[key] = window[key].bind(window);\n      } else {\n        iframeWindow[key] = window[key];\n      }\n      return true;\n    } catch (e) {\n      warn(e.message);\n      return false;\n    }\n  }\n  Object.getOwnPropertyNames(iframeWindow).forEach((key) => {\n    // \n    if (key === \"getSelection\") {\n      Object.defineProperty(iframeWindow, key, {\n        get: () => iframeWindow.document[key],\n      });\n      return;\n    }\n    // \n    if (windowProxyProperties.includes(key)) {\n      processWindowProperty(key);\n      return;\n    }\n    // \n    windowRegWhiteList.some((reg) => {\n      if (reg.test(key) && key in iframeWindow.parent) {\n        return processWindowProperty(key);\n      }\n      return false;\n    });\n  });\n  // onEvent set\n  const windowOnEvents = Object.getOwnPropertyNames(window).filter((p) => /^on/.test(p));\n  windowOnEvents.forEach((e) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow, e) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow, e, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => window[e],\n        set: function (handler) {\n          if (descriptor.writable || descriptor.set) {\n            window[e] = handler?.bind(iframeWindow);\n          }\n        },\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // \n  execHooks(iframeWindow.__WUJIE.plugins, \"windowPropertyOverride\", iframeWindow);\n}\n\n/**\n * \n */\nfunction recordEventListeners(iframeWindow: Window) {\n  const rawAddEventListener = iframeWindow.EventTarget.prototype.addEventListener;\n  const rawRemoveEventListener = iframeWindow.EventTarget.prototype.removeEventListener;\n  const sandbox = iframeWindow.__WUJIE;\n  iframeWindow.EventTarget.prototype.addEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    // \n    const elementListenerList = sandbox.elementEventCacheMap.get(this);\n    if (elementListenerList) {\n      if (!elementListenerList.find((listener) => listener.handler === handler)) {\n        elementListenerList.push({ type, handler, options });\n      }\n    } else sandbox.elementEventCacheMap.set(this, [{ type, handler, options }]);\n    return rawAddEventListener.call(this, type, handler, options);\n  };\n\n  iframeWindow.EventTarget.prototype.removeEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | EventListenerOptions\n  ): void {\n    // \n    const elementListenerList = sandbox.elementEventCacheMap.get(this);\n    if (elementListenerList) {\n      const index = elementListenerList?.findIndex((ele) => ele.handler === handler);\n      elementListenerList.splice(index, 1);\n    }\n    if (!elementListenerList?.length) {\n      sandbox.elementEventCacheMap.delete(this);\n    }\n    return rawRemoveEventListener.call(this, type, handler, options);\n  };\n}\n\n/**\n * \n */\nexport function recoverEventListeners(rootElement: Element, iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  const elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n  const ElementIterator = document.createTreeWalker(rootElement);\n  let nextElement = ElementIterator.currentNode;\n  while (nextElement) {\n    const elementListenerList = sandbox.elementEventCacheMap.get(nextElement);\n    if (elementListenerList?.length) {\n      elementEventCacheMap.set(nextElement, elementListenerList);\n      elementListenerList.forEach((listener) => {\n        nextElement.addEventListener(listener.type, listener.handler, listener.options);\n      });\n    }\n    nextElement = ElementIterator.nextNode() as HTMLElement;\n  }\n  sandbox.elementEventCacheMap = elementEventCacheMap;\n}\n\n/**\n * \n */\nexport function recoverDocumentListeners(oldRootElement: Element, newRootElement: Element, iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  const elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n  const elementListenerList = sandbox.elementEventCacheMap.get(oldRootElement);\n  if (elementListenerList?.length) {\n    elementEventCacheMap.set(newRootElement, elementListenerList);\n    elementListenerList.forEach((listener) => {\n      newRootElement.addEventListener(listener.type, listener.handler, listener.options);\n    });\n  }\n  sandbox.elementEventCacheMap = elementEventCacheMap;\n}\n\n/**\n * vuee.timeStamp < attachedTimestamp \n */\nexport function patchEventTimeStamp(targetWindow: Window, iframeWindow: Window) {\n  Object.defineProperty(targetWindow.Event.prototype, \"timeStamp\", {\n    get: () => {\n      return iframeWindow.document.createEvent(\"Event\").timeStamp;\n    },\n  });\n}\n\n/**\n * patch document effect\n * @param iframeWindow\n */\n// TODO \nfunction patchDocumentEffect(iframeWindow: Window): void {\n  const sandbox = iframeWindow.__WUJIE;\n\n  /**\n   *  addEventListenerremoveEventListener\n   *  handler thishandler.bind(document)\n   * removeEventListenerhandler => handler.bind(document)\n   * callback = handler.bind(document) removeEventListener\n   */\n  const handlerCallbackMap: WeakMap<EventListenerOrEventListenerObject, EventListenerOrEventListenerObject> =\n    new WeakMap();\n  const handlerTypeMap: WeakMap<EventListenerOrEventListenerObject, Array<string>> = new WeakMap();\n  iframeWindow.Document.prototype.addEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    let callback = handlerCallbackMap.get(handler);\n    const typeList = handlerTypeMap.get(handler);\n    //  handlerCallbackMap\n    if (!callback) {\n      callback = typeof handler === \"function\" ? handler.bind(this) : handler;\n      handlerCallbackMap.set(handler, callback);\n    }\n    //  handlerTypeMap\n    if (typeList) {\n      if (!typeList.includes(type)) typeList.push(type);\n    } else {\n      handlerTypeMap.set(handler, [type]);\n    }\n\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"documentAddEventListenerHook\", iframeWindow, type, callback, options);\n\n    // document.firstElementChild\n    if (sandbox.degrade) return sandbox.document.firstElementChild.addEventListener(type, callback, options);\n    if (documentAddEventListenerEvents.includes(type)) return window.document.addEventListener(type, callback, options);\n    if (rootAddEventListenerEvents.includes(type)) {\n      window.document.addEventListener(type, callback, options);\n      sandbox.shadowRoot.addEventListener(type, callback, options);\n      return;\n    }\n    sandbox.shadowRoot.addEventListener(type, callback, options);\n  };\n  iframeWindow.Document.prototype.removeEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    const callback: EventListenerOrEventListenerObject = handlerCallbackMap.get(handler);\n    const typeList = handlerTypeMap.get(handler);\n    if (callback) {\n      if (typeList?.includes(type)) {\n        typeList.splice(typeList.indexOf(type), 1);\n        if (!typeList.length) {\n          handlerCallbackMap.delete(handler);\n          handlerTypeMap.delete(handler);\n        }\n      }\n\n      // \n      execHooks(iframeWindow.__WUJIE.plugins, \"documentRemoveEventListenerHook\", iframeWindow, type, callback, options);\n\n      if (sandbox.degrade) return sandbox.document.firstElementChild.removeEventListener(type, callback, options);\n      if (documentAddEventListenerEvents.includes(type)) {\n        return window.document.removeEventListener(type, callback, options);\n      }\n      if (rootAddEventListenerEvents.includes(type)) {\n        window.document.removeEventListener(type, callback, options);\n        sandbox.shadowRoot.removeEventListener(type, callback, options);\n        return;\n      }\n      sandbox.shadowRoot.removeEventListener(type, callback, options);\n    } else {\n      warn(WUJIE_TIPS_EMPTY_CALLBACK);\n    }\n  };\n  // onEvent\n  // TODO \n  const elementOnEvents = Object.keys(iframeWindow.HTMLElement.prototype).filter((ele) => /^on/.test(ele));\n  const documentOnEvent = Object.keys(iframeWindow.Document.prototype).filter((ele) => /^on/.test(ele));\n  elementOnEvents\n    .filter((e) => documentOnEvent.includes(e))\n    .forEach((e) => {\n      const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, e) || {\n        enumerable: true,\n        writable: true,\n      };\n      try {\n        Object.defineProperty(iframeWindow.Document.prototype, e, {\n          enumerable: descriptor.enumerable,\n          configurable: true,\n          get: () => (sandbox.degrade ? sandbox.document : sandbox.shadowRoot).firstElementChild[e],\n          set: descriptor.writable\n            ? (handler) => {\n                sandbox.degrade\n                  ? (sandbox.document.firstElementChild[e] = handler.bind(iframeWindow.document))\n                  : (sandbox.shadowRoot.firstElementChild[e] = handler.bind(iframeWindow.document));\n              }\n            : undefined,\n        });\n      } catch (e) {\n        warn(e.message);\n      }\n    });\n  // get\n  // TODO set\n  const {\n    ownerProperties,\n    modifyProperties,\n    shadowProperties,\n    shadowMethods,\n    documentProperties,\n    documentMethods,\n    documentEvents,\n  } = documentProxyProperties;\n  modifyProperties.concat(shadowProperties, shadowMethods, documentProperties, documentMethods).forEach((propKey) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, propKey) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow.Document.prototype, propKey, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => sandbox.proxyDocument[propKey],\n        set: undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // document\n  // TODO \n  documentEvents.forEach((propKey) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, propKey) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow.Document.prototype, propKey, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => (sandbox.degrade ? sandbox : window).document[propKey],\n        set: descriptor.writable\n          ? (handler) => {\n              (sandbox.degrade ? sandbox : window).document[propKey] = handler.bind(iframeWindow.document);\n            }\n          : undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // process owner property\n  ownerProperties.forEach((propKey) => {\n    Object.defineProperty(iframeWindow.document, propKey, {\n      enumerable: true,\n      configurable: true,\n      get: () => sandbox.proxyDocument[propKey],\n      set: undefined,\n    });\n  });\n  // \n  execHooks(iframeWindow.__WUJIE.plugins, \"documentPropertyOverride\", iframeWindow);\n}\n\n/**\n * patch Node effect\n * @param iframeWindow\n */\nfunction patchNodeEffect(iframeWindow: Window): void {\n  const rawGetRootNode = iframeWindow.Node.prototype.getRootNode;\n  iframeWindow.Node.prototype.getRootNode = function (options?: GetRootNodeOptions): Node {\n    const rootNode = rawGetRootNode.call(this, options);\n    if (rootNode === iframeWindow.__WUJIE.shadowRoot) return iframeWindow.document;\n    else return rootNode;\n  };\n}\n\n/**\n * \n * @param iframeWindow\n */\nfunction patchRelativeUrlEffect(iframeWindow: Window): void {\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLImageElement, \"src\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLAnchorElement, \"href\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLSourceElement, \"src\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLLinkElement, \"href\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLScriptElement, \"src\");\n}\n\n/**\n * base\n */\nexport function initBase(iframeWindow: Window, url: string): void {\n  const iframeDocument = iframeWindow.document;\n  const baseElement = iframeDocument.createElement(\"base\");\n  const iframeUrlElement = anchorElementGenerator(iframeWindow.location.href);\n  const appUrlElement = anchorElementGenerator(url);\n  baseElement.setAttribute(\"href\", appUrlElement.protocol + \"//\" + appUrlElement.host + iframeUrlElement.pathname);\n  iframeDocument.head.appendChild(baseElement);\n}\n\n/**\n * iframedom\n * @param iframeWindow\n */\nfunction initIframeDom(iframeWindow: Window): void {\n  const iframeDocument = iframeWindow.document;\n  clearChild(iframeDocument);\n  const html = iframeDocument.createElement(\"html\");\n  html.innerHTML = \"<head></head><body></body>\";\n  iframeDocument.appendChild(html);\n\n  initBase(iframeWindow, iframeWindow.__WUJIE.url);\n  patchWindowEffect(iframeWindow);\n  patchDocumentEffect(iframeWindow);\n  patchNodeEffect(iframeWindow);\n  patchRelativeUrlEffect(iframeWindow);\n}\n\n/**\n * js\n */\n// TODO: \nfunction stopIframeLoading(iframeWindow: Window, url: string) {\n  iframeWindow.__WUJIE.iframeReady = new Promise<void>((resolve) => {\n    function loop() {\n      setTimeout(() => {\n        // location ready\n        if (iframeWindow.location.href === \"about:blank\") {\n          loop();\n        } else {\n          iframeWindow.stop();\n          initIframeDom(iframeWindow);\n          /**\n           * url\n           */\n          if (!isMatchSyncQueryById(iframeWindow.__WUJIE.id)) {\n            iframeWindow.history.replaceState(null, \"\", url);\n          }\n          resolve();\n        }\n      }, 0);\n    }\n    loop();\n  });\n}\n\nexport function patchElementEffect(element: HTMLElement | ShadowRoot, iframeWindow: Window): void {\n  const proxyLocation = iframeWindow.__WUJIE.proxyLocation as Location;\n  Object.defineProperty(element, \"baseURI\", {\n    configurable: true,\n    get: () => proxyLocation.protocol + \"//\" + proxyLocation.host + proxyLocation.pathname,\n    set: undefined,\n  });\n  Object.defineProperty(element, \"ownerDocument\", {\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n}\n\n/**\n * \n * @param iframeWindow\n */\nexport function syncIframeUrlToWindow(iframeWindow: Window): void {\n  iframeWindow.addEventListener(\"hashchange\", () => syncUrlToWindow(iframeWindow));\n  iframeWindow.addEventListener(\"popstate\", () => {\n    syncUrlToWindow(iframeWindow);\n  });\n}\n\n/**\n * iframe\n * @param scriptResult script\n * @param iframeWindow\n */\nexport function insertScriptToIframe(scriptResult: ScriptObject | ScriptObjectLoader, iframeWindow: Window) {\n  const { src, module, content, crossorigin, crossoriginType, callback } = scriptResult as ScriptObjectLoader;\n  const scriptElement = iframeWindow.document.createElement(\"script\");\n  const nextScriptElement = iframeWindow.document.createElement(\"script\");\n  const { replace, plugins } = iframeWindow.__WUJIE;\n  let code = compose(plugins.map((plugin) => plugin.jsLoader))(replace ? replace(content) : content, src);\n\n  // \n  if (content) {\n    // patch location\n    if (!iframeWindow.__WUJIE.degrade) {\n      code = `(function(window, self, global, location) {\n      ${code}\n}).bind(window.__WUJIE.proxy)(\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxyLocation,\n);`;\n    }\n    // \n  } else {\n    module && scriptElement.setAttribute(\"type\", \"module\");\n    src && scriptElement.setAttribute(\"src\", src);\n    crossorigin && scriptElement.setAttribute(\"crossorigin\", crossoriginType);\n  }\n  scriptElement.textContent = code || \"\";\n  nextScriptElement.textContent =\n    \"if(window.__WUJIE.execQueue && window.__WUJIE.execQueue.length){ window.__WUJIE.execQueue.shift()()}\";\n\n  const container = rawDocumentQuerySelector.call(iframeWindow.document, \"head\");\n\n  if (/^<!DOCTYPE html/i.test(code)) {\n    error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, scriptResult);\n    return container.appendChild(nextScriptElement);\n  }\n  container.appendChild(scriptElement);\n\n  // \n  callback?.(iframeWindow);\n\n  container.appendChild(nextScriptElement);\n}\n\n/**\n * iframe\n * @param src \n * @param shadowRoot\n */\nexport function renderIframeReplaceApp(src: string, element: HTMLElement): void {\n  const iframe = window.document.createElement(\"iframe\");\n  iframe.setAttribute(\"src\", src);\n  iframe.setAttribute(\"style\", \"height:100%;width:100%\");\n  renderElementToContainer(iframe, element);\n}\n\n/**\n * js\n * iframe\n * iframehtml\n */\nexport function iframeGenerator(\n  sandbox: WuJie,\n  attrs: { [key: string]: any },\n  mainHostPath: string,\n  appHostPath: string,\n  appRoutePath: string\n): HTMLIFrameElement {\n  const iframe = window.document.createElement(\"iframe\");\n  const url = mainHostPath + appRoutePath;\n  const attrsMerge = { ...attrs, src: mainHostPath, style: \"display: none\", name: sandbox.id, [WUJIE_DATA_FLAG]: \"\" };\n  Object.keys(attrsMerge).forEach((key) => iframe.setAttribute(key, attrsMerge[key]));\n  window.document.body.appendChild(iframe);\n  const iframeWindow = iframe.contentWindow;\n  iframeWindow.__WUJIE = sandbox;\n  patchIframeVariable(iframeWindow, appHostPath);\n  stopIframeLoading(iframeWindow, url);\n  patchIframeHistory(iframeWindow, appHostPath, mainHostPath);\n  patchIframeEvents(iframeWindow);\n  if (iframeWindow.__WUJIE.degrade) recordEventListeners(iframeWindow);\n  syncIframeUrlToWindow(iframeWindow);\n  return iframe;\n}\n","/**\n * \n * @author damyxu\n * @since 2022-04-06\n */\n\nimport { patchElementEffect, renderIframeReplaceApp } from \"./iframe\";\nimport { renderElementToContainer } from \"./shadow\";\nimport { pushUrlToWindow } from \"./sync\";\nimport { documentProxyProperties, rawDocumentQuerySelector } from \"./common\";\nimport { WUJIE_TIPS_RELOAD_DISABLED } from \"./constant\";\nimport { getTargetValue, anchorElementGenerator, getDegradeIframe, isCallable, warn } from \"./utils\";\n\n/**\n * location href set\n */\nfunction locationHrefSet(iframe: HTMLIFrameElement, value: string, appHostPath: string): boolean {\n  const { shadowRoot, id, degrade, document } = iframe.contentWindow.__WUJIE;\n  let url = value;\n  if (!/^http/.test(url)) {\n    let hrefElement = anchorElementGenerator(url);\n    url = appHostPath + hrefElement.pathname + hrefElement.search + hrefElement.hash;\n    hrefElement = null;\n  }\n  iframe.contentWindow.__WUJIE.hrefFlag = true;\n  if (degrade) {\n    const iframeBody = rawDocumentQuerySelector.call(iframe.contentDocument, \"body\");\n    renderElementToContainer(document.firstElementChild, iframeBody);\n    renderIframeReplaceApp(window.decodeURIComponent(url), getDegradeIframe(id).parentElement);\n  } else renderIframeReplaceApp(url, shadowRoot.host.parentElement);\n  pushUrlToWindow(id, url);\n  return true;\n}\n\n/**\n * windowdocumentlocation\n */\nexport function proxyGenerator(\n  iframe: HTMLIFrameElement,\n  urlElement: HTMLAnchorElement,\n  mainHostPath: string,\n  appHostPath: string\n): {\n  proxyWindow: Window;\n  proxyDocument: Object;\n  proxyLocation: Object;\n} {\n  const proxyWindow = new Proxy(iframe.contentWindow, {\n    get: (target: Window, p: PropertyKey): any => {\n      // location\n      if (p === \"location\") {\n        return target.__WUJIE.proxyLocation;\n      }\n      // self.self === self\n      if (p === \"self\") {\n        return target.__WUJIE.proxy;\n      }\n      // this\n      if (p === \"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__\" || p === \"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__\") {\n        return target[p];\n      }\n      // this\n      return getTargetValue(target, p);\n    },\n\n    set: (target: Window, p: PropertyKey, value: any) => {\n      target[p] = value;\n      return true;\n    },\n\n    has: (target: Window, p: PropertyKey) => p in target,\n  });\n\n  // proxy document\n  const proxyDocument = new Proxy(\n    {},\n    {\n      get: function (_fakeDocument, propKey) {\n        const document = window.document;\n        const shadowRoot = iframe.contentWindow.__WUJIE.shadowRoot;\n        // need fix\n        if (propKey === \"createElement\" || propKey === \"createTextNode\") {\n          return new Proxy(document[propKey], {\n            apply(createElement, _ctx, args) {\n              const element = createElement.apply(iframe.contentDocument, args);\n              patchElementEffect(element, iframe.contentWindow);\n              return element;\n            },\n          });\n        }\n        if (propKey === \"documentURI\" || propKey === \"URL\") {\n          return (iframe.contentWindow.__WUJIE.proxyLocation as Location).href;\n        }\n\n        // from shadowRoot\n        if (\n          propKey === \"getElementsByTagName\" ||\n          propKey === \"getElementsByClassName\" ||\n          propKey === \"getElementsByName\"\n        ) {\n          return new Proxy(shadowRoot.querySelectorAll, {\n            apply(querySelectorAll, _ctx, args) {\n              let arg = args[0];\n              if (propKey === \"getElementsByTagName\" && arg === \"script\") {\n                return iframe.contentDocument.scripts;\n              }\n              if (propKey === \"getElementsByClassName\") arg = \".\" + arg;\n              if (propKey === \"getElementsByName\") arg = `[name=\"${arg}\"]`;\n              return querySelectorAll.call(shadowRoot, arg);\n            },\n          });\n        }\n        if (propKey === \"getElementById\") {\n          return new Proxy(shadowRoot.querySelector, {\n            apply(querySelector, _ctx, args) {\n              return querySelector.call(shadowRoot, `[id=\"${args[0]}\"]`);\n            },\n          });\n        }\n        if (propKey === \"querySelector\" || propKey === \"querySelectorAll\") {\n          return shadowRoot[propKey].bind(shadowRoot);\n        }\n        if (propKey === \"documentElement\" || propKey === \"scrollingElement\") return shadowRoot.firstElementChild;\n        if (propKey === \"forms\") return shadowRoot.querySelectorAll(\"form\");\n        if (propKey === \"images\") return shadowRoot.querySelectorAll(\"img\");\n        if (propKey === \"links\") return shadowRoot.querySelectorAll(\"a\");\n        const { ownerProperties, shadowProperties, shadowMethods, documentProperties, documentMethods } =\n          documentProxyProperties;\n        if (ownerProperties.concat(shadowProperties).includes(propKey.toString())) {\n          if (propKey === \"activeElement\" && shadowRoot.activeElement === null) return shadowRoot.body;\n          return shadowRoot[propKey];\n        }\n        if (shadowMethods.includes(propKey.toString())) {\n          return getTargetValue(shadowRoot, propKey) ?? getTargetValue(document, propKey);\n        }\n        // from window.document\n        if (documentProperties.includes(propKey.toString())) {\n          return document[propKey];\n        }\n        if (documentMethods.includes(propKey.toString())) {\n          return getTargetValue(document, propKey);\n        }\n      },\n    }\n  );\n\n  // proxy location\n  const proxyLocation = new Proxy(\n    {},\n    {\n      get: function (_fakeLocation, propKey) {\n        const location = iframe.contentWindow.location;\n        if (propKey === \"host\" || propKey === \"hostname\" || propKey === \"protocol\" || propKey === \"port\") {\n          return urlElement[propKey];\n        }\n        if (propKey === \"href\") {\n          return location[propKey].replace(mainHostPath, appHostPath);\n        }\n        if (propKey === \"reload\") {\n          warn(WUJIE_TIPS_RELOAD_DISABLED);\n          return () => null;\n        }\n        return getTargetValue(location, propKey);\n      },\n      set: function (_fakeLocation, propKey, value) {\n        // iframe\n        if (propKey === \"href\") {\n          return locationHrefSet(iframe, value, appHostPath);\n        }\n        iframe.contentWindow.location[propKey] = value;\n        return true;\n      },\n      ownKeys: function () {\n        return Object.keys(iframe.contentWindow.location).filter((key) => key !== \"reload\");\n      },\n      getOwnPropertyDescriptor: function (_target, key) {\n        return { enumerable: true, configurable: true, value: this[key] };\n      },\n    }\n  );\n  return { proxyWindow, proxyDocument, proxyLocation };\n}\n\n/**\n * documentlocation\n */\nexport function localGenerator(\n  iframe: HTMLIFrameElement,\n  urlElement: HTMLAnchorElement,\n  mainHostPath: string,\n  appHostPath: string\n): {\n  proxyDocument: Object;\n  proxyLocation: Object;\n} {\n  //  document\n  const proxyDocument = {};\n  const sandbox = iframe.contentWindow.__WUJIE;\n  // \n  Object.defineProperties(proxyDocument, {\n    createElement: {\n      get: () => {\n        return function (...args) {\n          const element = window.document.createElement.apply(iframe.contentDocument, args);\n          patchElementEffect(element, iframe.contentWindow);\n          return element;\n        };\n      },\n    },\n    createTextNode: {\n      get: () => {\n        return function (...args) {\n          const element = window.document.createTextNode.apply(iframe.contentDocument, args);\n          patchElementEffect(element, iframe.contentWindow);\n          return element;\n        };\n      },\n    },\n    documentURI: {\n      get: () => (sandbox.proxyLocation as Location).href,\n    },\n    URL: {\n      get: () => (sandbox.proxyLocation as Location).href,\n    },\n    getElementsByTagName: {\n      get() {\n        return function (...args) {\n          const tagName = args[0];\n          if (tagName === \"script\") {\n            return iframe.contentDocument.scripts as any;\n          }\n          return sandbox.document.getElementsByTagName(tagName) as any;\n        };\n      },\n    },\n  });\n  // \n  const {\n    modifyLocalProperties,\n    modifyProperties,\n    ownerProperties,\n    shadowProperties,\n    shadowMethods,\n    documentProperties,\n    documentMethods,\n  } = documentProxyProperties;\n  modifyProperties\n    .filter((key) => !modifyLocalProperties.includes(key))\n    .concat(ownerProperties, shadowProperties, shadowMethods, documentProperties, documentMethods)\n    .forEach((key) => {\n      Object.defineProperty(proxyDocument, key, {\n        get: () =>\n          isCallable(sandbox.document[key]) ? sandbox.document[key].bind(sandbox.document) : sandbox.document[key],\n      });\n    });\n\n  //  location\n  const proxyLocation = {};\n  const location = iframe.contentWindow.location;\n  const locationKeys = Object.keys(location);\n  const constantKey = [\"host\", \"hostname\", \"port\", \"protocol\", \"port\"];\n  constantKey.forEach((key) => {\n    proxyLocation[key] = urlElement[key];\n  });\n  Object.defineProperties(proxyLocation, {\n    href: {\n      get: () => location.href.replace(mainHostPath, appHostPath),\n      set: (value) => {\n        locationHrefSet(iframe, value, appHostPath);\n      },\n    },\n    reload: {\n      get() {\n        warn(WUJIE_TIPS_RELOAD_DISABLED);\n        return () => null;\n      },\n    },\n  });\n  locationKeys\n    .filter((key) => !constantKey.concat([\"href\", \"reload\"]).includes(key))\n    .forEach((key) => {\n      Object.defineProperty(proxyLocation, key, {\n        get: () => (isCallable(location[key]) ? location[key].bind(location) : location[key]),\n      });\n    });\n  return { proxyDocument, proxyLocation };\n}\n","/**\n * \n * @author damyxu\n * @since 2021-10-03\n */\nimport { warn, error } from \"./utils\";\nimport { WUJIE_ALL_EVENT, WUJIE_TIPS_NO_SUBJECT } from \"./constant\";\n\nexport type EventObj = { [event: string]: Array<Function> };\n\n// map\nexport const appEventObjMap = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE.inject.appEventObjMap\n  : new Map<String, EventObj>();\n\n// eventBus \nexport class EventBus {\n  private id: string;\n  private eventObj: EventObj;\n\n  constructor(id: string) {\n    this.id = id;\n    this.$clear();\n    if (!appEventObjMap.get(this.id)) {\n      appEventObjMap.set(this.id, {});\n    }\n    this.eventObj = appEventObjMap.get(this.id);\n  }\n\n  // \n  public $on(event: string, fn: Function): EventBus {\n    const cbs = this.eventObj[event];\n    if (!cbs) {\n      this.eventObj[event] = [fn];\n      return this;\n    }\n    if (!cbs.includes(fn)) cbs.push(fn);\n    return this;\n  }\n\n  /** $emit$emit */\n  public $onAll(fn: (event: string, ...args: Array<any>) => any): EventBus {\n    return this.$on(WUJIE_ALL_EVENT, fn);\n  }\n\n  // \n  public $once(event: string, fn: Function): void {\n    const on = function (...args: Array<any>) {\n      this.$off(event, on);\n      fn(...args);\n    }.bind(this);\n    this.$on(event, on);\n  }\n\n  // \n  public $off(event: string, fn: Function): EventBus {\n    const cbs = this.eventObj[event];\n    if (!event || !cbs || !cbs.length) {\n      warn(`${event} ${WUJIE_TIPS_NO_SUBJECT}`);\n      return this;\n    }\n\n    let cb;\n    let i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn) {\n        cbs.splice(i, 1);\n        break;\n      }\n    }\n    return this;\n  }\n\n  // $onAll\n  public $offAll(fn: Function): EventBus {\n    return this.$off(WUJIE_ALL_EVENT, fn);\n  }\n\n  // \n  public $emit(event: string, ...args: Array<any>): EventBus {\n    let cbs = [];\n    let allCbs = [];\n\n    appEventObjMap.forEach((eventObj) => {\n      if (eventObj[event]) cbs = cbs.concat(eventObj[event]);\n      if (eventObj[WUJIE_ALL_EVENT]) allCbs = allCbs.concat(eventObj[WUJIE_ALL_EVENT]);\n    });\n\n    if (!event || (cbs.length === 0 && allCbs.length === 0)) {\n      warn(`${event} ${WUJIE_TIPS_NO_SUBJECT}`);\n    } else {\n      try {\n        for (let i = 0, l = cbs.length; i < l; i++) cbs[i](...args);\n        for (let i = 0, l = allCbs.length; i < l; i++) allCbs[i](event, ...args);\n      } catch (e) {\n        error(e);\n      }\n    }\n    return this;\n  }\n\n  // \n  public $clear(): EventBus {\n    const eventObj = appEventObjMap.get(this.id) ?? {};\n    const events = Object.keys(eventObj);\n    events.forEach((event) => delete eventObj[event]);\n    return this;\n  }\n}\n","/**\n * \n * @author damyxu\n * @since 2021-07-14\n */\n\nimport {\n  iframeGenerator,\n  recoverEventListeners,\n  recoverDocumentListeners,\n  insertScriptToIframe,\n  patchEventTimeStamp,\n} from \"./iframe\";\nimport { syncUrlToWindow, syncUrlToIframe, clearInactiveAppUrl } from \"./sync\";\nimport {\n  createWujieWebComponent,\n  clearChild,\n  getHostCssRules,\n  renderElementToContainer,\n  renderTemplateToShadowRoot,\n  createIframeContainer,\n  renderTemplateToIframe,\n} from \"./shadow\";\nimport { proxyGenerator, localGenerator } from \"./proxy\";\nimport { ScriptResultList } from \"./entry\";\nimport {\n  idToSandboxMap,\n  addSandboxIdMap,\n  deleteSandboxIdMap,\n  rawElementAppendChild,\n  rawDocumentQuerySelector,\n} from \"./common\";\nimport { EventBus, appEventObjMap, EventObj } from \"./event\";\nimport { isFunction, wujieSupport, appRouteParse, requestIdleCallback } from \"./utils\";\nimport { WUJIE_DATA_ATTACH_CSS_FLAG } from \"./constant\";\nimport { plugin, ScriptObjectLoader, loadErrorHandler } from \"./index\";\n\nexport type lifecycle = (appWindow: Window) => any;\ntype lifecycles = {\n  beforeLoad: lifecycle;\n  beforeMount: lifecycle;\n  afterMount: lifecycle;\n  beforeUnmount: lifecycle;\n  afterUnmount: lifecycle;\n  activated: lifecycle;\n  deactivated: lifecycle;\n  loadError: loadErrorHandler;\n};\n/**\n *  Proxyiframe \n */\nexport default class Wujie {\n  public id: string;\n  /**  */\n  public url: string;\n  /**  */\n  public alive: boolean;\n  /** window */\n  public proxy: WindowProxy;\n  /** document */\n  public proxyDocument: Object;\n  /** location */\n  public proxyLocation: Object;\n  /**  */\n  public bus: EventBus;\n  /**  */\n  public el: HTMLElement;\n  /** js */\n  public iframe: HTMLIFrameElement;\n  /** css */\n  public shadowRoot: ShadowRoot;\n  /** template */\n  public template: string;\n  /**  */\n  public replace: (code: string) => string;\n  /** fetch */\n  public fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n  /**  */\n  public lifecycles: lifecycles;\n  /**  */\n  public plugins: Array<plugin>;\n  /** jsready */\n  public iframeReady: Promise<void>;\n  /**  */\n  public preload: Promise<void>;\n  /** js */\n  public execQueue: Array<Function>;\n  /**  */\n  public execFlag: boolean;\n  /** mount */\n  public mountFlag: boolean;\n  /**  */\n  public sync: boolean;\n  /**  */\n  public prefix: { [key: string]: string };\n  /**  */\n  public hrefFlag: boolean;\n  /** fiber */\n  public fiber: boolean;\n  /**  */\n  public degrade: boolean;\n  /** document */\n  public document: Document;\n  /** styleSheet */\n  public styleSheetElements: Array<HTMLLinkElement | HTMLStyleElement>;\n  /** dom */\n  public elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n\n  /** $wujie */\n  public provide: {\n    bus: EventBus;\n    shadowRoot?: ShadowRoot | undefined;\n    props?: { [key: string]: any } | undefined;\n    location?: Object;\n  };\n\n  /**  */\n  public inject: {\n    idToSandboxMap: Map<String, Wujie>;\n    appEventObjMap: Map<String, EventObj>;\n    mainHostPath: string;\n  };\n\n  /** \n   * 1\n   * 2iframefetch\n   * 3shadow\n   * 4\n   */\n  public async active(options: {\n    url: string;\n    sync?: boolean;\n    prefix?: { [key: string]: string };\n    template?: string;\n    el?: string | HTMLElement;\n    props?: { [key: string]: any };\n    alive?: boolean;\n    fetch?: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n    replace?: (code: string) => string;\n  }): Promise<void> {\n    const { sync, url, el, template, props, alive, prefix, fetch, replace } = options;\n    this.url = url;\n    this.sync = sync;\n    this.alive = alive;\n    this.hrefFlag = false;\n    this.prefix = prefix ?? this.prefix;\n    this.replace = replace ?? this.replace;\n    this.provide.props = props ?? this.provide.props;\n    // wait iframe init\n    await this.iframeReady;\n\n    // fetch\n    // TODO fetch legality check\n    const iframeWindow = this.iframe.contentWindow;\n    const iframeFetch = fetch\n      ? (input: RequestInfo, init?: RequestInit) =>\n          fetch(typeof input === \"string\" ? new URL(input, (this.proxyLocation as Location).href).href : input, init)\n      : this.fetch;\n    if (iframeFetch) {\n      iframeWindow.fetch = iframeFetch;\n      this.fetch = iframeFetch;\n    }\n\n    // \n    if (this.execFlag && this.alive) {\n      // \n      syncUrlToWindow(iframeWindow);\n    } else {\n      // urliframeurl\n      syncUrlToIframe(iframeWindow);\n      syncUrlToWindow(iframeWindow);\n    }\n\n    // inject template\n    this.template = template ?? this.template;\n\n    /*  */\n    if (this.degrade) {\n      const iframe = createIframeContainer(this.id);\n      const iframeBody = rawDocumentQuerySelector.call(iframeWindow.document, \"body\") as HTMLElement;\n      this.el = renderElementToContainer(iframe, el ?? iframeBody);\n      clearChild(iframe.contentDocument);\n      // jsiframedom\n      if (el) clearChild(iframeBody);\n      // vueevent.timeStamp\n      patchEventTimeStamp(iframe.contentWindow, iframeWindow);\n      // iframeunmount\n      iframe.contentWindow.onunload = () => {\n        this.unmount();\n      };\n      if (this.document) {\n        if (this.alive) {\n          iframe.contentDocument.appendChild(this.document.firstElementChild);\n          // \n          recoverEventListeners(iframe.contentDocument.firstElementChild, iframeWindow);\n        } else {\n          await renderTemplateToIframe(iframe.contentDocument, this.iframe.contentWindow, this.template);\n          // react16\n          recoverDocumentListeners(\n            this.document.firstElementChild,\n            iframe.contentDocument.firstElementChild,\n            iframeWindow\n          );\n        }\n      } else {\n        await renderTemplateToIframe(iframe.contentDocument, this.iframe.contentWindow, this.template);\n      }\n      this.document = iframe.contentDocument;\n      return;\n    }\n\n    if (this.shadowRoot) {\n      /*\n       document.addEventListener was transfer to shadowRoot.addEventListener\n       react 16 SyntheticEvent will remember document event for avoid repeat listen\n       shadowRoot have to dispatchEvent for react 16 so can't be destroyed\n       this may lead memory leak risk\n       */\n      this.el = renderElementToContainer(this.shadowRoot.host, el);\n      if (this.alive) return;\n    } else {\n      // iframeWeb Componentconnect\n      const iframeBody = rawDocumentQuerySelector.call(iframeWindow.document, \"body\") as HTMLElement;\n      this.el = renderElementToContainer(createWujieWebComponent(this.id), el ?? iframeBody);\n    }\n\n    await renderTemplateToShadowRoot(this.shadowRoot, iframeWindow, this.template);\n\n    // inject shadowRoot to app\n    this.provide.shadowRoot = this.shadowRoot;\n  }\n\n  /** \n   * 1js\n   * 2\n   */\n  public async start(getExternalScripts: () => ScriptResultList): Promise<void> {\n    this.execFlag = true;\n    // \n    const scriptResultList = await getExternalScripts();\n    // \n    if (!this.iframe) return;\n    const iframeWindow = this.iframe.contentWindow;\n    // \n    iframeWindow.__POWERED_BY_WUJIE__ = true;\n    // \n    const beforeScriptResultList: ScriptObjectLoader[] = this.plugins\n      .map((plugin) => plugin.jsBeforeLoaders)\n      .reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), [])\n      .filter((preLoader) => typeof preLoader === \"object\");\n    // \n    const afterScriptResultList: ScriptObjectLoader[] = this.plugins\n      .map((plugin) => plugin.jsAfterLoaders)\n      .reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), [])\n      .filter((afterLoader) => typeof afterLoader === \"object\");\n    // \n    const syncScriptResultList: ScriptResultList = [];\n    // async\n    const asyncScriptResultList: ScriptResultList = [];\n    // deferDOMContentLoaded\n    const deferScriptResultList: ScriptResultList = [];\n    scriptResultList.forEach((scriptResult) => {\n      if (scriptResult.defer) deferScriptResultList.push(scriptResult);\n      else if (scriptResult.async) asyncScriptResultList.push(scriptResult);\n      else syncScriptResultList.push(scriptResult);\n    });\n\n    // \n    beforeScriptResultList.forEach((beforeScriptResult) => {\n      this.execQueue.push(() =>\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe(beforeScriptResult, iframeWindow))\n          : insertScriptToIframe(beforeScriptResult, iframeWindow)\n      );\n    });\n\n    // \n    syncScriptResultList.concat(deferScriptResultList).forEach((scriptResult) => {\n      this.execQueue.push(() =>\n        scriptResult.contentPromise.then((content) =>\n          this.fiber\n            ? requestIdleCallback(() => insertScriptToIframe({ ...scriptResult, content }, iframeWindow))\n            : insertScriptToIframe({ ...scriptResult, content }, iframeWindow)\n        )\n      );\n    });\n\n    // \n    asyncScriptResultList.forEach((scriptResult) => {\n      scriptResult.contentPromise.then((content) => {\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe({ ...scriptResult, content }, iframeWindow))\n          : insertScriptToIframe({ ...scriptResult, content }, iframeWindow);\n      });\n    });\n\n    this.execQueue.push(this.fiber ? () => requestIdleCallback(() => this.mount()) : () => this.mount());\n\n    // \n    afterScriptResultList.forEach((afterScriptResult) => {\n      this.execQueue.push(() =>\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe(afterScriptResult, iframeWindow))\n          : insertScriptToIframe(afterScriptResult, iframeWindow)\n      );\n    });\n\n    this.execQueue.shift()();\n\n    // execQueuestart\n    return new Promise((resolve) => {\n      this.execQueue.push(() => {\n        resolve();\n        this.execQueue.shift()?.();\n      });\n    });\n  }\n\n  /**\n   * mount__WUJIE_MOUNTasync\n   * fibermountmount\n   * __WUJIE_MOUNTwindowmount\n   * window.__WUJIE.mount()\n   */\n  public mount(): void {\n    if (this.mountFlag) return;\n    this.attachHostCssRules();\n    if (isFunction(this.iframe.contentWindow.__WUJIE_MOUNT)) {\n      this.lifecycles?.beforeMount?.(this.iframe.contentWindow);\n      this.iframe.contentWindow.__WUJIE_MOUNT();\n      this.lifecycles?.afterMount?.(this.iframe.contentWindow);\n      this.mountFlag = true;\n    }\n    if (this.alive) {\n      this.lifecycles?.activated?.(this.iframe.contentWindow);\n    }\n    this.execQueue.shift()?.();\n  }\n\n  /** proxyLocation.hrefshadow */\n  public unmount(): void {\n    // iframeclear\n    this.degrade ? setTimeout(() => clearInactiveAppUrl()) : clearInactiveAppUrl();\n    if (this.alive) {\n      this.lifecycles?.deactivated?.(this.iframe.contentWindow);\n    }\n    if (!this.mountFlag) return;\n    if (isFunction(this.iframe.contentWindow.__WUJIE_UNMOUNT) && !this.alive && !this.hrefFlag) {\n      this.lifecycles?.beforeUnmount?.(this.iframe.contentWindow);\n      this.iframe.contentWindow.__WUJIE_UNMOUNT();\n      this.lifecycles?.afterUnmount?.(this.iframe.contentWindow);\n      this.mountFlag = false;\n      this.bus.$clear();\n      if (!this.degrade) clearChild(this.shadowRoot);\n    }\n  }\n\n  /**  */\n  public destroy() {\n    this.bus.$clear();\n    this.shadowRoot = null;\n    this.iframe = null;\n    this.proxy = null;\n    this.proxyDocument = null;\n    this.proxyLocation = null;\n    this.execQueue = null;\n    this.provide = null;\n    this.styleSheetElements = null;\n    this.bus = null;\n    this.el = null;\n    this.replace = null;\n    this.fetch = null;\n    this.execFlag = null;\n    this.mountFlag = null;\n    this.hrefFlag = null;\n    this.document = null;\n    this.elementEventCacheMap = null;\n    this.lifecycles = null;\n    this.plugins = null;\n    this.provide = null;\n    this.inject = null;\n    this.execQueue = null;\n    this.prefix = null;\n\n    (window.__POWERED_BY_WUJIE__\n      ? window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__.call(window.document, \"iframe\")\n      : window.document.querySelectorAll(\"iframe\")\n    ).forEach((iframe) => {\n      if (iframe.name === this.id) iframe.parentNode.removeChild(iframe);\n    });\n    deleteSandboxIdMap(this.id);\n  }\n\n  /** mount */\n  public rebuildStyleSheets(): void {\n    if (this.styleSheetElements && this.styleSheetElements.length) {\n      this.styleSheetElements.forEach((styleSheetElement) => {\n        rawElementAppendChild.call(this.degrade ? this.document.head : this.shadowRoot.head, styleSheetElement);\n      });\n    }\n    this.attachHostCssRules();\n  }\n\n  /** :root:host */\n  public attachHostCssRules(): void {\n    if (this.degrade) return;\n    if (this.shadowRoot.host.hasAttribute(WUJIE_DATA_ATTACH_CSS_FLAG)) return;\n    const hostStyleSheetElement = getHostCssRules(\n      Array.from(this.iframe.contentDocument.querySelectorAll(\"style\")).map(\n        (styleSheetElement) => styleSheetElement.sheet\n      )\n    );\n    if (hostStyleSheetElement) {\n      this.shadowRoot.head.appendChild(hostStyleSheetElement);\n      this.styleSheetElements.push(hostStyleSheetElement);\n      this.shadowRoot.host.setAttribute(WUJIE_DATA_ATTACH_CSS_FLAG, \"\");\n    }\n  }\n\n  /**\n   * @param id id\n   * @param url urlprotocolhostpathqueryhash\n   */\n  constructor(options: {\n    name: string;\n    url: string;\n    attrs: { [key: string]: any };\n    fiber: boolean;\n    degrade;\n    plugins: Array<plugin> | plugin;\n    lifecycles: lifecycles;\n  }) {\n    // inject\n    if (window.__POWERED_BY_WUJIE__) this.inject = window.__WUJIE.inject;\n    else {\n      this.inject = {\n        idToSandboxMap,\n        appEventObjMap,\n        mainHostPath: window.location.protocol + \"//\" + window.location.host,\n      };\n    }\n    const { name, url, attrs, fiber, degrade, lifecycles, plugins } = options;\n    this.id = name;\n    this.fiber = fiber;\n    this.degrade = degrade || !wujieSupport;\n    this.bus = new EventBus(this.id);\n    this.url = url;\n    this.provide = { bus: this.bus };\n    this.styleSheetElements = [];\n    this.execQueue = [];\n    this.lifecycles = lifecycles;\n    this.plugins = Array.isArray(plugins) ? plugins : [];\n\n    // \n    const { urlElement, appHostPath, appRoutePath } = appRouteParse(url);\n    const { mainHostPath } = this.inject;\n    // iframe\n    const iframe = iframeGenerator(this, attrs, mainHostPath, appHostPath, appRoutePath);\n    this.iframe = iframe;\n\n    if (this.degrade) {\n      const { proxyDocument, proxyLocation } = localGenerator(iframe, urlElement, mainHostPath, appHostPath);\n      this.proxyDocument = proxyDocument;\n      this.proxyLocation = proxyLocation;\n    } else {\n      const { proxyWindow, proxyDocument, proxyLocation } = proxyGenerator(\n        iframe,\n        urlElement,\n        mainHostPath,\n        appHostPath\n      );\n      this.proxy = proxyWindow;\n      this.proxyDocument = proxyDocument;\n      this.proxyLocation = proxyLocation;\n    }\n    this.provide.location = this.proxyLocation;\n\n    addSandboxIdMap(this.id, this);\n  }\n}\n","/**\n * @author damyxu\n * @since 2021-7-27\n */\n\nimport importHTML, { processCssLoader } from \"./entry\";\nimport { StyleObject } from \"./template\";\nimport WuJie, { lifecycle } from \"./sandbox\";\nimport { defineWujieWebComponent } from \"./shadow\";\nimport { processAppForHrefJump } from \"./sync\";\nimport { wujieSupport, isFunction, requestIdleCallback, isMatchSyncQueryById, warn } from \"./utils\";\nimport { getSandboxById } from \"./common\";\nimport { EventBus } from \"./event\";\nimport { WUJIE_TIPS_STOP_APP, WUJIE_TIPS_NOT_SUPPORTED } from \"./constant\";\n\nexport const bus = new EventBus(Date.now().toString());\n\nexport interface ScriptObjectLoader {\n  /**  */\n  src: string;\n  /** module */\n  module?: boolean;\n  /** crossorigin */\n  crossorigin?: boolean;\n  /** crossorigin */\n  crossoriginType?: \"anonymous\" | \"use-credentials\" | \"\";\n  /** script */\n  content?: string;\n  /**  */\n  callback?: (appWindow: Window) => any;\n}\nexport interface plugin {\n  /** htmlloader */\n  htmlLoader: (code: string) => string;\n  /** js */\n  jsExcludes: Array<string>;\n  /** jsloader */\n  jsBeforeLoaders: Array<ScriptObjectLoader>;\n  /** jsloader */\n  jsLoader: (code: string, url: string) => string;\n  /** jsloader */\n  jsAfterLoaders: Array<ScriptObjectLoader>;\n  /** css */\n  cssExcludes: Array<string>;\n  /** cssloader */\n  cssBeforeLoaders: Array<StyleObject>;\n  /** cssloader */\n  cssLoader: (code: string, url: string) => string;\n  /** cssloader */\n  cssAfterLoaders: Array<StyleObject>;\n  /**  window addEventListener  */\n  windowAddEventListenerHook?: eventListenerHook;\n  /**  window removeEventListener  */\n  windowRemoveEventListenerHook?: eventListenerHook;\n  /**  document addEventListener  */\n  documentAddEventListenerHook?: eventListenerHook;\n  /**  document removeEventListener  */\n  documentRemoveEventListenerHook?: eventListenerHook;\n  /**  window  */\n  windowPropertyOverride?: (iframeWindow: Window) => void;\n  /**  document  */\n  documentPropertyOverride?: (iframeWindow: Window) => void;\n}\n\ntype eventListenerHook = (\n  iframeWindow: Window,\n  type: string,\n  handler: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions\n) => void;\n\nexport type loadErrorHandler = (url: string, e: Error) => any;\n\ntype baseOptions = {\n  /**  */\n  name: string;\n  /** url */\n  url: string;\n  /**  */\n  replace?: (code: string) => string;\n  /** fetch */\n  fetch?: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n  /**  */\n  props?: { [key: string]: any };\n  /** iframe */\n  attrs?: { [key: string]: any };\n  /** fiber */\n  fiber?: boolean;\n  /** state */\n  alive?: boolean;\n  /** iframe */\n  degrade?: boolean;\n  /**  */\n  plugins?: Array<plugin>;\n  /**  */\n  beforeLoad?: lifecycle;\n  beforeMount?: lifecycle;\n  afterMount?: lifecycle;\n  beforeUnmount?: lifecycle;\n  afterUnmount?: lifecycle;\n  activated?: lifecycle;\n  deactivated?: lifecycle;\n  loadError?: loadErrorHandler;\n};\n\ntype preOptions = baseOptions & {\n  /**  */\n  exec?: boolean;\n};\n\ntype startOptions = baseOptions & {\n  /**  */\n  el: HTMLElement | string;\n  /**\n   * \n   * falsehistory\n   * https://html.spec.whatwg.org/multipage/history.html#the-history-interface\n   */\n  sync?: boolean;\n  /**  */\n  prefix?: { [key: string]: string };\n};\n\n/**\n * \n * wujie.__WUJIE true\n * window.__POWERED_BY_WUJIE__ false\n * iframeloading\n */\nif (window.__WUJIE && !window.__POWERED_BY_WUJIE__) {\n  warn(WUJIE_TIPS_STOP_APP);\n  throw new Error(WUJIE_TIPS_STOP_APP);\n}\n\n// \nprocessAppForHrefJump();\n\n// webComponent\ndefineWujieWebComponent();\n\n// \nif (!wujieSupport) warn(WUJIE_TIPS_NOT_SUPPORTED);\n\n/**\n * app\n */\nexport async function startApp({\n  name,\n  url,\n  replace,\n  el,\n  sync,\n  prefix,\n  alive,\n  props,\n  attrs = {},\n  fiber = true,\n  degrade,\n  plugins,\n  fetch,\n  beforeLoad,\n  beforeMount,\n  afterMount,\n  beforeUnmount,\n  afterUnmount,\n  activated,\n  deactivated,\n  loadError,\n}: startOptions): Promise<Function | void> {\n  const sandbox = getSandboxById(name);\n  const lifecycles = {\n    beforeLoad,\n    beforeMount,\n    afterMount,\n    beforeUnmount,\n    afterUnmount,\n    activated,\n    deactivated,\n    loadError,\n  };\n  // \n  if (sandbox) {\n    sandbox.plugins = Array.isArray(plugins) ? plugins : [];\n    sandbox.lifecycles = lifecycles;\n    const iframeWindow = sandbox.iframe.contentWindow;\n    if (sandbox.preload) {\n      await Promise.resolve(sandbox.preload);\n    }\n    if (alive) {\n      // \n      await sandbox.active({ url, sync, prefix, el, props, alive, fetch, replace });\n      // \n      if (!sandbox.execFlag) {\n        sandbox.lifecycles?.beforeLoad?.(sandbox.iframe.contentWindow);\n        const { getExternalScripts } = await importHTML(url, {\n          fetch: fetch || window.fetch,\n          plugins: sandbox.plugins,\n          loadError: sandbox.lifecycles.loadError,\n        });\n        await sandbox.start(getExternalScripts);\n      }\n      sandbox.lifecycles?.activated?.(sandbox.iframe.contentWindow);\n      return sandbox.destroy;\n    } else if (isFunction(iframeWindow.__WUJIE_MOUNT)) {\n      /**\n       * webcomponentdisconnectedCallbacksandbox.unmount\n       * webcomponentstartAppunmount\n       */\n      sandbox.unmount();\n      await sandbox.active({ url, sync, prefix, el, props, alive, fetch, replace });\n      // \n      sandbox.lifecycles?.beforeMount?.(sandbox.iframe.contentWindow);\n      iframeWindow.__WUJIE_MOUNT();\n      sandbox.lifecycles?.afterMount?.(sandbox.iframe.contentWindow);\n      sandbox.mountFlag = true;\n      sandbox.rebuildStyleSheets();\n      return sandbox.destroy;\n    } else {\n      // \n      sandbox.destroy();\n    }\n  }\n\n  const newSandbox = new WuJie({ name, url, attrs, fiber, degrade, plugins, lifecycles });\n  newSandbox.lifecycles?.beforeLoad?.(newSandbox.iframe.contentWindow);\n  const { template, getExternalScripts, getExternalStyleSheets } = await importHTML(url, {\n    fetch: fetch || window.fetch,\n    plugins: newSandbox.plugins,\n    loadError: newSandbox.lifecycles.loadError,\n  });\n\n  const processedHtml = await processCssLoader(newSandbox, template, getExternalStyleSheets);\n  await newSandbox.active({ url, sync, prefix, template: processedHtml, el, props, alive, fetch, replace });\n  await newSandbox.start(getExternalScripts);\n  return newSandbox.destroy;\n}\n\n/**\n * APP\n */\nexport function preloadApp({\n  name,\n  url,\n  replace,\n  props,\n  attrs = {},\n  fiber = true,\n  alive,\n  degrade,\n  fetch,\n  exec,\n  plugins,\n  beforeLoad,\n  beforeMount,\n  afterMount,\n  beforeUnmount,\n  afterUnmount,\n  activated,\n  deactivated,\n  loadError,\n}: preOptions): void {\n  requestIdleCallback((): void | Promise<void> => {\n    /**\n     * \n     * urlidurl\n     */\n    if (getSandboxById(name) || isMatchSyncQueryById(name)) return;\n    const lifecycles = {\n      beforeLoad,\n      beforeMount,\n      afterMount,\n      beforeUnmount,\n      afterUnmount,\n      activated,\n      deactivated,\n      loadError,\n    };\n    const sandbox = new WuJie({ name, url, attrs, fiber, degrade, plugins, lifecycles });\n    if (sandbox.preload) return sandbox.preload;\n    const runPreload = async () => {\n      sandbox.lifecycles?.beforeLoad?.(sandbox.iframe.contentWindow);\n      const { template, getExternalScripts, getExternalStyleSheets } = await importHTML(url, {\n        fetch: fetch || window.fetch,\n        plugins: sandbox.plugins,\n        loadError: sandbox.lifecycles.loadError,\n      });\n      const processedHtml = await processCssLoader(sandbox, template, getExternalStyleSheets);\n      await sandbox.active({ url, props, alive, template: processedHtml, fetch, replace });\n      if (exec) {\n        await sandbox.start(getExternalScripts);\n      }\n    };\n    sandbox.preload = runPreload();\n  });\n}\n\n/**\n * APP\n */\nexport function destroyApp(id: string): void {\n  const sandbox = getSandboxById(id);\n  if (sandbox) {\n    sandbox.destroy();\n  }\n}\n","export const wujiFetch = function (url, options) {\n  const exclude = [\"//cdn-go.cn\", \"//vfiles.gtimg.cn\", \"//pingjs.qq.com\"];\n  return window\n    .fetch(url, {\n      ...options,\n      mode: \"cors\",\n      credentials: exclude.some((host) => url.includes(host)) ? \"omit\" : \"include\",\n    })\n    .then(\n      (response) => response,\n      (error) => {\n        console.error(error);\n        const loginHTML = `<html>\n<body>\n  <div></div>\n  <div>\n    <a target=\"_blank\" href='https://passport.oa.com/modules/passport/signin.ashx?url=http%3A%2F%2Fd.wuji.woa.com%2F_sp_login_%2F%3Furl%3D%252Fxy%252Fapp%252Fdev%252Ftest_wuji_damy%252Fdamyxu-wujie-alive%26app%3D'></a>\n  </div>\n</body>\n</html>`;\n        let needLogin = false;\n        if (url.includes(\"//d.wuji.woa.com/xy/app/dev/test_wuji_damy/damyxu-wujie-alive\")) needLogin = true;\n        return {\n          text: () => (needLogin ? loginHTML : \"\"),\n        };\n      }\n    );\n};\n\nexport const props = {\n  version: \"1.0.0\",\n  authId: \"wujie\",\n  authKey: \"d0938c84a7434cd1b0607a4324dff4d8\",\n};\n","<template>\n  <div style=\"height: 100%; width: 100%\" ref=\"contain\"></div>\n</template>\n\n<script>\nimport { startApp } from \"@tencent/wujie\";\nimport { wujiFetch, props } from \"../wuji\";\nexport default {\n  async mounted() {\n    try {\n      await startApp({\n        name: \"wuji\",\n        url: \"//d.test.wuji.woa.com/xy/app/dev/test_wuji_damy/radio_test\",\n        el: this.$refs.contain,\n        alive: false,\n        fetch: wujiFetch,\n        props,\n        sync: true,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WujiRadio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WujiRadio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WujiRadio.vue?vue&type=template&id=9569a318&scoped=true&\"\nimport script from \"./WujiRadio.vue?vue&type=script&lang=js&\"\nexport * from \"./WujiRadio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9569a318\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"contain\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height: 100%; width: 100%\" ref=\"contain\"></div>\n</template>\n\n<script>\nimport { startApp } from \"@tencent/wujie\";\nimport { wujiFetch, props } from \"../wuji\";\nexport default {\n  async mounted() {\n    try {\n      await startApp({\n        name: \"wuji\",\n        url: \"//d.test.wuji.woa.com/xy/app/dev/test_wuji_damy/checkbox_test\",\n        el: this.$refs.contain,\n        alive: false,\n        fetch: wujiFetch,\n        props,\n        sync: true,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WujiCheckbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WujiCheckbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WujiCheckbox.vue?vue&type=template&id=e94ae9f8&scoped=true&\"\nimport script from \"./WujiCheckbox.vue?vue&type=script&lang=js&\"\nexport * from \"./WujiCheckbox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e94ae9f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"wujiAlive\",\"url\":\"//d.wuji.woa.com/xy/app/dev/test_wuji_damy/damyxu-wujie-alive\",\"alive\":true,\"sync\":true,\"fetch\":_vm.fetch,\"props\":_vm.props}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <WujieVue\n    width=\"100%\"\n    height=\"100%\"\n    name=\"wujiAlive\"\n    url=\"//d.wuji.woa.com/xy/app/dev/test_wuji_damy/damyxu-wujie-alive\"\n    :alive=\"true\"\n    :sync=\"true\"\n    :fetch=\"fetch\"\n    :props=\"props\"\n  ></WujieVue>\n</template>\n\n<script>\nimport { wujiFetch, props } from \"../wuji\";\n\nexport default {\n  data() {\n    return {\n      fetch: wujiFetch,\n      props: props,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WujiAlive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WujiAlive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WujiAlive.vue?vue&type=template&id=ec2649b4&scoped=true&\"\nimport script from \"./WujiAlive.vue?vue&type=script&lang=js&\"\nexport * from \"./WujiAlive.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ec2649b4\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport React16 from \"../views/React16.vue\";\nimport React17 from \"../views/React17.vue\";\nimport Vue2 from \"../views/Vue2.vue\";\nimport Vite from \"../views/Vite.vue\";\nimport Vue3 from \"../views/Vue3.vue\";\nimport Angular12 from \"../views/Angular12.vue\";\nimport Multiple from \"../views/Multiple.vue\";\nimport WujiRadio from \"../views/WujiRadio.vue\";\nimport WujiCheckbox from \"../views/WujiCheckbox.vue\";\nimport WujiAlive from \"../views/WujiAlive.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/home\",\n    name: \"home\",\n    component: Home,\n  },\n  {\n    path: \"/react16\",\n    name: \"react16\",\n    component: React16,\n  },\n  {\n    path: \"/react17\",\n    name: \"react17\",\n    component: React17,\n  },\n  {\n    path: \"/vue2\",\n    name: \"vue2\",\n    component: Vue2,\n  },\n  {\n    path: \"/vite\",\n    name: \"vite\",\n    component: Vite,\n  },\n  {\n    path: \"/vue3\",\n    name: \"vue3\",\n    component: Vue3,\n  },\n  {\n    path: \"/angular12\",\n    name: \"angular12\",\n    component: Angular12,\n  },\n  {\n    path: \"/wuji-radio\",\n    name: \"wujiRadio\",\n    component: WujiRadio,\n  },\n  {\n    path: \"/wuji-checkbox\",\n    name: \"wujiCheckbox\",\n    component: WujiCheckbox,\n  },\n  {\n    path: \"/wuji-alive\",\n    name: \"wujiAlive\",\n    component: WujiAlive,\n  },\n  {\n    path: \"/all\",\n    name: \"all\",\n    component: Multiple,\n  },\n  {\n    path: \"/\",\n    redirect: \"/home\",\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport { bus, preloadApp, startApp, destroyApp } from \"@tencent/wujie\";\n\nconst wujieVueOptions = {\n  name: \"WujieVue\",\n  props: {\n    width: { type: String, default: \"\" },\n    height: { type: String, default: \"\" },\n    name: { type: String, default: \"\" },\n    url: { type: String, default: \"\" },\n    sync: { type: Boolean, default: false },\n    prefix: { type: Object, default: undefined },\n    alive: { type: Boolean, default: false },\n    props: { type: Object, default: undefined },\n    replace: { type: Function, default: undefined },\n    fetch: { type: Function, default: undefined },\n    fiber: { type: Boolean, default: true },\n    degrade: { type: Boolean, default: false },\n    plugins: { type: Array, default: null },\n    beforeLoad: { type: Function, default: null },\n    beforeMount: { type: Function, default: null },\n    afterMount: { type: Function, default: null },\n    beforeUnmount: { type: Function, default: null },\n    afterUnmount: { type: Function, default: null },\n    activated: { type: Function, default: null },\n    deactivated: { type: Function, default: null },\n    loadError: { type: Function, default: null },\n  },\n  data() {\n    return {\n      destroy: null,\n      startAppQueue: Promise.resolve(),\n    };\n  },\n  mounted() {\n    bus.$onAll(this.handleEmit);\n    this.execStartApp();\n    this.$watch(\n      () => this.name + this.url,\n      () => this.execStartApp()\n    );\n  },\n  methods: {\n    handleEmit(event, ...args) {\n      this.$emit(event, ...args);\n    },\n    execStartApp() {\n      this.startAppQueue = this.startAppQueue.then(async () => {\n        try {\n          this.destroy = await startApp({\n            name: this.name,\n            url: this.url,\n            el: this.$refs.wujie,\n            alive: this.alive,\n            fetch: this.fetch,\n            props: this.props,\n            replace: this.replace,\n            sync: this.sync,\n            prefix: this.prefix,\n            fiber: this.fiber,\n            degrade: this.degrade,\n            plugins: this.plugins,\n            beforeLoad: this.beforeLoad,\n            beforeMount: this.beforeMount,\n            afterMount: this.afterMount,\n            beforeUnmount: this.beforeUnmount,\n            afterUnmount: this.afterUnmount,\n            activated: this.activated,\n            deactivated: this.deactivated,\n            loadError: this.loadError,\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      });\n    },\n  },\n  beforeDestroy() {\n    bus.$offAll(this.handleEmit);\n  },\n  render(c) {\n    return c(\"div\", {\n      style: {\n        width: this.height,\n        height: this.height,\n      },\n      ref: \"wujie\",\n    });\n  },\n};\n\nconst WujieVue = Vue.extend(wujieVueOptions);\n\nWujieVue.preloadApp = preloadApp;\nWujieVue.bus = bus;\nWujieVue.destroyApp = destroyApp;\nWujieVue.install = function (Vue) {\n  Vue.component(\"WujieVue\", WujieVue);\n};\n\nexport default WujieVue;\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport WujieVue from \"@tencent/wujie-vue2\";\nimport hostMap from \"./hostMap\";\nimport credentialsFetch from \"./fetch\";\nimport Switch from \"ant-design-vue/es/switch\";\nimport Tooltip from \"ant-design-vue/es/tooltip\";\nimport \"ant-design-vue/es/style/index.css\";\nimport \"ant-design-vue/es/switch/style/index.css\";\nimport \"ant-design-vue/es/tooltip/style/index.css\";\nimport lifecycles from \"./lifecycle\";\nimport plugins from \"./plugin\";\n// import { wujiFetch, props } from \"./wuji\";\n\nconst { preloadApp, bus } = WujieVue;\nVue.use(WujieVue).use(Switch).use(Tooltip);\n\nVue.config.productionTip = false;\n\nbus.$on(\"click\", (msg) => window.alert(msg));\n\nif (window.localStorage.getItem(\"preload\") !== \"false\") {\n  const degrade = window.localStorage.getItem(\"degrade\") === \"true\" || !window.Proxy || !window.CustomElementRegistry;\n  preloadApp({\n    name: \"react16\",\n    url: hostMap(\"//localhost:7600\"),\n    exec: true,\n    fetch: credentialsFetch,\n    degrade,\n    plugins,\n    ...lifecycles,\n  });\n  preloadApp({\n    name: \"react17\",\n    url: hostMap(\"//localhost:7100\"),\n    exec: true,\n    alive: true,\n    fetch: credentialsFetch,\n    degrade,\n    ...lifecycles,\n  });\n  preloadApp({\n    name: \"vue2\",\n    url: hostMap(\"//localhost:7200\"),\n    exec: true,\n    fetch: credentialsFetch,\n    degrade,\n    ...lifecycles,\n  });\n  preloadApp({\n    name: \"vue3\",\n    url: hostMap(\"//localhost:7300\"),\n    exec: true,\n    alive: true,\n    // credentials\n    fetch: (url, options) =>\n      url.includes(hostMap(\"//localhost:7300\")) ? credentialsFetch(url, options) : window.fetch(url, options),\n    degrade,\n    ...lifecycles,\n  });\n  preloadApp({\n    name: \"angular12\",\n    url: hostMap(\"//localhost:7400\"),\n    exec: true,\n    fetch: credentialsFetch,\n    degrade,\n    ...lifecycles,\n  });\n  preloadApp({\n    name: \"vite\",\n    url: hostMap(\"//localhost:7500\"),\n    exec: true,\n    fetch: credentialsFetch,\n    degrade,\n    ...lifecycles,\n  });\n  // preloadApp({\n  //   name: \"wuji\",\n  //   url: \"//d.test.wuji.woa.com/xy/app/dev/test_wuji_damy/radio_test\",\n  //   fetch: wujiFetch,\n  //   props,\n  //   exec: true,\n  // });\n  // preloadApp({\n  //   name: \"wujiAlive\",\n  //   url: \"//d.wuji.woa.com/xy/app/dev/test_wuji_damy/damyxu-wujie-alive\",\n  //   fetch: wujiFetch,\n  //   props,\n  //   exec: true,\n  //   alive: true\n  // });\n}\n\nnew Vue({\n  router,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n"],"sourceRoot":""}