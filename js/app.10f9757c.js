(function(e){function t(t){for(var o,c,l=t[0],a=t[1],s=t[2],d=0,f=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,l=1;l<n.length;l++){var a=n[l];0!==r[a]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},i=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=a;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"051bc":function(e,t,n){"use strict";n("2f9c")},"13b9":function(e,t,n){},2154:function(e,t,n){"use strict";n("ed34")},"2f9c":function(e,t,n){},3993:function(e,t,n){"use strict";n("b1e2")},4647:function(e,t,n){"use strict";n("13b9")},"56d7":function(e,t,n){"use strict";n.r(t);n("caad");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/home"}},[e._v("介绍")]),n("router-link",{attrs:{to:"/react16"}},[e._v("react16")]),n("router-link",{attrs:{to:"/react17"}},[e._v("react17"),n("span",{staticClass:"alive"},[e._v("保活")])]),n("router-link",{attrs:{to:"/vue2"}},[e._v("vue2")]),n("router-link",{attrs:{to:"/vue3"}},[e._v("vue3"),n("span",{staticClass:"alive"},[e._v("保活")])]),n("router-link",{attrs:{to:"/vite"}},[e._v("vite")]),n("router-link",{attrs:{to:"/angular12"}},[e._v("angular12")]),n("router-link",{attrs:{to:"/all"}},[e._v("all")])],1),n("div",{staticClass:"content"},[n("router-view")],1)])},i=[],c=(n("034f"),n("2877")),l={},a=Object(c["a"])(l,r,i,!1,null,null,null),s=a.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"fixed"},[n("a",{staticClass:"docs",attrs:{href:"https://wujie.pages.woa.com/",target:"_blank"}},[e._v("文档")]),n("a",{staticClass:"docs",attrs:{href:"https://git.woa.com/wujie/wujie/tree/master/examples/main-vue/",target:"_blank"}},[e._v("仓库")]),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v("主应用为hash模式")]),n("a",{staticClass:"docs",attrs:{href:"https://wujie-demo-react.pages.woa.com/",target:"_blank"}},[e._v("react主应用")])],2),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v("预加载+预执行")]),n("a-switch",{staticClass:"switch",attrs:{"checked-children":"预加载开","un-checked-children":"预加载关"},model:{value:e.preload,callback:function(t){e.preload=t},expression:"preload"}})],2),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v("主动降级，去除shadow+proxy")]),n("a-switch",{staticClass:"switch",attrs:{disabled:e.disable,"checked-children":"降级开","un-checked-children":"降级关"},model:{value:e.degrade,callback:function(t){e.degrade=t},expression:"degrade"}})],2)],1),n("h1",{staticClass:"header"},[n("img",{style:{width:"70px",height:"70px","margin-right":"15px"},attrs:{src:"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/86gA3vf6.svg"}}),n("span",{staticClass:"bland"},[e._v("无界")])]),n("h2",{staticClass:"subtitle"},[e._v("—极致的微前端框架")]),e._m(0)])},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-content"},[n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[e._v("极速 🚀")]),n("div",{staticClass:"detail"},[n("ul",[n("li",[e._v("极致预加载提速")]),n("li",[e._v("应用秒开无白屏")]),n("li",[e._v("应用丝滑般切换")])])])]),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[e._v("强大 💪")]),n("div",{staticClass:"detail"},[n("ul",[n("li",[e._v("多应用同时激活在线")]),n("li",[e._v("应用级别保活")]),n("li",[e._v("去中心化的通信")])])])]),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[e._v("简单 🤞")]),n("div",{staticClass:"detail"},[n("ul",[n("li",[e._v("极小的体积")]),n("li",[e._v("极度精简的API")]),n("li",[e._v("开箱即用")])])])])])}],h={name:"Home",data(){return{preload:"false"!==window.localStorage.getItem("preload"),degrade:"true"===window.localStorage.getItem("degrade")||!window.Proxy||!window.CustomElementRegistry,disable:!window.Proxy||!window.CustomElementRegistry}},watch:{preload(e){window.localStorage.setItem("preload",e),setTimeout(()=>window.location.reload(),1e3)},degrade(e){window.localStorage.setItem("degrade",e),setTimeout(()=>window.location.reload(),1e3)}}},p=h,m=(n("4647"),n("2154"),Object(c["a"])(p,d,f,!1,null,"362ee65f",null)),y=m.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WujieVue",{attrs:{width:"100%",height:"100%",name:"react16",url:e.react16Url,sync:!0,fetch:e.fetch,props:e.props,degrade:e.degrade,plugins:e.plugins,prefix:{"prefix-dialog":"/dialog","prefix-location":"/location"},beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}})},v=[];const g={"//localhost:7100":"//wujie-react17.pages.woa.com","//localhost:7200":"//wujie-vue2.pages.woa.com","//localhost:7300":"//wujie-vue3.pages.woa.com","//localhost:7400":"//wujie-angular12.pages.woa.com","//localhost:7500":"//wujie-vite.pages.woa.com","//localhost:7600":"//wujie-react16.pages.woa.com"};function b(e){return g[e]}function E(e,t){const n=!e.includes("//vfiles.gtimg.cn/");return window.fetch(e,{...t,credentials:n?"include":"omit"})}const _={beforeLoad:e=>console.log(e.__WUJIE.id+" beforeLoad 生命周期"),beforeMount:e=>console.log(e.__WUJIE.id+" beforeMount 生命周期"),afterMount:e=>console.log(e.__WUJIE.id+" afterMount 生命周期"),beforeUnmount:e=>console.log(e.__WUJIE.id+" beforeUnmount 生命周期"),afterUnmount:e=>console.log(e.__WUJIE.id+" afterUnmount 生命周期"),activated:e=>console.log(e.__WUJIE.id+" activated 生命周期"),deactivated:e=>console.log(e.__WUJIE.id+" deactivated 生命周期"),loadError:(e,t)=>console.log(e+" 加载失败",t)};var j=_;const x=[{htmlLoader:e=>(console.log("html-loader"),e),jsBeforeLoaders:[{callback(e){console.log("js-before-loader-callback",e.__WUJIE.id)}}],jsLoader:(e,t)=>(console.log("js-loader",t),e),jsAfterLoaders:[{callback(e){console.log("js-after-loader-callback",e.__WUJIE.id)}}],cssBeforeLoaders:[{src:"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/HDaBURp7.css"},{content:"img{width: 300px}"}],cssLoader:(e,t)=>(console.log("css-loader",t,e.slice(0,50)+"..."),e),cssAfterLoaders:[{src:"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/FQsK8IN6.css"},{content:"img{height: 300px}"}]}];var U=x,W={data(){return{react16Url:b("//localhost:7600"),props:{jump:this.jump},fetch:E,lifecycles:j,degrade:"true"===window.localStorage.getItem("degrade"),plugins:U}},methods:{jump(e){this.$router.push({name:e})}}},L=W,M=Object(c["a"])(L,w,v,!1,null,"9a5b7ec8",null),O=M.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WujieVue",{attrs:{width:"100%",height:"100%",name:"react17",url:e.react17Url,sync:!0,alive:!0,fetch:e.fetch,degrade:e.degrade,props:e.props,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}})},P=[],I={data(){return{react17Url:b("//localhost:7100"),props:{jump:this.jump},fetch:E,lifecycles:j,degrade:"true"===window.localStorage.getItem("degrade")}},methods:{jump(e){this.$router.push({name:e})}}},S=I,R=Object(c["a"])(S,C,P,!1,null,"cc0d1a16",null),T=R.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WujieVue",{attrs:{width:"100%",height:"100%",name:"vue2",url:e.vue2Url,props:e.props,sync:!0,fetch:e.fetch,degrade:e.degrade,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}})},D=[],$={data(){return{vue2Url:b("//localhost:7200"),props:{jump:this.jump},fetch:E,degrade:"true"===window.localStorage.getItem("degrade"),lifecycles:j}},methods:{jump(e){this.$router.push({name:e})}}},J=$,k=Object(c["a"])(J,A,D,!1,null,"aa1f3d98",null),N=k.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WujieVue",{attrs:{width:"100%",height:"100%",name:"vite",url:e.viteUrl,sync:!0,fetch:e.fetch,props:e.props,degrade:e.degrade,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}})},B=[],H={data(){return{viteUrl:b("//localhost:7500"),fetch:E,props:{jump:this.jump},degrade:"true"===window.localStorage.getItem("degrade"),lifecycles:j}},methods:{jump(e){this.$router.push({name:e})}}},Q=H,q=Object(c["a"])(Q,F,B,!1,null,"7e0db83e",null),Y=q.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WujieVue",{attrs:{width:"100%",height:"100%",name:"vue3",url:e.vue3Url,sync:!0,fetch:e.fetch,alive:!0,props:e.props,degrade:e.degrade,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError,plugins:[{cssExcludes:["https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"]}]}})},K=[],z={data(){return{vue3Url:b("//localhost:7300"),props:{jump:this.jump},lifecycles:j,fetch:(e,t)=>e.includes(b("//localhost:7300"))?E(e,t):window.fetch(e,t),degrade:"true"===window.localStorage.getItem("degrade")}},methods:{jump(e){this.$router.push({name:e})}}},X=z,G=Object(c["a"])(X,V,K,!1,null,"5a0e97ef",null),Z=G.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WujieVue",{staticClass:"angular-container",attrs:{name:"angular12",url:e.url,fetch:e.fetch,sync:!0,degrade:e.degrade,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}})},te=[],ne={data(){return{url:b("//localhost:7400"),fetch:E,degrade:"true"===window.localStorage.getItem("degrade"),lifecycles:j}}},oe=ne,re=(n("051bc"),Object(c["a"])(oe,ee,te,!1,null,"297a8f25",null)),ie=re.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",width:"100%"}},[n("WujieVue",{staticClass:"item",attrs:{name:"react16",url:e.react16Url,sync:!0,fetch:e.fetch,props:e.props,degrade:e.degrade,prefix:{"prefix-dialog":"/dialog","prefix-location":"/location"},beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}}),n("WujieVue",{staticClass:"item",attrs:{name:"react17",url:e.react17Url,sync:!0,fetch:e.fetch,props:e.props,degrade:e.degrade,alive:!0,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}}),n("WujieVue",{staticClass:"item",attrs:{name:"vue2",url:e.vue2Url,props:e.props,sync:!0,fetch:e.fetch,degrade:e.degrade,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}}),n("WujieVue",{staticClass:"item",attrs:{name:"vue3",url:e.vue3Url,sync:!0,fetch:e.vue3Fetch,props:e.props,degrade:e.degrade,alive:!0,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}}),n("WujieVue",{staticClass:"item",attrs:{name:"vite",url:e.vite,sync:!0,fetch:e.fetch,props:e.props,degrade:e.degrade,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}}),n("WujieVue",{staticClass:"item",attrs:{name:"angular12",url:e.angular12Url,sync:!0,fetch:e.fetch,props:e.props,degrade:e.degrade,beforeLoad:e.lifecycles.beforeLoad,beforeMount:e.lifecycles.beforeMount,afterMount:e.lifecycles.afterMount,beforeUnmount:e.lifecycles.beforeUnmount,afterUnmount:e.lifecycles.afterUnmount,activated:e.lifecycles.activated,deactivated:e.lifecycles.deactivated,loadError:e.lifecycles.loadError}})],1)},le=[],ae={data(){return{react16Url:b("//localhost:7600"),react17Url:b("//localhost:7100"),vue2Url:b("//localhost:7200"),vue3Url:b("//localhost:7300"),vite:b("//localhost:7500"),angular12Url:b("//localhost:7400"),props:{jump:this.jump},degrade:"true"===window.localStorage.getItem("degrade"),fetch:E,lifecycles:j,vue3Fetch:(e,t)=>e.includes(b("//localhost:7300"))?E(e,t):window.fetch(e,t)}},methods:{jump(e){this.$router.push({name:e})}}},se=ae,ue=(n("3993"),Object(c["a"])(se,ce,le,!1,null,"3663915e",null)),de=ue.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"contain",staticStyle:{height:"100%",width:"100%"}})},he=[];n("d9e2");const pe="data-wujie-id",me="data-wujie-Flag",ye="data-wujie-attach-css-flag",we="wujie_iframe",ve="_wujie_all_event",ge="position: fixed; z-index: 2147483647; visibility: hidden; inset: 0px; backface-visibility: hidden;",be="url参数为空",Ee="子应用调用reload无法生效",_e="此报错可以忽略，iframe主动中断主应用代码在子应用运行",je="事件订阅数量为空",xe="window上不存在fetch属性，需要自行polyfill",Ue="监听事件回调函数不存在",We="当前浏览器不支持无界，子应用将采用iframe方式渲染",Le="脚本请求出现错误",Me="样式请求出现错误";function Oe(e){return"function"===typeof e}function Ce(e){return"LINK"===(null===e||void 0===e?void 0:e.toUpperCase())||"STYLE"===(null===e||void 0===e?void 0:e.toUpperCase())||"SCRIPT"===(null===e||void 0===e?void 0:e.toUpperCase())||"IFRAME"===(null===e||void 0===e?void 0:e.toUpperCase())}const Pe=window.Proxy&&window.CustomElementRegistry,Ie="function"===typeof document.all&&"undefined"===typeof document.all,Se=new WeakMap,Re=e=>{if(Se.has(e))return!0;const t=Ie?"function"===typeof e&&"undefined"!==typeof e:"function"===typeof e;return t&&Se.set(e,t),t},Te=new WeakMap;function Ae(e){if(Te.has(e))return Te.get(e);const t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return Te.set(e,t),t}const De=new WeakMap;function $e(e){const t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1;if(t)return!0;if(De.has(e))return De.get(e);let n=t;if(!n){const t=e.toString(),o=/^function\b\s[A-Z].*/,r=/^class\b/;n=o.test(t)||r.test(t)}return De.set(e,n),n}function Je(e,t){const n=e[t];if(Re(n)&&!Ae(n)&&!$e(n)){const t=Function.prototype.bind.call(n,e);for(const e in n)t[e]=n[e];return n.hasOwnProperty("prototype")&&!t.hasOwnProperty("prototype")&&Object.defineProperty(t,"prototype",{value:n.prototype,enumerable:!1,writable:!0}),t}return n}function ke(e){return window.document.querySelector(`iframe[${pe}="${e}"]`)}function Ne(e){if(!e)throw ze(be),new Error;const t=Fe(e),n=t.protocol+"//"+t.host,o=t.pathname+t.search+t.hash;return{urlElement:t,appHostPath:n,appRoutePath:o}}function Fe(e){const t=window.document.createElement("a");return t.href=e,t}function Be(e){const t=e.search.replace("?","").split("&"),n={};return t.forEach(e=>{const[t,o]=e.split("=");t&&o&&(n[t]=o)}),n}function He(e){const t=Be(Fe(window.location.href));return Object.keys(t).includes(e)}function Qe(e,t,n){const o=e.Element.prototype.setAttribute;t.prototype.setAttribute=function(e,t){let r=t;e===n&&(r=new URL(t,this.baseURI||"").href),o.call(this,e,r)};const r=Object.getOwnPropertyDescriptor(t.prototype,n),{enumerable:i,configurable:c,get:l,set:a}=r;Object.defineProperty(t.prototype,n,{enumerable:i,configurable:c,get:function(){return l.call(this)},set:function(e){a.call(this,new URL(e,this.baseURI).href)}})}function qe(e,t){var n;let o=Fe(window.location.href);const r=Be(o);o=null;const i=window.decodeURIComponent(r[e]||""),c=null===(n=i.match(/^{([^}]*)}/))||void 0===n?void 0:n[1];return t&&c?i.replace(`{${c}}`,t[c]):i}const Ye=window.requestIdleCallback||(e=>setTimeout(e,1));function Ve(e){return"string"===typeof e?document.querySelector(e):e}function Ke(e,t){null===console||void 0===console||console.warn("[wujie warn]: "+e,t)}function ze(e,t){null===console||void 0===console||console.error("[wujie error]: "+e,t)}function Xe(e){const t=e.indexOf(">")+1,n=e.lastIndexOf("<");return e.substring(t,n)}function Ge(e){if("object"===typeof e)return"/";try{const{origin:t,pathname:n}=new URL(e,location.href),o=n.split("/");return o.pop(),`${t}${o.join("/")}/`}catch(t){return console.warn(t),""}}function Ze(e){return function(t,...n){return e.reduce((e,t)=>Oe(t)?t(e,...n):e,t||"")}}function et(e){Promise.resolve().then(e)}function tt(e,t,...n){try{e.map(e=>e[t]).filter(e=>Oe(e)).forEach(e=>e(...n))}catch(o){ze(o)}}const nt=/(<script[\s\S]*?>)[\s\S]*?<\/script>/gi,ot=/<(script)\s+((?!type=('|")text\/ng-template\3).)*?>.*?<\/\1>/is,rt=/.*\ssrc=('|")?([^>'"\s]+)/,it=/.*\stype=('|")?([^>'"\s]+)/,ct=/.*\sentry\s*.*/,lt=/.*\sasync\s*.*/,at=/.*\sdefer\s*.*/,st=/.*\snomodule\s*.*/,ut=/.*\stype=('|")?module('|")?\s*.*/,dt=/<(link)\s+.*?>/gis,ft=/\srel=('|")?(preload|prefetch|modulepreload)\1/,ht=/.*\shref=('|")?([^>'"\s]+)/,pt=/.*\sas=('|")?font\1.*/,mt=/<style[^>]*>[\s\S]*?<\/style>/gi,yt=/\s+rel=('|")?stylesheet\1.*/,wt=/.*\shref=('|")?([^>'"\s]+)/,vt=/<!--([\s\S]*?)-->/g,gt=/<link(\s+|\s+.+\s+)ignore(\s*|\s+.*|=.*)>/is,bt=/<style(\s+|\s+.+\s+)ignore(\s*|\s+.*|=.*)>/is,Et=/<script(\s+|\s+.+\s+)ignore(\s*|\s+.*|=.*)>/is,_t=/.*\scrossorigin=?('|")?(use-credentials|anonymous)?('|")?/i;function jt(e){return e.startsWith("//")||e.startsWith("http://")||e.startsWith("https://")}function xt(e,t){return new URL(e,t).toString()}function Ut(e){const t=["text/javascript","module","application/javascript","text/ecmascript","application/ecmascript"];return!e||-1!==t.indexOf(e)}function Wt(){const e=window.document.createElement("script");return"noModule"in e}const Lt=(e,t=!1)=>`\x3c!-- ${t?"prefetch/preload/modulepreload":""} link ${e} replaced by wujie --\x3e`,Mt=e=>`\x3c!-- inline-style-${e} replaced by wujie --\x3e`,Ot=(e,t="")=>`\x3c!-- ${t} script ${e} replaced by wujie --\x3e`,Ct="\x3c!-- inline scripts replaced by wujie --\x3e",Pt=e=>`\x3c!-- ignore asset ${e||"file"} replaced by wujie --\x3e`,It=(e,t)=>`\x3c!-- ${t?"nomodule":"module"} script ${e} ignored by wujie --\x3e`;function St(e,t,n){const o=[],r=[];let i=null;const c=Wt(),l=e.replace(vt,"").replace(dt,e=>{const n=!!e.match(yt);if(n){const n=e.match(wt),o=e.match(gt);if(n){const e=n&&n[2];let i=e;return e&&!jt(e)&&(i=xt(e,t)),o?Pt(i):(r.push({src:i}),Lt(i))}}const o=e.match(ft)&&e.match(ht)&&!e.match(pt);if(o){const[,,t]=e.match(ht);return Lt(t,!0)}return e}).replace(mt,e=>{if(bt.test(e))return Pt("style file");{const t=Xe(e);return r.push({src:"",content:t}),Mt(r.length-1)}}).replace(nt,(e,n)=>{const r=n.match(Et),l=!!n.match(ut),a=n.match(_t),s=(null===a||void 0===a?void 0:a[2])||"",u=c&&!!n.match(st)||!c&&l,d=n.match(it),f=d&&d[2];if(!Ut(f))return e;if(ot.test(e)&&n.match(rt)){const d=n.match(ct),f=n.match(rt);let h=f&&f[2];if(i&&d)throw new SyntaxError("You should not set multiply entry script!");if(h&&!jt(h)&&(h=xt(h,t)),i=i||d&&h,r)return Pt(h||"js file");if(u)return It(h||"js file",c);if(h){const e=!!n.match(lt),t=!!n.match(at);return o.push(e||t?{async:e,defer:t,src:h,module:l,crossorigin:!!a,crossoriginType:s}:{src:h,module:l,crossorigin:!!a,crossoriginType:s}),Ot(h,(e?"async":t&&"defer")||"")}return e}{if(r)return Pt("js file");if(u)return It("js file",c);const t=Xe(e),n=t.split(/[\r\n]+/).every(e=>!e.trim()||e.trim().startsWith("//"));return!n&&t&&o.push({src:null,content:t,module:l,crossorigin:!!a,crossoriginType:s}),Ct}});let a={template:l,scripts:o,styles:r,entry:i||o[o.length-1]};return"function"===typeof n&&(a=n(a)),a}var Rt=function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function c(e){try{a(o.next(e))}catch(t){i(t)}}function l(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(c,l)}a((o=o.apply(e,t||[])).next())}))};const Tt={},At={},Dt={};if(!window.fetch)throw ze(xe),new Error;const $t=window.fetch.bind(window);function Jt(e){return e}function kt(e,t,n){return Rt(this,void 0,void 0,(function*(){const o=Ze(e.plugins.map(e=>e.cssLoader)),r=n().map(({src:e,contentPromise:t})=>({src:e,contentPromise:t.then(t=>o(t,e))})),i=yield Nt(t,r);return e.replace?e.replace(i):i}))}function Nt(e,t){return Rt(this,void 0,void 0,(function*(){let n=e;return Promise.all(t.map((e,t)=>e.contentPromise.then(o=>{e.src?n=n.replace(Lt(e.src),`<style>/* ${e.src} */${o}</style>`):o&&(n=n.replace(Mt(t),`<style>/* inline-style-${t} */${o}</style>`))}))).then(()=>n)}))}const Ft=e=>e.startsWith("<"),Bt=(e,t,n,o,r)=>t[e]||(t[e]=n(e).then(n=>{if(n.status>=400){if(t[e]=null,o)return ze(Me,{src:e,response:n}),null===r||void 0===r||r(e,new Error(Me)),"";throw ze(Le,{src:e,response:n}),null===r||void 0===r||r(e,new Error(Le)),new Error(Le)}return n.text()}).catch(n=>{if(t[e]=null,o)return ze(Me,e),null===r||void 0===r||r(e,n),"";throw ze(Le,e),null===r||void 0===r||r(e,n),n}));function Ht(e,t=$t,n){return e.map(({src:e,content:o})=>o?{src:"",contentPromise:Promise.resolve(o)}:Ft(e)?{src:"",contentPromise:Promise.resolve(Xe(e))}:{src:e,contentPromise:Bt(e,Tt,t,!0,n)})}function Qt(e,t=$t,n){return e.map(e=>{const{src:o,async:r,defer:i,module:c}=e;let l=null;return l=(r||i)&&o&&!c?new Promise((e,r)=>Ye(()=>Bt(o,At,t,!1,n).then(e,r))):c&&o?Promise.resolve(""):o?Bt(o,At,t,!1,n):Promise.resolve(e.content),Object.assign(Object.assign({},e),{contentPromise:l})})}function qt(e,t){var n;const o=null!==(n=t.fetch)&&void 0!==n?n:$t,{plugins:r,loadError:i}=t,c=r?Ze(r.map(e=>e.htmlLoader)):Jt,l=r?r.map(e=>e.jsExcludes).reduce((e,t)=>e.concat(t),[]).filter(e=>e):[],a=r?r.map(e=>e.cssExcludes).reduce((e,t)=>e.concat(t),[]).filter(e=>e):[],s=Ge,u=(e,t)=>o(e).then(e=>e.text(),t=>(null===i||void 0===i||i(e,t),Promise.reject(t))).then(n=>{const r=s(e),{template:c,scripts:u,styles:d}=St(t(n),r);return{template:c,assetPublicPath:r,getExternalScripts:()=>Qt(u.filter(e=>!e.src||!l.length||!l.includes(e.src)),o,i),getExternalStyleSheets:()=>Ht(d.filter(e=>!e.src||!a.length||!a.includes(e.src)),o,i)}});return(null===t||void 0===t?void 0:t.plugins.some(e=>e.htmlLoader))?u(e,c):Dt[e]||(Dt[e]=u(e,c))}const Yt=window.__POWERED_BY_WUJIE__?window.__WUJIE.inject.idToSandboxMap:new Map;function Vt(e){return Yt.get(e)||null}function Kt(e,t){Yt.set(e,t)}function zt(e){Yt.delete(e)}const Xt={modifyLocalProperties:["createElement","createTextNode","documentURI","URL","getElementsByTagName"],modifyProperties:["createElement","createTextNode","documentURI","URL","getElementsByTagName","getElementsByClassName","getElementsByName","getElementById","querySelector","querySelectorAll","documentElement","scrollingElement","forms","images","links"],shadowProperties:["activeElement","childElementCount","children","firstElementChild","firstChild","fullscreenElement","lastElementChild","pictureInPictureElement","pointerLockElement","styleSheets"],shadowMethods:["append","contains","getSelection","elementFromPoint","elementsFromPoint","getAnimations","replaceChildren"],documentProperties:["characterSet","compatMode","contentType","designMode","dir","doctype","embeds","fullscreenEnabled","hidden","implementation","lastModified","pictureInPictureEnabled","plugins","readyState","referrer","visibilityState","fonts"],documentMethods:["execCommand","createRange","exitFullscreen","exitPictureInPicture","getElementsByTagNameNS","hasFocus","prepend"],documentEvents:["onreadystatechange","onpointerlockchange","onpointerlockerror","onbeforecopy","onbeforecut","onbeforepaste","onfreeze","onresume","onsearch","onfullscreenchange","onfullscreenerror","onsecuritypolicyviolation","onvisibilitychange"],ownerProperties:["head","body"]},Gt=["DOMContentLoaded","fullscreenchange","fullscreenerror","readystatechange","scroll","selectionchange","visibilitychange","wheel"],Zt=["gotpointercapture","lostpointercapture"],en=["hashchange","popstate"],tn={IMG:"src",A:"href",SOURCE:"src"},nn=["getComputedStyle","visualViewport","matchMedia","DOMParser"],on=[/animationFrame$/i,/resizeObserver$|mutationObserver$|intersectionObserver$/i,/height$|width$|left$/i,/^screen/i,/X$|Y$/],rn=HTMLElement.prototype.appendChild,cn=HTMLElement.prototype.removeChild,ln=HTMLHeadElement.prototype.insertBefore,an=HTMLBodyElement.prototype.insertBefore,sn=Window.prototype.addEventListener,un=Window.prototype.removeEventListener,dn=Node.prototype.appendChild,fn=window.__POWERED_BY_WUJIE__?window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__:Document.prototype.querySelector;function hn(e,t){return Object.defineProperties(e,{srcElement:{get:t},target:{get:t}}),e}function pn(e,t){const n=new CustomEvent(t),o=hn(n,()=>e);Oe(e["on"+t])?e["on"+t](o):e.dispatchEvent(o)}function mn(e,t){if(!e.innerHTML||t.degrade)return;const n=Pn([e.sheet]);n&&t.shadowRoot.head.appendChild(n)}function yn(e,t,n){const o=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),r=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerText"),i=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperties(e,{innerHTML:{get:function(){return o.get.call(e)},set:function(r){o.set.call(e,t(r)),et(()=>mn(this,n))}},innerText:{get:function(){return r.get.call(e)},set:function(o){r.set.call(e,t(o)),et(()=>mn(this,n))}},textContent:{get:function(){return i.get.call(e)},set:function(o){i.set.call(e,t(o)),et(()=>mn(this,n))}},appendChild:{value:function(o){return et(()=>mn(this,n)),o.nodeType===Node.TEXT_NODE?dn.call(e,e.ownerDocument.createTextNode(t(o.textContent))):dn(o)}}})}function wn(e){return function(t,n){var o,r;let i=t;const{rawDOMAppendOrInsertBefore:c,wujieId:l}=e,a=Vt(l);if(!Ce(i.tagName)||!l)return c.call(this,i,n);const{styleSheetElements:s,replace:u,fetch:d,plugins:f,iframe:h,lifecycles:p}=a,m=h.contentDocument;if(i.tagName)switch(null===(o=i.tagName)||void 0===o?void 0:o.toUpperCase()){case"LINK":{const{href:e}=i;e&&!f.map(e=>e.cssExcludes).reduce((e,t)=>e.concat(t),[]).filter(e=>e).includes(e)&&Ht([{src:e}],d,p.loadError).forEach(({src:e,contentPromise:t})=>t.then(t=>{const o=m.createElement("style");o.innerHTML=Ze(f.map(e=>e.cssLoader))(u?u(t):t,e),s.push(o),mn(o,a),c.call(this,o,n),pn(i,"load"),i=null},()=>{pn(i,"error"),i=null}));const t=m.createComment(`dynamic link ${e} replaced by wujie`);return c.call(this,t,n)}case"STYLE":{const e=t;s.push(e);const o=e.innerHTML,r=e=>Ze(f.map(e=>e.cssLoader))(u?u(e):e);return o&&(e.innerHTML=r(o)),yn(e,r,a),mn(e,a),c.call(this,i,n)}case"SCRIPT":{const{src:e,text:t}=i;if(e&&!f.map(e=>e.jsExcludes).reduce((e,t)=>e.concat(t),[]).filter(e=>e).includes(e)){const t=e=>{eo(e,a.iframe.contentWindow),pn(i,"load"),i=null};Qt([{src:e}],d,p.loadError).forEach(e=>e.contentPromise.then(n=>{var o;const r=null===(o=a.execQueue)||void 0===o?void 0:o.length;a.execQueue.push(()=>a.fiber?Ye(()=>{t(Object.assign(Object.assign({},e),{content:n}))}):t(Object.assign(Object.assign({},e),{content:n}))),r||a.execQueue.shift()()},()=>{pn(i,"error"),i=null}))}else{const e=null===(r=a.execQueue)||void 0===r?void 0:r.length;a.execQueue.push(()=>Ye(()=>{eo({src:null,content:t},a.iframe.contentWindow)})),e||a.execQueue.shift()()}const o=m.createComment(`dynamic script ${e} replaced by wujie`);return c.call(this,o,n)}case"IFRAME":{if(""===i.getAttribute(me))return dn.call(fn.call(this.ownerDocument,"html"),i);const e=c.call(this,i,n);try{if(!i.getAttribute(pe)){const e=i.contentWindow.document.createElement("script");e.type="text/javascript",e.innerHTML=`Array.prototype.slice.call(window.parent.frames).some(iframe => {if(iframe.name === '${l}'){window.parent = iframe;return true};return false})`,i.contentDocument.head.insertBefore(e,i.contentDocument.head.firstChild)}}catch(y){ze(y)}return e}default:}}}function vn(e,t){e.head.appendChild=wn({rawDOMAppendOrInsertBefore:dn,wujieId:t}),e.head.insertBefore=wn({rawDOMAppendOrInsertBefore:ln,wujieId:t}),e.body.appendChild=wn({rawDOMAppendOrInsertBefore:dn,wujieId:t}),e.body.insertBefore=wn({rawDOMAppendOrInsertBefore:an,wujieId:t})}var gn=function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function c(e){try{a(o.next(e))}catch(t){i(t)}}function l(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(c,l)}a((o=o.apply(e,t||[])).next())}))};const bn={":root":":host"};class En extends HTMLElement{connectedCallback(){if(this.shadowRoot)return;const e=this.attachShadow({mode:"open"}),t=Vt(this.getAttribute(pe));Gn(e,t.iframe.contentWindow),t.shadowRoot=e}disconnectedCallback(){const e=Vt(this.getAttribute(pe));e.unmount()}}function _n(){customElements.get("wujie-app")||customElements.define("wujie-app",En)}function jn(e){const t=window.document.createElement("wujie-app");return t.setAttribute(pe,e),t.setAttribute("style","position:relative"),t.classList.add(we),t}function xn(e,t){const n=Ve(t);return n&&!n.contains(e)&&(Cn(n),e&&rn.call(n,e)),n}function Un(e,t){return gn(this,void 0,void 0,(function*(){const n=e.iframe.contentDocument,{plugins:o,replace:r}=e,i=(e,t)=>Ze(o.map(e=>e.cssLoader))(r?r(e):e,t),c=e.plugins.map(e=>e.cssBeforeLoaders).reduce((e,t)=>e.concat(t),[]).filter(e=>"object"===typeof e).reverse(),l=e.plugins.map(e=>e.cssAfterLoaders).reduce((e,t)=>e.concat(t),[]).filter(e=>"object"===typeof e);return yield Promise.all([Promise.all(Ht(c,e.fetch,e.lifecycles.loadError).map(({src:e,contentPromise:t})=>t.then(t=>({src:e,content:t})))).then(e=>{e.forEach(({src:e,content:o})=>{var r;if(!o)return;const c=n.createElement("style");c.setAttribute("type","text/css"),c.appendChild(n.createTextNode(o?i(o,e):o));const l=t.querySelector("head");null===l||void 0===l||l.insertBefore(c,null===(r=t.querySelector("head"))||void 0===r?void 0:r.firstChild)})}),Promise.all(Ht(l,e.fetch,e.lifecycles.loadError).map(({src:e,contentPromise:t})=>t.then(t=>({src:e,content:t})))).then(e=>{e.forEach(({src:e,content:o})=>{if(!o)return;const r=n.createElement("style");r.setAttribute("type","text/css"),r.appendChild(n.createTextNode(o?i(o,e):o)),t.appendChild(r)})})]).then(()=>t,()=>t)}))}function Wn(e,t){const n=e.document,o=n.createElement("html");o.innerHTML=t;const r=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;while(i){Gn(i,e);const t=tn[i.tagName],n=i[t];t&&i.setAttribute(t,new URL(n,i.baseURI||"").href),i=r.nextNode()}if(!o.querySelector("head")){const e=n.createElement("head");o.appendChild(e)}if(!o.querySelector("body")){const e=n.createElement("body");o.appendChild(e)}return o}function Ln(e,t,n){return gn(this,void 0,void 0,(function*(){const o=Wn(t,n),r=yield Un(t.__WUJIE,o);e.appendChild(r);const i=document.createElement("div");i.setAttribute("style",ge),r.insertBefore(i,r.firstChild),e.head=e.querySelector("head"),e.body=e.querySelector("body"),Object.defineProperty(e.firstChild,"parentNode",{enumerable:!0,configurable:!0,get:()=>t.document}),vn(e,t.__WUJIE.id)}))}function Mn(e){const t=document.createElement("iframe");return t.setAttribute("style","width: 100%; height:100%"),t.setAttribute(pe,e),t}function On(e,t,n){return gn(this,void 0,void 0,(function*(){Cn(e);const o=Wn(t,n),r=yield Un(t.__WUJIE,o);e.appendChild(r),Object.defineProperty(e.firstElementChild,"parentNode",{enumerable:!0,configurable:!0,get:()=>t.document}),vn(e,t.__WUJIE.id)}))}function Cn(e){while(e.firstChild)cn.call(e,e.firstChild)}function Pn(e){var t,n;const o=[],r=/:root/g;for(let i=0;i<e.length;i++){const c=null!==(n=null===(t=e[i])||void 0===t?void 0:t.cssRules)&&void 0!==n?n:[];for(let e=0;e<c.length;e++){const t=c[e].cssText;r.test(t)&&o.push(t.replace(r,e=>bn[e]))}}if(o.length){const e=window.document.createElement("style");return e.innerHTML=o.join(""),e}}function In(e){const{sync:t,id:n,prefix:o}=e.__WUJIE;if(!t)return;const r=e.location.pathname+e.location.search+e.location.hash;let i="";o&&Object.keys(o).forEach(e=>{const t=o[e];r.startsWith(t)&&(!i||t.length>o[i].length)&&(i=e)});let c=Fe(window.location.href);const l=Be(c);l[n]=window.encodeURIComponent(i?r.replace(o[i],`{${i}}`):r);const a="?"+Object.keys(l).map(e=>e+"="+l[e]).join("&");c.search=a,c.href!==window.location.href&&window.history.replaceState(null,"",c.href),c=null}function Sn(e){const{pathname:t,search:n,hash:o}=e.location,{id:r,url:i,sync:c,execFlag:l,prefix:a,inject:s}=e.__WUJIE,u=c&&!l?qe(r,a):i,d=(/^http/.test(u)?null:u)||i,{appRoutePath:f}=Ne(d),h=t+n+o;h!==f&&e.history.replaceState(null,"",s.mainHostPath+f)}function Rn(){let e=Fe(window.location.href);const t=Be(e);Object.keys(t).forEach(e=>{var n;const o=Vt(e);if(!o)return;const r=o.degrade?!window.document.contains(ke(o.id)):!window.document.contains(null===(n=null===o||void 0===o?void 0:o.shadowRoot)||void 0===n?void 0:n.host);o.execFlag&&o.sync&&!o.hrefFlag&&r&&delete t[e]});const n="?"+Object.keys(t).map(e=>e+"="+t[e]).join("&");e.search=n,e.href!==window.location.href&&window.history.replaceState(null,"",e.href),e=null}function Tn(e,t){let n=Fe(window.location.href);const o=Be(n);o[e]=window.encodeURIComponent(t);const r="?"+Object.keys(o).map(e=>e+"="+o[e]).join("&");n.search=r,window.history.pushState(null,"",n.href),n=null}function An(){window.addEventListener("popstate",()=>{let e=Fe(window.location.href);const t=Be(e);e=null,Object.keys(t).map(e=>Vt(e)).filter(e=>e).forEach(e=>{const n=t[e.id],o=fn.call(e.iframe.contentDocument,"body");if(/http/.test(n))e.degrade?(xn(e.document.firstElementChild,o),to(window.decodeURIComponent(n),ke(e.id).parentElement)):to(window.decodeURIComponent(n),e.shadowRoot.host.parentElement),e.hrefFlag=!0;else if(e.hrefFlag){if(e.degrade){const t=Mn(e.id);xn(t,e.el),Cn(t.contentDocument),Qn(t.contentWindow,e.iframe.contentWindow),t.contentWindow.onunload=()=>{e.unmount()},t.contentDocument.appendChild(o.firstElementChild),e.document=t.contentDocument}else xn(e.shadowRoot.host,e.el);e.hrefFlag=!1}})})}function Dn(e){e.addEventListener=function(t,n,o){if(tt(e.__WUJIE.plugins,"windowAddEventListenerHook",e,t,n,o),en.includes(t))return sn.call(e,t,n,o);sn.call(window.window,t,n,o)},e.removeEventListener=function(t,n,o){if(tt(e.__WUJIE.plugins,"windowRemoveEventListenerHook",e,t,n,o),en.includes(t))return un.call(e,t,n,o);un.call(window.window,t,n,o)}}function $n(e,t){e.__WUJIE_PUBLIC_PATH__=t+"/",e.$wujie=e.__WUJIE.provide,e.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__=e.Document.prototype.querySelector,e.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__=e.Document.prototype.querySelectorAll}function Jn(e,t,n){const o=e.history,r=o.pushState,i=o.replaceState;o.pushState=function(i,c,l){const a=n+e.location.pathname+e.location.search+e.location.hash,s=new URL(null===l||void 0===l?void 0:l.replace(t,""),a).href,u=void 0===l;r.call(o,i,c,u?void 0:s),u||(kn(e,t,n),In(e))},o.replaceState=function(r,c,l){const a=n+e.location.pathname+e.location.search+e.location.hash,s=new URL(null===l||void 0===l?void 0:l.replace(t,""),a).href,u=void 0===l;i.call(o,r,c,u?void 0:s),u||(kn(e,t,n),In(e))}}function kn(e,t,n){var o;const r=new URL(null===(o=e.location.href)||void 0===o?void 0:o.replace(n,""),t),i=fn.call(e.document,"base");i&&i.setAttribute("href",t+r.pathname)}function Nn(e){function t(t){const n=e[t];try{return"function"!==typeof n||$e(n)?e[t]=window[t]:e[t]=window[t].bind(window),!0}catch(o){return Ke(o.message),!1}}Object.getOwnPropertyNames(e).forEach(n=>{"getSelection"!==n?nn.includes(n)?t(n):on.some(o=>!(!o.test(n)||!(n in e.parent))&&t(n)):Object.defineProperty(e,n,{get:()=>e.document[n]})});const n=Object.getOwnPropertyNames(window).filter(e=>/^on/.test(e));n.forEach(t=>{const n=Object.getOwnPropertyDescriptor(e,t)||{enumerable:!0,writable:!0};try{Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:()=>window[t],set:function(o){(n.writable||n.set)&&(window[t]=null===o||void 0===o?void 0:o.bind(e))}})}catch(t){Ke(t.message)}}),tt(e.__WUJIE.plugins,"windowPropertyOverride",e)}function Fn(e){const t=e.EventTarget.prototype.addEventListener,n=e.EventTarget.prototype.removeEventListener,o=e.__WUJIE;e.EventTarget.prototype.addEventListener=function(e,n,r){const i=o.elementEventCacheMap.get(this);return i?i.find(e=>e.handler===n)||i.push({type:e,handler:n,options:r}):o.elementEventCacheMap.set(this,[{type:e,handler:n,options:r}]),t.call(this,e,n,r)},e.EventTarget.prototype.removeEventListener=function(e,t,r){const i=o.elementEventCacheMap.get(this);if(i){const e=null===i||void 0===i?void 0:i.findIndex(e=>e.handler===t);i.splice(e,1)}return(null===i||void 0===i?void 0:i.length)||o.elementEventCacheMap.delete(this),n.call(this,e,t,r)}}function Bn(e,t){const n=t.__WUJIE,o=new WeakMap,r=document.createTreeWalker(e);let i=r.currentNode;while(i){const e=n.elementEventCacheMap.get(i);(null===e||void 0===e?void 0:e.length)&&(o.set(i,e),e.forEach(e=>{i.addEventListener(e.type,e.handler,e.options)})),i=r.nextNode()}n.elementEventCacheMap=o}function Hn(e,t,n){const o=n.__WUJIE,r=new WeakMap,i=o.elementEventCacheMap.get(e);(null===i||void 0===i?void 0:i.length)&&(r.set(t,i),i.forEach(e=>{t.addEventListener(e.type,e.handler,e.options)})),o.elementEventCacheMap=r}function Qn(e,t){Object.defineProperty(e.Event.prototype,"timeStamp",{get:()=>t.document.createEvent("Event").timeStamp})}function qn(e){const t=e.__WUJIE,n=new WeakMap,o=new WeakMap;e.Document.prototype.addEventListener=function(r,i,c){let l=n.get(i);const a=o.get(i);return l||(l="function"===typeof i?i.bind(this):i,n.set(i,l)),a?a.includes(r)||a.push(r):o.set(i,[r]),tt(e.__WUJIE.plugins,"documentAddEventListenerHook",e,r,l,c),t.degrade?t.document.firstElementChild.addEventListener(r,l,c):Gt.includes(r)?window.document.addEventListener(r,l,c):Zt.includes(r)?(window.document.addEventListener(r,l,c),void t.shadowRoot.addEventListener(r,l,c)):void t.shadowRoot.addEventListener(r,l,c)},e.Document.prototype.removeEventListener=function(r,i,c){const l=n.get(i),a=o.get(i);if(l){if((null===a||void 0===a?void 0:a.includes(r))&&(a.splice(a.indexOf(r),1),a.length||(n.delete(i),o.delete(i))),tt(e.__WUJIE.plugins,"documentRemoveEventListenerHook",e,r,l,c),t.degrade)return t.document.firstElementChild.removeEventListener(r,l,c);if(Gt.includes(r))return window.document.removeEventListener(r,l,c);if(Zt.includes(r))return window.document.removeEventListener(r,l,c),void t.shadowRoot.removeEventListener(r,l,c);t.shadowRoot.removeEventListener(r,l,c)}else Ke(Ue)};const r=Object.keys(e.HTMLElement.prototype).filter(e=>/^on/.test(e)),i=Object.keys(e.Document.prototype).filter(e=>/^on/.test(e));r.filter(e=>i.includes(e)).forEach(n=>{const o=Object.getOwnPropertyDescriptor(e.Document.prototype,n)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,n,{enumerable:o.enumerable,configurable:!0,get:()=>(t.degrade?t.document:t.shadowRoot).firstElementChild[n],set:o.writable?o=>{t.degrade?t.document.firstElementChild[n]=o.bind(e.document):t.shadowRoot.firstElementChild[n]=o.bind(e.document)}:void 0})}catch(n){Ke(n.message)}});const{ownerProperties:c,modifyProperties:l,shadowProperties:a,shadowMethods:s,documentProperties:u,documentMethods:d,documentEvents:f}=Xt;l.concat(a,s,u,d).forEach(n=>{const o=Object.getOwnPropertyDescriptor(e.Document.prototype,n)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,n,{enumerable:o.enumerable,configurable:!0,get:()=>t.proxyDocument[n],set:void 0})}catch(r){Ke(r.message)}}),f.forEach(n=>{const o=Object.getOwnPropertyDescriptor(e.Document.prototype,n)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,n,{enumerable:o.enumerable,configurable:!0,get:()=>(t.degrade?t:window).document[n],set:o.writable?o=>{(t.degrade?t:window).document[n]=o.bind(e.document)}:void 0})}catch(r){Ke(r.message)}}),c.forEach(n=>{Object.defineProperty(e.document,n,{enumerable:!0,configurable:!0,get:()=>t.proxyDocument[n],set:void 0})}),tt(e.__WUJIE.plugins,"documentPropertyOverride",e)}function Yn(e){const t=e.Node.prototype.getRootNode;e.Node.prototype.getRootNode=function(n){const o=t.call(this,n);return o===e.__WUJIE.shadowRoot?e.document:o}}function Vn(e){Qe(e,e.HTMLImageElement,"src"),Qe(e,e.HTMLAnchorElement,"href"),Qe(e,e.HTMLSourceElement,"src"),Qe(e,e.HTMLLinkElement,"href"),Qe(e,e.HTMLScriptElement,"src")}function Kn(e,t){const n=e.document,o=n.createElement("base"),r=Fe(e.location.href),i=Fe(t);o.setAttribute("href",i.protocol+"//"+i.host+r.pathname),n.head.appendChild(o)}function zn(e){const t=e.document;Cn(t);const n=t.createElement("html");n.innerHTML="<head></head><body></body>",t.appendChild(n),Kn(e,e.__WUJIE.url),Nn(e),qn(e),Yn(e),Vn(e)}function Xn(e,t){e.__WUJIE.iframeReady=new Promise(n=>{function o(){setTimeout(()=>{"about:blank"===e.location.href?o():(e.stop(),zn(e),He(e.__WUJIE.id)||e.history.replaceState(null,"",t),n())},0)}o()})}function Gn(e,t){const n=t.__WUJIE.proxyLocation;Object.defineProperty(e,"baseURI",{configurable:!0,get:()=>n.protocol+"//"+n.host+n.pathname,set:void 0}),Object.defineProperty(e,"ownerDocument",{configurable:!0,get:()=>t.document})}function Zn(e){e.addEventListener("hashchange",()=>In(e)),e.addEventListener("popstate",()=>{In(e)})}function eo(e,t){const{src:n,module:o,content:r,crossorigin:i,crossoriginType:c,callback:l}=e,a=t.document.createElement("script"),s=t.document.createElement("script"),{replace:u,plugins:d}=t.__WUJIE;let f=Ze(d.map(e=>e.jsLoader))(u?u(r):r,n);r?t.__WUJIE.degrade||(f=`(function(window, self, global, location) {\n      ${f}\n}).bind(window.__WUJIE.proxy)(\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxyLocation,\n);`):(o&&a.setAttribute("type","module"),n&&a.setAttribute("src",n),i&&a.setAttribute("crossorigin",c)),a.textContent=f||"",s.textContent="if(window.__WUJIE.execQueue && window.__WUJIE.execQueue.length){ window.__WUJIE.execQueue.shift()()}";const h=fn.call(t.document,"head");if(/^<!DOCTYPE html/i.test(f))return ze(Le,e),h.appendChild(s);h.appendChild(a),null===l||void 0===l||l(t),h.appendChild(s)}function to(e,t){const n=window.document.createElement("iframe");n.setAttribute("src",e),n.setAttribute("style","height:100%;width:100%"),xn(n,t)}function no(e,t,n,o,r){const i=window.document.createElement("iframe"),c=n+r,l=Object.assign(Object.assign({},t),{src:n,style:"display: none",name:e.id,[me]:""});Object.keys(l).forEach(e=>i.setAttribute(e,l[e])),window.document.body.appendChild(i);const a=i.contentWindow;return a.__WUJIE=e,$n(a,o),Xn(a,c),Jn(a,o,n),Dn(a),a.__WUJIE.degrade&&Fn(a),Zn(a),i}function oo(e,t,n){const{shadowRoot:o,id:r,degrade:i,document:c}=e.contentWindow.__WUJIE;let l=t;if(!/^http/.test(l)){let e=Fe(l);l=n+e.pathname+e.search+e.hash,e=null}if(e.contentWindow.__WUJIE.hrefFlag=!0,i){const t=fn.call(e.contentDocument,"body");xn(c.firstElementChild,t),to(window.decodeURIComponent(l),ke(r).parentElement)}else to(l,o.host.parentElement);return Tn(r,l),!0}function ro(e,t,n,o){const r=new Proxy(e.contentWindow,{get:(e,t)=>"location"===t?e.__WUJIE.proxyLocation:"self"===t?e.__WUJIE.proxy:"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__"===t||"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__"===t?e[t]:Je(e,t),set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>t in e}),i=new Proxy({},{get:function(t,n){var o;const r=window.document,i=e.contentWindow.__WUJIE.shadowRoot;if("createElement"===n||"createTextNode"===n)return new Proxy(r[n],{apply(t,n,o){const r=t.apply(e.contentDocument,o);return Gn(r,e.contentWindow),r}});if("documentURI"===n||"URL"===n)return e.contentWindow.__WUJIE.proxyLocation.href;if("getElementsByTagName"===n||"getElementsByClassName"===n||"getElementsByName"===n)return new Proxy(i.querySelectorAll,{apply(t,o,r){let c=r[0];return"getElementsByTagName"===n&&"script"===c?e.contentDocument.scripts:("getElementsByClassName"===n&&(c="."+c),"getElementsByName"===n&&(c=`[name="${c}"]`),t.call(i,c))}});if("getElementById"===n)return new Proxy(i.querySelector,{apply(e,t,n){return e.call(i,`[id="${n[0]}"]`)}});if("querySelector"===n||"querySelectorAll"===n)return i[n].bind(i);if("documentElement"===n||"scrollingElement"===n)return i.firstElementChild;if("forms"===n)return i.querySelectorAll("form");if("images"===n)return i.querySelectorAll("img");if("links"===n)return i.querySelectorAll("a");const{ownerProperties:c,shadowProperties:l,shadowMethods:a,documentProperties:s,documentMethods:u}=Xt;return c.concat(l).includes(n.toString())?"activeElement"===n&&null===i.activeElement?i.body:i[n]:a.includes(n.toString())?null!==(o=Je(i,n))&&void 0!==o?o:Je(r,n):s.includes(n.toString())?r[n]:u.includes(n.toString())?Je(r,n):void 0}}),c=new Proxy({},{get:function(r,i){const c=e.contentWindow.location;return"host"===i||"hostname"===i||"protocol"===i||"port"===i?t[i]:"href"===i?c[i].replace(n,o):"reload"===i?(Ke(Ee),()=>null):Je(c,i)},set:function(t,n,r){return"href"===n?oo(e,r,o):(e.contentWindow.location[n]=r,!0)},ownKeys:function(){return Object.keys(e.contentWindow.location).filter(e=>"reload"!==e)},getOwnPropertyDescriptor:function(e,t){return{enumerable:!0,configurable:!0,value:this[t]}}});return{proxyWindow:r,proxyDocument:i,proxyLocation:c}}function io(e,t,n,o){const r={},i=e.contentWindow.__WUJIE;Object.defineProperties(r,{createElement:{get:()=>function(...t){const n=window.document.createElement.apply(e.contentDocument,t);return Gn(n,e.contentWindow),n}},createTextNode:{get:()=>function(...t){const n=window.document.createTextNode.apply(e.contentDocument,t);return Gn(n,e.contentWindow),n}},documentURI:{get:()=>i.proxyLocation.href},URL:{get:()=>i.proxyLocation.href},getElementsByTagName:{get(){return function(...t){const n=t[0];return"script"===n?e.contentDocument.scripts:i.document.getElementsByTagName(n)}}}});const{modifyLocalProperties:c,modifyProperties:l,ownerProperties:a,shadowProperties:s,shadowMethods:u,documentProperties:d,documentMethods:f}=Xt;l.filter(e=>!c.includes(e)).concat(a,s,u,d,f).forEach(e=>{Object.defineProperty(r,e,{get:()=>Re(i.document[e])?i.document[e].bind(i.document):i.document[e]})});const h={},p=e.contentWindow.location,m=Object.keys(p),y=["host","hostname","port","protocol","port"];return y.forEach(e=>{h[e]=t[e]}),Object.defineProperties(h,{href:{get:()=>p.href.replace(n,o),set:t=>{oo(e,t,o)}},reload:{get(){return Ke(Ee),()=>null}}}),m.filter(e=>!y.concat(["href","reload"]).includes(e)).forEach(e=>{Object.defineProperty(h,e,{get:()=>Re(p[e])?p[e].bind(p):p[e]})}),{proxyDocument:r,proxyLocation:h}}const co=window.__POWERED_BY_WUJIE__?window.__WUJIE.inject.appEventObjMap:new Map;class lo{constructor(e){this.id=e,this.$clear(),co.get(this.id)||co.set(this.id,{}),this.eventObj=co.get(this.id)}$on(e,t){const n=this.eventObj[e];return n?(n.includes(t)||n.push(t),this):(this.eventObj[e]=[t],this)}$onAll(e){return this.$on(ve,e)}$once(e,t){const n=function(...o){this.$off(e,n),t(...o)}.bind(this);this.$on(e,n)}$off(e,t){const n=this.eventObj[e];if(!e||!n||!n.length)return Ke(`${e} ${je}`),this;let o,r=n.length;while(r--)if(o=n[r],o===t){n.splice(r,1);break}return this}$offAll(e){return this.$off(ve,e)}$emit(e,...t){let n=[],o=[];if(co.forEach(t=>{t[e]&&(n=n.concat(t[e])),t[ve]&&(o=o.concat(t[ve]))}),!e||0===n.length&&0===o.length)Ke(`${e} ${je}`);else try{for(let e=0,o=n.length;e<o;e++)n[e](...t);for(let n=0,r=o.length;n<r;n++)o[n](e,...t)}catch(r){ze(r)}return this}$clear(){var e;const t=null!==(e=co.get(this.id))&&void 0!==e?e:{},n=Object.keys(t);return n.forEach(e=>delete t[e]),this}}var ao=function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function c(e){try{a(o.next(e))}catch(t){i(t)}}function l(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(c,l)}a((o=o.apply(e,t||[])).next())}))};class so{constructor(e){this.elementEventCacheMap=new WeakMap,window.__POWERED_BY_WUJIE__?this.inject=window.__WUJIE.inject:this.inject={idToSandboxMap:Yt,appEventObjMap:co,mainHostPath:window.location.protocol+"//"+window.location.host};const{name:t,url:n,attrs:o,fiber:r,degrade:i,lifecycles:c,plugins:l}=e;this.id=t,this.fiber=r,this.degrade=i||!Pe,this.bus=new lo(this.id),this.url=n,this.provide={bus:this.bus},this.styleSheetElements=[],this.execQueue=[],this.lifecycles=c,this.plugins=Array.isArray(l)?l:[];const{urlElement:a,appHostPath:s,appRoutePath:u}=Ne(n),{mainHostPath:d}=this.inject,f=no(this,o,d,s,u);if(this.iframe=f,this.degrade){const{proxyDocument:e,proxyLocation:t}=io(f,a,d,s);this.proxyDocument=e,this.proxyLocation=t}else{const{proxyWindow:e,proxyDocument:t,proxyLocation:n}=ro(f,a,d,s);this.proxy=e,this.proxyDocument=t,this.proxyLocation=n}this.provide.location=this.proxyLocation,Kt(this.id,this)}active(e){return ao(this,void 0,void 0,(function*(){const{sync:t,url:n,el:o,template:r,props:i,alive:c,prefix:l,fetch:a,replace:s}=e;this.url=n,this.sync=t,this.alive=c,this.hrefFlag=!1,this.prefix=null!==l&&void 0!==l?l:this.prefix,this.replace=null!==s&&void 0!==s?s:this.replace,this.provide.props=null!==i&&void 0!==i?i:this.provide.props,yield this.iframeReady;const u=this.iframe.contentWindow,d=a?(e,t)=>a("string"===typeof e?new URL(e,this.proxyLocation.href).href:e,t):this.fetch;if(d&&(u.fetch=d,this.fetch=d),this.execFlag&&this.alive||Sn(u),In(u),this.template=null!==r&&void 0!==r?r:this.template,this.degrade){const e=Mn(this.id),t=fn.call(u.document,"body");return this.el=xn(e,null!==o&&void 0!==o?o:t),Cn(e.contentDocument),o&&Cn(t),Qn(e.contentWindow,u),e.contentWindow.onunload=()=>{this.unmount()},this.document?this.alive?(e.contentDocument.appendChild(this.document.firstElementChild),Bn(e.contentDocument.firstElementChild,u)):(yield On(e.contentDocument,this.iframe.contentWindow,this.template),Hn(this.document.firstElementChild,e.contentDocument.firstElementChild,u)):yield On(e.contentDocument,this.iframe.contentWindow,this.template),void(this.document=e.contentDocument)}if(this.shadowRoot){if(this.el=xn(this.shadowRoot.host,o),this.alive)return}else{const e=fn.call(u.document,"body");this.el=xn(jn(this.id),null!==o&&void 0!==o?o:e)}yield Ln(this.shadowRoot,u,this.template),this.provide.shadowRoot=this.shadowRoot}))}start(e){return ao(this,void 0,void 0,(function*(){this.execFlag=!0;const t=yield e();if(!this.iframe)return;const n=this.iframe.contentWindow;n.__POWERED_BY_WUJIE__=!0;const o=this.plugins.map(e=>e.jsBeforeLoaders).reduce((e,t)=>e.concat(t),[]).filter(e=>"object"===typeof e),r=this.plugins.map(e=>e.jsAfterLoaders).reduce((e,t)=>e.concat(t),[]).filter(e=>"object"===typeof e),i=[],c=[],l=[];return t.forEach(e=>{e.defer?l.push(e):e.async?c.push(e):i.push(e)}),o.forEach(e=>{this.execQueue.push(()=>this.fiber?Ye(()=>eo(e,n)):eo(e,n))}),i.concat(l).forEach(e=>{this.execQueue.push(()=>e.contentPromise.then(t=>this.fiber?Ye(()=>eo(Object.assign(Object.assign({},e),{content:t}),n)):eo(Object.assign(Object.assign({},e),{content:t}),n)))}),c.forEach(e=>{e.contentPromise.then(t=>{this.fiber?Ye(()=>eo(Object.assign(Object.assign({},e),{content:t}),n)):eo(Object.assign(Object.assign({},e),{content:t}),n)})}),this.execQueue.push(this.fiber?()=>Ye(()=>this.mount()):()=>this.mount()),r.forEach(e=>{this.execQueue.push(()=>this.fiber?Ye(()=>eo(e,n)):eo(e,n))}),this.execQueue.shift()(),new Promise(e=>{this.execQueue.push(()=>{var t;e(),null===(t=this.execQueue.shift())||void 0===t||t()})})}))}mount(){var e,t,n,o,r,i,c;this.mountFlag||(this.attachHostCssRules(),Oe(this.iframe.contentWindow.__WUJIE_MOUNT)&&(null===(t=null===(e=this.lifecycles)||void 0===e?void 0:e.beforeMount)||void 0===t||t.call(e,this.iframe.contentWindow),this.iframe.contentWindow.__WUJIE_MOUNT(),null===(o=null===(n=this.lifecycles)||void 0===n?void 0:n.afterMount)||void 0===o||o.call(n,this.iframe.contentWindow),this.mountFlag=!0),this.alive&&(null===(i=null===(r=this.lifecycles)||void 0===r?void 0:r.activated)||void 0===i||i.call(r,this.iframe.contentWindow)),null===(c=this.execQueue.shift())||void 0===c||c())}unmount(){var e,t,n,o,r,i;this.degrade?setTimeout(()=>Rn()):Rn(),this.alive&&(null===(t=null===(e=this.lifecycles)||void 0===e?void 0:e.deactivated)||void 0===t||t.call(e,this.iframe.contentWindow)),this.mountFlag&&(!Oe(this.iframe.contentWindow.__WUJIE_UNMOUNT)||this.alive||this.hrefFlag||(null===(o=null===(n=this.lifecycles)||void 0===n?void 0:n.beforeUnmount)||void 0===o||o.call(n,this.iframe.contentWindow),this.iframe.contentWindow.__WUJIE_UNMOUNT(),null===(i=null===(r=this.lifecycles)||void 0===r?void 0:r.afterUnmount)||void 0===i||i.call(r,this.iframe.contentWindow),this.mountFlag=!1,this.bus.$clear(),this.degrade||Cn(this.shadowRoot)))}destroy(){this.bus.$clear(),this.shadowRoot=null,this.iframe=null,this.proxy=null,this.proxyDocument=null,this.proxyLocation=null,this.execQueue=null,this.provide=null,this.styleSheetElements=null,this.bus=null,this.el=null,this.replace=null,this.fetch=null,this.execFlag=null,this.mountFlag=null,this.hrefFlag=null,this.document=null,this.elementEventCacheMap=null,this.lifecycles=null,this.plugins=null,this.provide=null,this.inject=null,this.execQueue=null,this.prefix=null,(window.__POWERED_BY_WUJIE__?window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__.call(window.document,"iframe"):window.document.querySelectorAll("iframe")).forEach(e=>{e.name===this.id&&e.parentNode.removeChild(e)}),zt(this.id)}rebuildStyleSheets(){this.styleSheetElements&&this.styleSheetElements.length&&this.styleSheetElements.forEach(e=>{rn.call(this.degrade?this.document.head:this.shadowRoot.head,e)}),this.attachHostCssRules()}attachHostCssRules(){if(this.degrade)return;if(this.shadowRoot.host.hasAttribute(ye))return;const e=Pn(Array.from(this.iframe.contentDocument.querySelectorAll("style")).map(e=>e.sheet));e&&(this.shadowRoot.head.appendChild(e),this.styleSheetElements.push(e),this.shadowRoot.host.setAttribute(ye,""))}}var uo=function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function c(e){try{a(o.next(e))}catch(t){i(t)}}function l(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(c,l)}a((o=o.apply(e,t||[])).next())}))};const fo=new lo(Date.now().toString());if(window.__WUJIE&&!window.__POWERED_BY_WUJIE__)throw Ke(_e),new Error(_e);function ho({name:e,url:t,replace:n,el:o,sync:r,prefix:i,alive:c,props:l,attrs:a={},fiber:s=!0,degrade:u,plugins:d,fetch:f,beforeLoad:h,beforeMount:p,afterMount:m,beforeUnmount:y,afterUnmount:w,activated:v,deactivated:g,loadError:b}){var E,_,j,x,U,W,L,M,O,C;return uo(this,void 0,void 0,(function*(){const P=Vt(e),I={beforeLoad:h,beforeMount:p,afterMount:m,beforeUnmount:y,afterUnmount:w,activated:v,deactivated:g,loadError:b};if(P){P.plugins=Array.isArray(d)?d:[],P.lifecycles=I;const e=P.iframe.contentWindow;if(P.preload&&(yield Promise.resolve(P.preload)),c){if(yield P.active({url:t,sync:r,prefix:i,el:o,props:l,alive:c,fetch:f,replace:n}),!P.execFlag){null===(_=null===(E=P.lifecycles)||void 0===E?void 0:E.beforeLoad)||void 0===_||_.call(E,P.iframe.contentWindow);const{getExternalScripts:e}=yield qt(t,{fetch:f||window.fetch,plugins:P.plugins,loadError:P.lifecycles.loadError});yield P.start(e)}return null===(x=null===(j=P.lifecycles)||void 0===j?void 0:j.activated)||void 0===x||x.call(j,P.iframe.contentWindow),P.destroy}if(Oe(e.__WUJIE_MOUNT))return P.unmount(),yield P.active({url:t,sync:r,prefix:i,el:o,props:l,alive:c,fetch:f,replace:n}),null===(W=null===(U=P.lifecycles)||void 0===U?void 0:U.beforeMount)||void 0===W||W.call(U,P.iframe.contentWindow),e.__WUJIE_MOUNT(),null===(M=null===(L=P.lifecycles)||void 0===L?void 0:L.afterMount)||void 0===M||M.call(L,P.iframe.contentWindow),P.mountFlag=!0,P.rebuildStyleSheets(),P.destroy;P.destroy()}const S=new so({name:e,url:t,attrs:a,fiber:s,degrade:u,plugins:d,lifecycles:I});null===(C=null===(O=S.lifecycles)||void 0===O?void 0:O.beforeLoad)||void 0===C||C.call(O,S.iframe.contentWindow);const{template:R,getExternalScripts:T,getExternalStyleSheets:A}=yield qt(t,{fetch:f||window.fetch,plugins:S.plugins,loadError:S.lifecycles.loadError}),D=yield kt(S,R,A);return yield S.active({url:t,sync:r,prefix:i,template:D,el:o,props:l,alive:c,fetch:f,replace:n}),yield S.start(T),S.destroy}))}function po({name:e,url:t,replace:n,props:o,attrs:r={},fiber:i=!0,alive:c,degrade:l,fetch:a,exec:s,plugins:u,beforeLoad:d,beforeMount:f,afterMount:h,beforeUnmount:p,afterUnmount:m,activated:y,deactivated:w,loadError:v}){Ye(()=>{if(Vt(e)||He(e))return;const g={beforeLoad:d,beforeMount:f,afterMount:h,beforeUnmount:p,afterUnmount:m,activated:y,deactivated:w,loadError:v},b=new so({name:e,url:t,attrs:r,fiber:i,degrade:l,plugins:u,lifecycles:g});if(b.preload)return b.preload;const E=()=>uo(this,void 0,void 0,(function*(){var e,r;null===(r=null===(e=b.lifecycles)||void 0===e?void 0:e.beforeLoad)||void 0===r||r.call(e,b.iframe.contentWindow);const{template:i,getExternalScripts:l,getExternalStyleSheets:u}=yield qt(t,{fetch:a||window.fetch,plugins:b.plugins,loadError:b.lifecycles.loadError}),d=yield kt(b,i,u);yield b.active({url:t,props:o,alive:c,template:d,fetch:a,replace:n}),s&&(yield b.start(l))}));b.preload=E()})}function mo(e){const t=Vt(e);t&&t.destroy()}An(),_n(),Pe||Ke(We);const yo=function(e,t){const n=["//cdn-go.cn","//vfiles.gtimg.cn","//pingjs.qq.com"];return window.fetch(e,{...t,mode:"cors",credentials:n.some(t=>e.includes(t))?"omit":"include"}).then(e=>e,t=>{console.error(t);const n="<html>\n<body>\n  <div>点击登录链接完成登录后刷新</div>\n  <div>\n    <a target=\"_blank\" href='https://passport.oa.com/modules/passport/signin.ashx?url=http%3A%2F%2Fd.wuji.woa.com%2F_sp_login_%2F%3Furl%3D%252Fxy%252Fapp%252Fdev%252Ftest_wuji_damy%252Fdamyxu-wujie-alive%26app%3D'>点击登录</a>\n  </div>\n</body>\n</html>";let o=!1;return e.includes("//d.wuji.woa.com/xy/app/dev/test_wuji_damy/damyxu-wujie-alive")&&(o=!0),{text:()=>o?n:""}})},wo={version:"1.0.0",authId:"wujie",authKey:"d0938c84a7434cd1b0607a4324dff4d8"};var vo={async mounted(){try{await ho({name:"wuji",url:"//d.test.wuji.woa.com/xy/app/dev/test_wuji_damy/radio_test",el:this.$refs.contain,alive:!1,fetch:yo,props:wo,sync:!0})}catch(ze){console.log(ze)}}},go=vo,bo=Object(c["a"])(go,fe,he,!1,null,"9569a318",null),Eo=bo.exports,_o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"contain",staticStyle:{height:"100%",width:"100%"}})},jo=[],xo={async mounted(){try{await ho({name:"wuji",url:"//d.test.wuji.woa.com/xy/app/dev/test_wuji_damy/checkbox_test",el:this.$refs.contain,alive:!1,fetch:yo,props:wo,sync:!0})}catch(ze){console.log(ze)}}},Uo=xo,Wo=Object(c["a"])(Uo,_o,jo,!1,null,"e94ae9f8",null),Lo=Wo.exports,Mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WujieVue",{attrs:{width:"100%",height:"100%",name:"wujiAlive",url:"//d.wuji.woa.com/xy/app/dev/test_wuji_damy/damyxu-wujie-alive",alive:!0,sync:!0,fetch:e.fetch,props:e.props}})},Oo=[],Co={data(){return{fetch:yo,props:wo}}},Po=Co,Io=Object(c["a"])(Po,Mo,Oo,!1,null,"ec2649b4",null),So=Io.exports;o["a"].use(u["a"]);const Ro=[{path:"/home",name:"home",component:y},{path:"/react16",name:"react16",component:O},{path:"/react17",name:"react17",component:T},{path:"/vue2",name:"vue2",component:N},{path:"/vite",name:"vite",component:Y},{path:"/vue3",name:"vue3",component:Z},{path:"/angular12",name:"angular12",component:ie},{path:"/wuji-radio",name:"wujiRadio",component:Eo},{path:"/wuji-checkbox",name:"wujiCheckbox",component:Lo},{path:"/wuji-alive",name:"wujiAlive",component:So},{path:"/all",name:"all",component:de},{path:"/",redirect:"/home"}],To=new u["a"]({mode:"history",base:"/",routes:Ro});var Ao=To;const Do={name:"WujieVue",props:{width:{type:String,default:""},height:{type:String,default:""},name:{type:String,default:""},url:{type:String,default:""},sync:{type:Boolean,default:!1},prefix:{type:Object,default:void 0},alive:{type:Boolean,default:!1},props:{type:Object,default:void 0},replace:{type:Function,default:void 0},fetch:{type:Function,default:void 0},fiber:{type:Boolean,default:!0},degrade:{type:Boolean,default:!1},plugins:{type:Array,default:null},beforeLoad:{type:Function,default:null},beforeMount:{type:Function,default:null},afterMount:{type:Function,default:null},beforeUnmount:{type:Function,default:null},afterUnmount:{type:Function,default:null},activated:{type:Function,default:null},deactivated:{type:Function,default:null},loadError:{type:Function,default:null}},data(){return{destroy:null,startAppQueue:Promise.resolve()}},mounted(){fo.$onAll(this.handleEmit),this.execStartApp(),this.$watch(()=>this.name+this.url,()=>this.execStartApp())},methods:{handleEmit(e,...t){this.$emit(e,...t)},execStartApp(){this.startAppQueue=this.startAppQueue.then(async()=>{try{this.destroy=await ho({name:this.name,url:this.url,el:this.$refs.wujie,alive:this.alive,fetch:this.fetch,props:this.props,replace:this.replace,sync:this.sync,prefix:this.prefix,fiber:this.fiber,degrade:this.degrade,plugins:this.plugins,beforeLoad:this.beforeLoad,beforeMount:this.beforeMount,afterMount:this.afterMount,beforeUnmount:this.beforeUnmount,afterUnmount:this.afterUnmount,activated:this.activated,deactivated:this.deactivated,loadError:this.loadError})}catch(ze){console.log(ze)}})}},beforeDestroy(){fo.$offAll(this.handleEmit)},render(e){return e("div",{style:{width:this.height,height:this.height},ref:"wujie"})}},$o=o["a"].extend(Do);$o.preloadApp=po,$o.bus=fo,$o.destroyApp=mo,$o.install=function(e){e.component("WujieVue",$o)};var Jo=$o,ko=n("160c"),No=n("f933");n("b550"),n("3444"),n("7ef1");const{preloadApp:Fo,bus:Bo}=Jo;if(o["a"].use(Jo).use(ko["a"]).use(No["a"]),o["a"].config.productionTip=!1,Bo.$on("click",e=>window.alert(e)),"false"!==window.localStorage.getItem("preload")){const e="true"===window.localStorage.getItem("degrade")||!window.Proxy||!window.CustomElementRegistry;Fo({name:"react16",url:b("//localhost:7600"),exec:!0,fetch:E,degrade:e,plugins:U,...j}),Fo({name:"react17",url:b("//localhost:7100"),exec:!0,alive:!0,fetch:E,degrade:e,...j}),Fo({name:"vue2",url:b("//localhost:7200"),exec:!0,fetch:E,degrade:e,...j}),Fo({name:"vue3",url:b("//localhost:7300"),exec:!0,alive:!0,fetch:(e,t)=>e.includes(b("//localhost:7300"))?E(e,t):window.fetch(e,t),degrade:e,...j}),Fo({name:"angular12",url:b("//localhost:7400"),exec:!0,fetch:E,degrade:e,...j}),Fo({name:"vite",url:b("//localhost:7500"),exec:!0,fetch:E,degrade:e,...j})}new o["a"]({router:Ao,render:e=>e(s)}).$mount("#app")},"85ec":function(e,t,n){},b1e2:function(e,t,n){},ed34:function(e,t,n){}});
//# sourceMappingURL=app.10f9757c.js.map