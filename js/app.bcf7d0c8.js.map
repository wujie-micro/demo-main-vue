{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Angular12.vue?0695","webpack:///./src/views/Multiple.vue?9618","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/App.vue?d8b8","webpack:///./src/App.vue?686d","webpack:///./src/views/Home.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?23c0","webpack:///./src/views/Home.vue?a6b2","webpack:///./src/views/React16.vue","webpack:///./src/hostMap.js","webpack:///src/views/React16.vue","webpack:///./src/views/React16.vue?3162","webpack:///./src/views/React16.vue?9884","webpack:///./src/views/React16-sub.vue","webpack:///src/views/React16-sub.vue","webpack:///./src/views/React16-sub.vue?0690","webpack:///./src/views/React16-sub.vue?28c7","webpack:///./src/views/React17.vue","webpack:///src/views/React17.vue","webpack:///./src/views/React17.vue?2de8","webpack:///./src/views/React17.vue?d232","webpack:///./src/views/React17-sub.vue","webpack:///../src/constant.ts","webpack:///../src/utils.ts","webpack:///../src/template.ts","webpack:///../src/plugin.ts","webpack:///../src/entry.ts","webpack:///../src/common.ts","webpack:///../src/effect.ts","webpack:///../src/shadow.ts","webpack:///../src/sync.ts","webpack:///../src/iframe.ts","webpack:///../src/proxy.ts","webpack:///../src/event.ts","webpack:///../src/sandbox.ts","webpack:///../src/index.ts","webpack:///../index.js","webpack:///src/views/React17-sub.vue","webpack:///./src/views/React17-sub.vue?c270","webpack:///./src/views/React17-sub.vue?4b7c","webpack:///./src/views/Vue2.vue","webpack:///src/views/Vue2.vue","webpack:///./src/views/Vue2.vue?1b61","webpack:///./src/views/Vue2.vue?62c9","webpack:///./src/views/Vue2-sub.vue","webpack:///src/views/Vue2-sub.vue","webpack:///./src/views/Vue2-sub.vue?d249","webpack:///./src/views/Vue2-sub.vue?4543","webpack:///./src/views/Vite.vue","webpack:///src/views/Vite.vue","webpack:///./src/views/Vite.vue?0e77","webpack:///./src/views/Vite.vue?1906","webpack:///./src/views/Vite-sub.vue","webpack:///src/views/Vite-sub.vue","webpack:///./src/views/Vite-sub.vue?8ece","webpack:///./src/views/Vite-sub.vue?0db1","webpack:///./src/views/Vue3.vue","webpack:///src/views/Vue3.vue","webpack:///./src/views/Vue3.vue?cd6f","webpack:///./src/views/Vue3.vue?ed72","webpack:///./src/views/Vue3-sub.vue","webpack:///src/views/Vue3-sub.vue","webpack:///./src/views/Vue3-sub.vue?fe5e","webpack:///./src/views/Vue3-sub.vue?9198","webpack:///./src/views/Angular12.vue","webpack:///src/views/Angular12.vue","webpack:///./src/views/Angular12.vue?b760","webpack:///./src/views/Angular12.vue?c30e","webpack:///./src/views/Multiple.vue","webpack:///src/views/Multiple.vue","webpack:///./src/views/Multiple.vue?0f7b","webpack:///./src/views/Multiple.vue?dfad","webpack:///./src/router/index.js","webpack:///./src/fetch.js","webpack:///./src/lifecycle.js","webpack:///./src/plugin.js","webpack:///./src/main.js","webpack:///./src/views/Home.vue?f605","webpack:///./src/App.vue?c334","webpack:///./src/views/Home.vue?9e71"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","class","active","on","close","_v","react16Flag","nativeOn","$event","handleFlag","directives","rawName","expression","staticClass","react17Flag","vue2Flag","vue3Flag","viteFlag","stopPropagation","staticRenderFns","methods","component","staticStyle","slot","disable","model","degrade","callback","$$v","preload","style","width","height","_m","watch","setTimeout","react16Url","map","hostMap","host","computed","react17Url","WUJIE_DATA_ID","WUJIE_DATA_FLAG","CONTAINER_POSITION_DATA_FLAG","CONTAINER_OVERFLOW_DATA_FLAG","LOADING_DATA_FLAG","WUJIE_DATA_ATTACH_CSS_FLAG","WUJIE_IFRAME_CLASS","WUJIE_ALL_EVENT","WUJIE_SHADE_STYLE","WUJIE_LOADING_STYLE","WUJIE_LOADING_SVG","WUJIE_TIPS_NO_URL","WUJIE_TIPS_RELOAD_DISABLED","WUJIE_TIPS_STOP_APP","WUJIE_TIPS_NO_SUBJECT","WUJIE_TIPS_NO_FETCH","WUJIE_TIPS_EMPTY_CALLBACK","WUJIE_TIPS_NOT_SUPPORTED","WUJIE_TIPS_SCRIPT_ERROR_REQUESTED","WUJIE_TIPS_CSS_ERROR_REQUESTED","WUJIE_TIPS_REPEAT_RENDER","isFunction","isHijackingTag","tagName","toUpperCase","wujieSupport","Proxy","CustomElementRegistry","naughtySafari","document","all","callableFnCacheMap","WeakMap","isCallable","fn","has","callable","set","boundedMap","isBoundedFunction","bounded","indexOf","fnRegexCheckCacheMap","isConstructable","hasPrototypeMethods","constructor","getOwnPropertyNames","constructable","fnString","toString","constructableFunctionRegex","classRegex","test","setFnCacheMap","checkProxyFunction","getTargetValue","target","boundValue","Function","writable","getDegradeIframe","id","querySelector","appRouteParse","url","error","Error","urlElement","anchorElementGenerator","appHostPath","protocol","appRoutePath","pathname","search","hash","element","createElement","href","getAnchorElementQueryMap","anchorElement","queryList","replace","split","queryMap","forEach","query","isMatchSyncQueryById","location","keys","includes","fixElementCtrSrcOrHref","iframeWindow","elementCtr","attr","rawElementSetAttribute","Element","setAttribute","targetValue","getAbsolutePath","baseURI","rawAnchorElementHrefDescriptor","getOwnPropertyDescriptor","configurable","getCurUrl","proxyLocation","base","startsWith","URL","getSyncUrl","prefix","winUrlElement","syncUrl","decodeURIComponent","validShortPath","match","_syncUrl$match","requestIdleCallback","cb","getContainer","container","warn","msg","console","getInlineCode","start","end","lastIndexOf","substring","defaultGetPublicPath","entry","_typeof","origin","paths","pop","join","e","compose","fnList","code","args","arguments","reduce","newCode","nextTick","Promise","resolve","then","execHooks","plugins","hookName","plugin","filter","hook","mergeOptions","options","cacheOptions","el","exec","undefined","fetch","props","sync","loading","fiber","alive","lifecycles","beforeLoad","beforeMount","afterMount","beforeUnmount","afterUnmount","activated","deactivated","loadError","eventTrigger","eventName","detail","event","CustomEvent","createEvent","initCustomEvent","dispatchEvent","ALL_SCRIPT_REGEX","SCRIPT_TAG_REGEX","SCRIPT_SRC_REGEX","SCRIPT_TYPE_REGEX","SCRIPT_ENTRY_REGEX","SCRIPT_ASYNC_REGEX","DEFER_ASYNC_REGEX","SCRIPT_NO_MODULE_REGEX","SCRIPT_MODULE_REGEX","LINK_TAG_REGEX","LINK_PRELOAD_OR_PREFETCH_REGEX","LINK_HREF_REGEX","LINK_AS_FONT","STYLE_TAG_REGEX","STYLE_TYPE_REGEX","STYLE_HREF_REGEX","HTML_COMMENT_REGEX","LINK_IGNORE_REGEX","STYLE_IGNORE_REGEX","SCRIPT_IGNORE_REGEX","CROSS_ORIGIN_REGEX","hasProtocol","getEntirePath","path","isValidJavaScriptType","type","handleTypes","isModuleScriptSupported","genLinkReplaceSymbol","linkHref","preloadOrPrefetch","getInlineStyleReplaceSymbol","index","genScriptReplaceSymbol","scriptSrc","inlineScriptReplaceSymbol","genIgnoreAssetReplaceSymbol","genModuleScriptReplaceSymbol","moduleSupport","processTpl","tpl","postProcessTemplate","scripts","styles","template","styleType","styleHref","styleIgnore","newHref","src","preloadOrPrefetchType","content","scriptTag","scriptIgnore","isModuleScript","isCrossOriginScript","crossOriginType","moduleScriptIgnore","matchedScriptTypeMatch","matchedScriptType","matchedScriptEntry","matchedScriptSrcMatch","matchedScriptSrc","SyntaxError","isAsyncScript","isDeferScript","async","defer","crossorigin","crossoriginType","isPureCommentBlock","every","line","trim","tplResult","getCssLoader","cssLoader","getJsLoader","jsLoader","getPresetLoaders","loaderType","loaders","res","preLoaders","curLoaders","concat","reverse","getEffectLoaders","isMatchUrl","effectLoaders","some","loader","cssRelativePathResolve","baseUrl","urlReg","pre","post","absoluteUrl","defaultPlugin","getPlugins","Array","isArray","styleCache","scriptCache","embedHTMLCache","defaultFetch","defaultGetTemplate","processCssLoader","sandbox","getExternalStyleSheets","a","curUrl","composeCssLoader","processedCssList","ignore","contentPromise","_context","getEmbedHTML","embedHTML","styleResultList","styleResult","isInlineCode","fetchAssets","cache","cssFlag","response","status","text","getExternalScripts","script","reject","importHTML","opts","htmlLoader","jsExcludes","cssExcludes","jsIgnores","cssIgnores","getPublicPath","getHtmlParseResult","html","assetPublicPath","idToSandboxCacheMap","__POWERED_BY_WUJIE__","__WUJIE","inject","idToSandboxMap","Map","getWujieById","wujie","getOptionsById","addSandboxCacheWithWujie","wujieCache","deleteWujieById","addSandboxCacheWithOptions","documentProxyProperties","modifyLocalProperties","modifyProperties","shadowProperties","shadowMethods","documentProperties","documentMethods","documentEvents","ownerProperties","appDocumentAddEventListenerEvents","appDocumentOnEvents","mainDocumentAddEventListenerEvents","mainAndAppAddEventListenerEvents","appWindowAddEventListenerEvents","appWindowOnEvent","relativeElementTagAttrMap","IMG","A","SOURCE","windowProxyProperties","windowRegWhiteList","rawElementAppendChild","HTMLElement","appendChild","rawElementRemoveChild","removeChild","rawHeadInsertBefore","HTMLHeadElement","insertBefore","rawBodyInsertBefore","HTMLBodyElement","rawAddEventListener","EventTarget","addEventListener","rawRemoveEventListener","removeEventListener","rawAppendChild","Node","rawDocumentQuerySelector","__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__","Document","patchCustomEvent","elementGetter","defineProperties","srcElement","manualInvokeElementEvent","customEvent","patchedEvent","handleStylesheetElementPatch","stylesheetElement","innerHTML","patcher","getPatchStyleElements","sheet","hostStyleSheetElement","fontStyleSheetElement","shadowRoot","head","_patcher","clearTimeout","patchStylesheetElement","_hasPatch","innerHTMLDesc","innerTextDesc","textContentDesc","RawInsertRule","_stylesheetElement$sh","insertRule","patchSheetInsertRule","_this","innerText","_this2","textContent","_this3","node","_this4","nodeType","TEXT_NODE","ownerDocument","createTextNode","rule","rewriteAppendOrInsertChild","newChild","refChild","rawDOMAppendOrInsertBefore","wujieId","styleSheetElements","iframe","iframeDocument","contentDocument","_element$tagName","_this5","comment","createComment","crossOrigin","execQueueLength","execQueue","_sandbox$execQueue2","insertScriptToIframe","contentWindow","execScript","scriptResult","scriptOptions","_sandbox$execQueue","getAttribute","patchScript","firstChild","patchEventListener","listenerMap","_cacheListeners","listener","listeners","typeListeners","_toConsumableArray","entries","patchRenderEffect","body","cssSelectorMap","WujieApp","attachShadow","patchElementEffect","unmount","defineWujieWebComponent","customElements","define","createWujieWebComponent","contentElement","classList","add","renderElementToContainer","selectorOrElement","contains","clearChild","processCssLoaderForTemplate","cssBeforeLoaders","cssAfterLoaders","contentList","styleElement","_html$querySelector","replaceHeadAndBody","headElement","bodyElement","cloneNode","parentNode","replaceChild","renderTemplateToHtml","execFlag","ElementIterator","createTreeWalker","NodeFilter","SHOW_ELEMENT","nextElement","currentNode","relativeAttr","nextNode","renderTemplateToShadowRoot","_context2","processedHtml","shade","createIframeContainer","renderTemplateToIframe","renderDocument","_context3","firstElementChild","root","addLoading","containerStyles","getComputedStyle","position","overflow","setProperty","loadingContainer","removeLoading","positionFlag","overflowFlag","removeProperty","removeAttribute","rootStyleSheets","rootCssRules","fontCssRules","rootStyleReg","cssRules","_rootStyleSheets$i","cssRuleText","cssText","CSSRule","FONT_FACE_RULE","rootStyleSheetElement","syncUrlToWindow","shortPath","longPath","encodeURIComponent","newQuery","history","replaceState","syncUrlToIframe","idUrl","preAppRoutePath","mainHostPath","clearInactiveAppUrl","clearFlag","_sandbox$shadowRoot","hrefFlag","pushUrlToWindow","pushState","processAppForHrefJump","iframeBody","renderIframeReplaceApp","parentElement","patchEventTimeStamp","onunload","patchIframeEvents","__WUJIE_RAW_WINDOW__","patchIframeVariable","__WUJIE_PUBLIC_PATH__","$wujie","provide","__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__","querySelectorAll","patchIframeHistory","rawHistoryPushState","rawHistoryReplaceState","title","mainUrl","ignoreFlag","updateBase","_iframeWindow$locatio","baseElement","patchWindowEffect","processWindowProperty","message","reg","parent","windowOnEvents","descriptor","handler","recordEventListeners","elementListenerList","elementEventCacheMap","find","findIndex","ele","recoverEventListeners","rootElement","recoverDocumentListeners","oldRootElement","newRootElement","targetWindow","Event","timeStamp","patchDocumentEffect","handlerCallbackMap","handlerTypeMap","typeList","elementOnEvents","documentOnEvent","val","propKey","proxyDocument","patchNodeEffect","rawGetRootNode","getRootNode","rootNode","patchRelativeUrlEffect","HTMLImageElement","HTMLAnchorElement","HTMLSourceElement","HTMLLinkElement","HTMLScriptElement","initBase","iframeUrlElement","appUrlElement","initIframeDom","stopIframeLoading","iframeReady","loop","stop","syncIframeUrlToWindow","scriptElement","nextScriptElement","iframeGenerator","attrsMerge","locationHrefSet","hrefElement","proxyGenerator","proxyWindow","proxy","_fakeDocument","_ctx","arg","activeElement","_fakeLocation","ownKeys","_target","localGenerator","documentURI","getElementsByTagName","locationKeys","constantKey","reload","appEventObjMap","EventBus","_classCallCheck","$clear","eventObj","_createClass","cbs","$on","$off","allCbs","events","Wujie","_defineProperty","bus","iframeFetch","input","init","patchCssRules","scriptResultList","beforeScriptResultList","afterScriptResultList","syncScriptResultList","asyncScriptResultList","deferScriptResultList","beforeScriptResult","mount","domContentLoadedTrigger","afterScriptResult","domLoadedTrigger","__WUJIE_UNMOUNT","mountFlag","__WUJIE_MOUNT","styleSheetElement","hasAttribute","from","Date","now","setupApp","startApp","startOptions","_yield$importHTML2","destroy","rebuildStyleSheets","newSandbox","WuJie","_yield$importHTML3","preloadApp","preOptions","runPreload","_yield$importHTML","destroyApp","wujieVueOptions","String","default","Boolean","startAppQueue","mounted","$onAll","handleEmit","execStartApp","$watch","$emit","$refs","log","beforeDestroy","$offAll","ref","WujieVue","Vue","extend","install","$route","wujieVue","vue2Url","jump","viteUrl","vue3Url","vite","angular12Url","basename","use","VueRouter","routes","Home","React16","React16Sub","React17","React17Sub","Vue2","Vue2Sub","Vite","ViteSub","Vue3","Vue3Sub","Angular12","Multiple","redirect","router","credentials","appWindow","jsBeforeLoaders","jsAfterLoaders","isProduction","process","Switch","Tooltip","button","Icon","config","productionTip","alert","mainName","mainPath","currentName","currentRoute","currentPath","localStorage","getItem","credentialsFetch","h","App","$mount"],"mappings":"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","file":"js/app.bcf7d0c8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/demo-main-vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Angular12.vue?vue&type=style&index=0&id=2dc62798&prod&lang=css&scoped=true&\"","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Multiple.vue?vue&type=style&index=0&id=7ef41522&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{class:_vm.active ? 'active' : '',attrs:{\"id\":\"nav\"},on:{\"click\":_vm.close}},[_c('router-link',{attrs:{\"to\":\"/home\"}},[_vm._v(\"\")]),_c('router-link',{attrs:{\"to\":\"/react16\"}},[_vm._v(\" react16 \"),_c('a-icon',{class:['main-icon', { active: _vm.react16Flag }],attrs:{\"type\":\"caret-up\"},nativeOn:{\"click\":function($event){return _vm.handleFlag('react16')}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.react16Flag),expression:\"react16Flag\"}],staticClass:\"sub-menu\"},[_c('router-link',{attrs:{\"to\":\"/react16-sub/home\"}},[_vm._v(\"home\")]),_c('router-link',{attrs:{\"to\":\"/react16-sub/dialog\"}},[_vm._v(\"dialog\")]),_c('router-link',{attrs:{\"to\":\"/react16-sub/location\"}},[_vm._v(\"location\")]),_c('router-link',{attrs:{\"to\":\"/react16-sub/communication\"}},[_vm._v(\"communication\")]),_c('router-link',{attrs:{\"to\":\"/react16-sub/nest\"}},[_vm._v(\"nest\")]),_c('router-link',{attrs:{\"to\":\"/react16-sub/font\"}},[_vm._v(\"font\")])],1),_c('router-link',{attrs:{\"to\":\"/react17\"}},[_vm._v(\" react17 \"),_c('span',{staticClass:\"alive\"},[_vm._v(\"\")]),_c('a-icon',{class:['main-icon', { active: _vm.react17Flag }],attrs:{\"type\":\"caret-up\"},nativeOn:{\"click\":function($event){return _vm.handleFlag('react17')}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.react17Flag),expression:\"react17Flag\"}],staticClass:\"sub-menu\"},[_c('router-link',{attrs:{\"to\":\"/react17-sub/home\"}},[_vm._v(\"home\")]),_c('router-link',{attrs:{\"to\":\"/react17-sub/dialog\"}},[_vm._v(\"dialog\")]),_c('router-link',{attrs:{\"to\":\"/react17-sub/location\"}},[_vm._v(\"location\")]),_c('router-link',{attrs:{\"to\":\"/react17-sub/communication\"}},[_vm._v(\"communication\")]),_c('router-link',{attrs:{\"to\":\"/react17-sub/state\"}},[_vm._v(\"state\")])],1),_c('router-link',{attrs:{\"to\":\"/vue2\"}},[_vm._v(\" vue2 \"),_c('a-icon',{class:['main-icon', { active: _vm.vue2Flag }],attrs:{\"type\":\"caret-up\"},nativeOn:{\"click\":function($event){return _vm.handleFlag('vue2')}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.vue2Flag),expression:\"vue2Flag\"}],staticClass:\"sub-menu\"},[_c('router-link',{attrs:{\"to\":\"/vue2-sub/home\"}},[_vm._v(\"home\")]),_c('router-link',{attrs:{\"to\":\"/vue2-sub/dialog\"}},[_vm._v(\"dialog\")]),_c('router-link',{attrs:{\"to\":\"/vue2-sub/location\"}},[_vm._v(\"location\")]),_c('router-link',{attrs:{\"to\":\"/vue2-sub/communication\"}},[_vm._v(\"communication\")])],1),_c('router-link',{attrs:{\"to\":\"/vue3\"}},[_vm._v(\" vue3 \"),_c('span',{staticClass:\"alive\"},[_vm._v(\"\")]),_c('a-icon',{class:['main-icon', { active: _vm.vue3Flag }],attrs:{\"type\":\"caret-up\"},nativeOn:{\"click\":function($event){return _vm.handleFlag('vue3')}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.vue3Flag),expression:\"vue3Flag\"}],staticClass:\"sub-menu\"},[_c('router-link',{attrs:{\"to\":\"/vue3-sub/home\"}},[_vm._v(\"home\")]),_c('router-link',{attrs:{\"to\":\"/vue3-sub/dialog\"}},[_vm._v(\"dialog\")]),_c('router-link',{attrs:{\"to\":\"/vue3-sub/location\"}},[_vm._v(\"location\")]),_c('router-link',{attrs:{\"to\":\"/vue3-sub/contact\"}},[_vm._v(\"contact\")]),_c('router-link',{attrs:{\"to\":\"/vue3-sub/state\"}},[_vm._v(\"state\")])],1),_c('router-link',{attrs:{\"to\":\"/vite\"}},[_vm._v(\"vite \"),_c('a-icon',{class:['main-icon', { active: _vm.viteFlag }],attrs:{\"type\":\"caret-up\"},nativeOn:{\"click\":function($event){return _vm.handleFlag('vite')}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viteFlag),expression:\"viteFlag\"}],staticClass:\"sub-menu\"},[_c('router-link',{attrs:{\"to\":\"/vite-sub/home\"}},[_vm._v(\"home\")]),_c('router-link',{attrs:{\"to\":\"/vite-sub/dialog\"}},[_vm._v(\"dialog\")]),_c('router-link',{attrs:{\"to\":\"/vite-sub/location\"}},[_vm._v(\"location\")]),_c('router-link',{attrs:{\"to\":\"/vite-sub/contact\"}},[_vm._v(\"contact\")])],1),_c('router-link',{attrs:{\"to\":\"/angular12\"}},[_vm._v(\"angular12\")]),_c('router-link',{attrs:{\"to\":\"/all\"}},[_vm._v(\"all\")]),_c('a-button',{staticClass:\"menu-icon\",attrs:{\"type\":\"primary\",\"icon\":\"unordered-list\",\"size\":\"large\"},on:{\"click\":function($event){$event.stopPropagation();_vm.active = !_vm.active}}})],1),_c('div',{staticClass:\"content\",on:{\"click\":function($event){_vm.active = false}}},[_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div id=\"nav\" :class=\"active ? 'active' : ''\" @click=\"close\">\n      <router-link to=\"/home\"></router-link>\n      <!-- react16 -->\n      <router-link to=\"/react16\">\n        react16\n        <a-icon :class=\"['main-icon', { active: react16Flag }]\" type=\"caret-up\" @click.native=\"handleFlag('react16')\" />\n      </router-link>\n      <div class=\"sub-menu\" v-show=\"react16Flag\">\n        <router-link to=\"/react16-sub/home\">home</router-link>\n        <router-link to=\"/react16-sub/dialog\">dialog</router-link>\n        <router-link to=\"/react16-sub/location\">location</router-link>\n        <router-link to=\"/react16-sub/communication\">communication</router-link>\n        <router-link to=\"/react16-sub/nest\">nest</router-link>\n        <router-link to=\"/react16-sub/font\">font</router-link>\n      </div>\n      <!-- react17 -->\n      <router-link to=\"/react17\">\n        react17\n        <span class=\"alive\"></span>\n        <a-icon :class=\"['main-icon', { active: react17Flag }]\" type=\"caret-up\" @click.native=\"handleFlag('react17')\" />\n      </router-link>\n      <div class=\"sub-menu\" v-show=\"react17Flag\">\n        <router-link to=\"/react17-sub/home\">home</router-link>\n        <router-link to=\"/react17-sub/dialog\">dialog</router-link>\n        <router-link to=\"/react17-sub/location\">location</router-link>\n        <router-link to=\"/react17-sub/communication\">communication</router-link>\n        <router-link to=\"/react17-sub/state\">state</router-link>\n      </div>\n      <!-- vue2 -->\n      <router-link to=\"/vue2\">\n        vue2\n        <a-icon :class=\"['main-icon', { active: vue2Flag }]\" type=\"caret-up\" @click.native=\"handleFlag('vue2')\" />\n      </router-link>\n      <div class=\"sub-menu\" v-show=\"vue2Flag\">\n        <router-link to=\"/vue2-sub/home\">home</router-link>\n        <router-link to=\"/vue2-sub/dialog\">dialog</router-link>\n        <router-link to=\"/vue2-sub/location\">location</router-link>\n        <router-link to=\"/vue2-sub/communication\">communication</router-link>\n      </div>\n      <!-- vue3 -->\n      <router-link to=\"/vue3\">\n        vue3\n        <span class=\"alive\"></span>\n        <a-icon :class=\"['main-icon', { active: vue3Flag }]\" type=\"caret-up\" @click.native=\"handleFlag('vue3')\" />\n      </router-link>\n      <div class=\"sub-menu\" v-show=\"vue3Flag\">\n        <router-link to=\"/vue3-sub/home\">home</router-link>\n        <router-link to=\"/vue3-sub/dialog\">dialog</router-link>\n        <router-link to=\"/vue3-sub/location\">location</router-link>\n        <router-link to=\"/vue3-sub/contact\">contact</router-link>\n        <router-link to=\"/vue3-sub/state\">state</router-link>\n      </div>\n      <router-link to=\"/vite\"\n        >vite <a-icon :class=\"['main-icon', { active: viteFlag }]\" type=\"caret-up\" @click.native=\"handleFlag('vite')\"\n      /></router-link>\n      <div class=\"sub-menu\" v-show=\"viteFlag\">\n        <router-link to=\"/vite-sub/home\">home</router-link>\n        <router-link to=\"/vite-sub/dialog\">dialog</router-link>\n        <router-link to=\"/vite-sub/location\">location</router-link>\n        <router-link to=\"/vite-sub/contact\">contact</router-link>\n      </div>\n      <router-link to=\"/angular12\">angular12</router-link>\n      <router-link to=\"/all\">all</router-link>\n      <a-button class=\"menu-icon\" type=\"primary\" icon=\"unordered-list\" size=\"large\" @click.stop=\"active = !active\" />\n    </div>\n    <div class=\"content\" @click=\"active = false\">\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      active: false,\n      react16Flag: this.$route.name === \"react16-sub\",\n      react17Flag: this.$route.name === \"react17-sub\",\n      vue2Flag: this.$route.name === \"vue2-sub\",\n      vue3Flag: this.$route.name === \"vue3-sub\",\n      viteFlag: this.$route.name === \"vite-sub\",\n    };\n  },\n  methods: {\n    close() {\n      if (this.active) this.active = false;\n    },\n    handleFlag(name) {\n      this[name + \"Flag\"] = !this[name + \"Flag\"];\n    },\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  font-size: 20px;\n  height: 100vh;\n  --theme: rgb(241, 107, 95);\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 100vw;\n}\n\n#nav {\n  background-color: white;\n  flex-shrink: 0;\n  font-size: 20px;\n  display: flex;\n  position: relative;\n  z-index: 1;\n  flex-direction: column;\n  padding: 30px 0;\n  width: 210px;\n  height: 100vh;\n  box-sizing: border-box;\n  box-shadow: 3px 0px 9px 2px #e6e6e6;\n  transition: transform 0.1s linear;\n  transform: translate(0, 0);\n  overflow: auto;\n}\n\n#nav .menu-icon {\n  display: none;\n  border: none;\n  background: var(--theme) !important;\n}\n\n.main-icon {\n  padding: 0 10px;\n  transition: transform 0.2s ease-in;\n}\n\n.main-icon.active {\n  transform: rotate(180deg);\n}\n\n.sub-menu {\n  font-size: 16px;\n  padding: 0 10px;\n}\n\n@media screen and (max-width: 768px) {\n  #nav {\n    position: absolute;\n    box-shadow: none;\n    transform: translate(-100%, 0);\n  }\n\n  #nav.active {\n    transform: translate(0, 0);\n    box-shadow: 3px 0px 9px 2px #e6e6e6;\n  }\n  #nav .menu-icon {\n    position: absolute;\n    left: 100%;\n    display: block;\n  }\n}\n\n.wujie_iframe {\n  width: 100%;\n  height: 100%;\n}\n\niframe {\n  border: none;\n}\n\nh3 {\n  padding-bottom: 0.3rem;\n  border-bottom: 1px solid #eaecef;\n}\n\n.content {\n  flex: 1;\n  height: 100vh;\n  overflow: hidden scroll;\n  width: 1px;\n}\n\n#nav a {\n  display: flex;\n  align-items: center;\n  padding: 10px 30px;\n  font-weight: bold;\n  color: #2c3e50;\n  text-decoration: none;\n  transition: all 0.2s linear;\n}\n\n#nav a:hover {\n  color: var(--theme);\n}\n\n.alive {\n  display: inline-block;\n  white-space: nowrap;\n  background-color: var(--theme);\n  border-radius: 8px;\n  margin-left: 4px;\n  font-size: 10px;\n  vertical-align: top;\n  padding: 1px 4px;\n  color: white;\n}\n\n#nav a.router-link-active {\n  color: var(--theme);\n  background: rgba(0, 0, 0, 0.05);\n}\n</style>\n","import mod from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=042261c0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=042261c0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"tool\"},[_c('a-button',{staticClass:\"button-gap\",staticStyle:{\"visibility\":\"hidden\"},attrs:{\"type\":\"primary\",\"icon\":\"unordered-list\",\"size\":\"large\"}}),_c('div',{staticClass:\"button-list\"},[_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\"shadow+proxy\")]),_c('a-switch',{staticClass:\"switch button-gap\",attrs:{\"disabled\":_vm.disable,\"checked-children\":\"\",\"un-checked-children\":\"\"},model:{value:(_vm.degrade),callback:function ($$v) {_vm.degrade=$$v},expression:\"degrade\"}})],2),_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\"+\")]),_c('a-switch',{staticClass:\"switch button-gap\",attrs:{\"checked-children\":\"\",\"un-checked-children\":\"\"},model:{value:(_vm.preload),callback:function ($$v) {_vm.preload=$$v},expression:\"preload\"}})],2),_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\"hash\")]),_c('a',{staticClass:\"docs button-gap\",attrs:{\"href\":\"https://wujie-micro.github.io/demo-main-react/\",\"target\":\"_blank\"}},[_vm._v(\"react\")])],2),_c('a',{staticClass:\"docs button-gap\",attrs:{\"href\":\"https://github.com/Tencent/wujie\",\"target\":\"_blank\"}},[_vm._v(\"\")]),_c('a',{staticClass:\"docs button-gap\",attrs:{\"href\":\"https://wujie-micro.github.io/doc/\",\"target\":\"_blank\"}},[_vm._v(\"\")])],1)],1),_c('h1',{staticClass:\"header\"},[_c('img',{style:({ width: '70px', height: '70px', 'margin-right': '15px' }),attrs:{\"src\":\"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/XC5WMbxE.svg\"}}),_c('span',{staticClass:\"bland\"},[_vm._v(\"\")])]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"\")]),_vm._m(0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"detail-content\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \")]),_c('div',{staticClass:\"detail\"},[_c('ul',[_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")])])])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \")]),_c('div',{staticClass:\"detail\"},[_c('ul',[_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"\")])])])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \")]),_c('div',{staticClass:\"detail\"},[_c('ul',[_c('li',[_vm._v(\"\")]),_c('li',[_vm._v(\"API\")]),_c('li',[_vm._v(\"\")])])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <div class=\"tool\">\n      <a-button style=\"visibility: hidden\" class=\"button-gap\" type=\"primary\" icon=\"unordered-list\" size=\"large\" />\n      <div class=\"button-list\">\n        <a-tooltip placement=\"top\">\n          <template slot=\"title\">shadow+proxy</template>\n          <a-switch\n            class=\"switch button-gap\"\n            :disabled=\"disable\"\n            checked-children=\"\"\n            un-checked-children=\"\"\n            v-model=\"degrade\"\n          />\n        </a-tooltip>\n        <a-tooltip placement=\"top\">\n          <template slot=\"title\">+</template>\n          <a-switch\n            class=\"switch button-gap\"\n            checked-children=\"\"\n            un-checked-children=\"\"\n            v-model=\"preload\"\n          />\n        </a-tooltip>\n        <a-tooltip placement=\"top\">\n          <template slot=\"title\">hash</template>\n          <a href=\"https://wujie-micro.github.io/demo-main-react/\" target=\"_blank\" class=\"docs button-gap\"\n            >react</a\n          >\n        </a-tooltip>\n        <a href=\"https://github.com/Tencent/wujie\" target=\"_blank\" class=\"docs button-gap\"></a>\n        <a href=\"https://wujie-micro.github.io/doc/\" target=\"_blank\" class=\"docs button-gap\"></a>\n      </div>\n    </div>\n    <h1 class=\"header\">\n      <img\n        :style=\"{ width: '70px', height: '70px', 'margin-right': '15px' }\"\n        src=\"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/XC5WMbxE.svg\"\n      />\n      <span class=\"bland\"></span>\n    </h1>\n    <h2 class=\"subtitle\"></h2>\n\n    <div class=\"detail-content\">\n      <div class=\"item\">\n        <div class=\"title\"> </div>\n        <div class=\"detail\">\n          <ul>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"item\">\n        <div class=\"title\"> </div>\n        <div class=\"detail\">\n          <ul>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"item\">\n        <div class=\"title\"> </div>\n        <div class=\"detail\">\n          <ul>\n            <li></li>\n            <li>API</li>\n            <li></li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      preload: window.localStorage.getItem(\"preload\") !== \"false\",\n      degrade: window.localStorage.getItem(\"degrade\") === \"true\" || !window.Proxy || !window.CustomElementRegistry,\n      disable: !window.Proxy || !window.CustomElementRegistry,\n    };\n  },\n  watch: {\n    preload(val) {\n      window.localStorage.setItem(\"preload\", val);\n      setTimeout(() => window.location.reload(), 1000);\n    },\n    degrade(val) {\n      window.localStorage.setItem(\"degrade\", val);\n      setTimeout(() => window.location.reload(), 1000);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.button-gap {\n  margin-bottom: 10px;\n}\n.button-list {\n  flex: 1;\n  display: flex;\n  flex-direction: row-reverse;\n  flex-wrap: wrap;\n}\n.tool {\n  margin: 30px 20px 30px 0;\n  display: flex;\n  flex-direction: row;\n  align-items: top;\n}\n.header {\n  font-size: 70px;\n  margin-top: 100px;\n  text-align: center;\n  font-weight: 300;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 200px;\n}\n.subtitle {\n  font-size: 50px;\n  margin-left: 250px;\n  text-align: center;\n  font-weight: 300;\n  font-style: italic;\n}\n\n.bland {\n  display: inline-block;\n  font-weight: 400;\n}\n\n.title {\n  font-size: 30px;\n  color: var(--theme);\n  text-align: center;\n}\n\n.switch {\n  margin-left: 15px;\n  padding: 5px;\n  height: 40px;\n}\n\n.switch.ant-switch::after {\n  top: 6px;\n  width: 25px;\n  height: 25px;\n}\n\n.docs {\n  font-size: 20px;\n  border: 1px solid rgb(217, 217, 217);\n  box-shadow: 0 2px #00000004;\n  color: rgb(44, 62, 80);\n  padding: 5px 20px;\n  border-radius: 20px;\n  margin-left: 15px;\n  cursor: pointer;\n  text-decoration: none;\n  transition: all 0.1s linear;\n}\n.docs:hover {\n  color: var(--theme);\n  border: 1px solid var(--theme);\n}\n\n.detail-content {\n  width: 900px;\n  margin: 150px auto 0 auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.detail-content .item ul {\n  margin: 15px 0;\n}\n\n.home {\n  font-size: 20px;\n}\n.home .ant-switch-checked {\n  background-color: var(--theme);\n}\nspan.switch {\n  margin-left: 0;\n  padding: 0;\n}\n\n@media screen and (max-width: 768px) {\n  .subtitle {\n    font-size: 35px;\n    margin-left: 0;\n    font-weight: 150;\n  }\n  .header {\n    margin-right: 0;\n  }\n  .detail-content {\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: auto;\n  }\n  .item {\n    width: 220px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n}\n</style>\n\n<style>\n.switch .ant-switch-inner {\n  font-size: 20px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=341fbafa&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=341fbafa&prod&scoped=true&lang=css&\"\nimport style1 from \"./Home.vue?vue&type=style&index=1&id=341fbafa&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"341fbafa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"react16\",\"url\":_vm.react16Url,\"sync\":true}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const map = {\n  \"//localhost:7100/\": \"//wujie-micro.github.io/demo-react17/\",\n  \"//localhost:7200/\": \"//wujie-micro.github.io/demo-vue2/\",\n  \"//localhost:7300/\": \"//wujie-micro.github.io/demo-vue3/\",\n  \"//localhost:7400/\": \"//wujie-micro.github.io/demo-angular12/\",\n  \"//localhost:7500/\": \"//wujie-micro.github.io/demo-vite/\",\n  \"//localhost:7600/\": \"//wujie-micro.github.io/demo-react16/\",\n  \"//localhost:7700/\": \"//wujie-micro.github.io/demo-main-react/\",\n  \"//localhost:8000/\": \"//wujie-micro.github.io/demo-main-vue/\",\n};\n\nexport default function hostMap(host) {\n  if (process.env.NODE_ENV === \"production\") return map[host];\n  return host;\n}\n","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"react16\" :url=\"react16Url\" :sync=\"true\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  data() {\n    return {\n      react16Url: hostMap(\"//localhost:7600/\"),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React16.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React16.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./React16.vue?vue&type=template&id=b13a20da&scoped=true&\"\nimport script from \"./React16.vue?vue&type=script&lang=js&\"\nexport * from \"./React16.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b13a20da\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"react16\",\"url\":_vm.react16Url}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"react16\" :url=\"react16Url\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  computed: {\n    react16Url() {\n      return hostMap(\"//localhost:7600/\") + this.$route.params.path;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React16-sub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React16-sub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./React16-sub.vue?vue&type=template&id=4cb61936&scoped=true&\"\nimport script from \"./React16-sub.vue?vue&type=script&lang=js&\"\nexport * from \"./React16-sub.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cb61936\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"react17\",\"url\":_vm.react17Url,\"sync\":true}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"react17\" :url=\"react17Url\" :sync=\"true\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nexport default {\n  data() {\n    return {\n      react17Url: hostMap(\"//localhost:7100/\"),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React17.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React17.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./React17.vue?vue&type=template&id=9b2fc488&scoped=true&\"\nimport script from \"./React17.vue?vue&type=script&lang=js&\"\nexport * from \"./React17.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b2fc488\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"react17\",\"url\":_vm.react17Url}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// \nexport const WUJIE_DATA_ID = \"data-wujie-id\";\nexport const WUJIE_DATA_FLAG = \"data-wujie-Flag\";\nexport const CONTAINER_POSITION_DATA_FLAG = \"data-container-position-flag\";\nexport const CONTAINER_OVERFLOW_DATA_FLAG = \"data-container-overflow-flag\";\nexport const LOADING_DATA_FLAG = \"data-loading-flag\";\nexport const WUJIE_DATA_ATTACH_CSS_FLAG = \"data-wujie-attach-css-flag\";\n\n// \nexport const WUJIE_IFRAME_CLASS = \"wujie_iframe\";\nexport const WUJIE_ALL_EVENT = \"_wujie_all_event\";\nexport const WUJIE_SHADE_STYLE =\n  \"position: fixed; z-index: 2147483647; visibility: hidden; inset: 0px; backface-visibility: hidden;\";\nexport const WUJIE_LOADING_STYLE =\n  \"position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index:1;\";\n\nexport const WUJIE_LOADING_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"30px\" viewBox=\"0 0 24 30\">\n<rect x=\"0\" y=\"13\" width=\"4\" height=\"5\" fill=\"#909090\">\n  <animate attributeName=\"height\" attributeType=\"XML\" values=\"5;21;5\" begin=\"0s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n  <animate attributeName=\"y\" attributeType=\"XML\" values=\"13; 5; 13\" begin=\"0s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n</rect>\n<rect x=\"10\" y=\"13\" width=\"4\" height=\"5\" fill=\"#909090\">\n  <animate attributeName=\"height\" attributeType=\"XML\" values=\"5;21;5\" begin=\"0.15s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n  <animate attributeName=\"y\" attributeType=\"XML\" values=\"13; 5; 13\" begin=\"0.15s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n</rect>\n<rect x=\"20\" y=\"13\" width=\"4\" height=\"5\" fill=\"#909090\">\n  <animate attributeName=\"height\" attributeType=\"XML\" values=\"5;21;5\" begin=\"0.3s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n  <animate attributeName=\"y\" attributeType=\"XML\" values=\"13; 5; 13\" begin=\"0.3s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n</rect>\n</svg>`;\n\n// \nexport const WUJIE_TIPS_NO_URL = \"url\";\nexport const WUJIE_TIPS_RELOAD_DISABLED = \"reload\";\nexport const WUJIE_TIPS_STOP_APP = \"iframe\";\nexport const WUJIE_TIPS_NO_SUBJECT = \"\";\nexport const WUJIE_TIPS_NO_FETCH = \"windowfetchpolyfill\";\nexport const WUJIE_TIPS_EMPTY_CALLBACK = \"\";\nexport const WUJIE_TIPS_NOT_SUPPORTED = \"iframe\";\nexport const WUJIE_TIPS_SCRIPT_ERROR_REQUESTED = \"\";\nexport const WUJIE_TIPS_CSS_ERROR_REQUESTED = \"\";\nexport const WUJIE_TIPS_REPEAT_RENDER = \"\";\n","import { WUJIE_TIPS_NO_URL, WUJIE_DATA_ID } from \"./constant\";\nimport { plugin, cacheOptions } from \"./index\";\n\nexport function toArray<T>(array: T | T[]): T[] {\n  return Array.isArray(array) ? array : [array];\n}\n\nexport function isFunction(value: any): boolean {\n  return typeof value === \"function\";\n}\n\nexport function isHijackingTag(tagName?: string) {\n  return (\n    tagName?.toUpperCase() === \"LINK\" ||\n    tagName?.toUpperCase() === \"STYLE\" ||\n    tagName?.toUpperCase() === \"SCRIPT\" ||\n    tagName?.toUpperCase() === \"IFRAME\"\n  );\n}\n\nexport const wujieSupport = window.Proxy && window.CustomElementRegistry;\n\n/**\n * in safari\n * typeof document.all === 'undefined' // true\n * typeof document.all === 'function' // true\n * We need to discriminate safari for better performance\n */\nconst naughtySafari = typeof document.all === \"function\" && typeof document.all === \"undefined\";\nconst callableFnCacheMap = new WeakMap<CallableFunction, boolean>();\nexport const isCallable = (fn: any) => {\n  if (callableFnCacheMap.has(fn)) {\n    return true;\n  }\n\n  const callable = naughtySafari ? typeof fn === \"function\" && typeof fn !== \"undefined\" : typeof fn === \"function\";\n  if (callable) {\n    callableFnCacheMap.set(fn, callable);\n  }\n  return callable;\n};\n\nconst boundedMap = new WeakMap<CallableFunction, boolean>();\nexport function isBoundedFunction(fn: CallableFunction) {\n  if (boundedMap.has(fn)) {\n    return boundedMap.get(fn);\n  }\n  const bounded = fn.name.indexOf(\"bound \") === 0 && !fn.hasOwnProperty(\"prototype\");\n  boundedMap.set(fn, bounded);\n  return bounded;\n}\n\nconst fnRegexCheckCacheMap = new WeakMap<any | FunctionConstructor, boolean>();\nexport function isConstructable(fn: () => any | FunctionConstructor) {\n  const hasPrototypeMethods =\n    fn.prototype && fn.prototype.constructor === fn && Object.getOwnPropertyNames(fn.prototype).length > 1;\n\n  if (hasPrototypeMethods) return true;\n\n  if (fnRegexCheckCacheMap.has(fn)) {\n    return fnRegexCheckCacheMap.get(fn);\n  }\n\n  let constructable = hasPrototypeMethods;\n  if (!constructable) {\n    const fnString = fn.toString();\n    const constructableFunctionRegex = /^function\\b\\s[A-Z].*/;\n    const classRegex = /^class\\b/;\n    constructable = constructableFunctionRegex.test(fnString) || classRegex.test(fnString);\n  }\n\n  fnRegexCheckCacheMap.set(fn, constructable);\n  return constructable;\n}\n\nconst setFnCacheMap = new WeakMap<CallableFunction, CallableFunction>();\nexport function checkProxyFunction(value: any) {\n  if (isCallable(value) && !isBoundedFunction(value) && !isConstructable(value)) {\n    if (!setFnCacheMap.has(value)) {\n      setFnCacheMap.set(value, value);\n    }\n  }\n}\n\nexport function getTargetValue(target: any, p: any): any {\n  const value = target[p];\n  if (setFnCacheMap.has(value)) {\n    return setFnCacheMap.get(value);\n  }\n  if (isCallable(value) && !isBoundedFunction(value) && !isConstructable(value)) {\n    const boundValue = Function.prototype.bind.call(value, target);\n    setFnCacheMap.set(value, boundValue);\n\n    for (const key in value) {\n      boundValue[key] = value[key];\n    }\n    if (value.hasOwnProperty(\"prototype\") && !boundValue.hasOwnProperty(\"prototype\")) {\n      // https://github.com/kuitos/kuitos.github.io/issues/47\n      Object.defineProperty(boundValue, \"prototype\", { value: value.prototype, enumerable: false, writable: true });\n    }\n    return boundValue;\n  }\n  return value;\n}\n\nexport function getDegradeIframe(id: string): HTMLIFrameElement {\n  return window.document.querySelector(`iframe[${WUJIE_DATA_ID}=\"${id}\"]`);\n}\n\nexport function appRouteParse(url: string): {\n  urlElement: HTMLAnchorElement;\n  appHostPath: string;\n  appRoutePath: string;\n} {\n  if (!url) {\n    error(WUJIE_TIPS_NO_URL);\n    throw new Error();\n  }\n  const urlElement = anchorElementGenerator(url);\n  const appHostPath = urlElement.protocol + \"//\" + urlElement.host;\n  const appRoutePath = urlElement.pathname + urlElement.search + urlElement.hash;\n  return { urlElement, appHostPath, appRoutePath };\n}\n\nexport function anchorElementGenerator(url: string): HTMLAnchorElement {\n  const element = window.document.createElement(\"a\");\n  element.href = url;\n  return element;\n}\n\nexport function getAnchorElementQueryMap(anchorElement: HTMLAnchorElement): { [key: string]: string } {\n  const queryList = anchorElement.search.replace(\"?\", \"\").split(\"&\");\n  const queryMap = {};\n  queryList.forEach((query) => {\n    const [key, value] = query.split(\"=\");\n    if (key && value) queryMap[key] = value;\n  });\n  return queryMap;\n}\n\n/**\n * urlid\n */\nexport function isMatchSyncQueryById(id: string): boolean {\n  const queryMap = getAnchorElementQueryMap(anchorElementGenerator(window.location.href));\n  return Object.keys(queryMap).includes(id);\n}\n\n/**\n * \n * @param iframeWindow\n */\nexport function fixElementCtrSrcOrHref(\n  iframeWindow: Window,\n  elementCtr:\n    | typeof HTMLImageElement\n    | typeof HTMLAnchorElement\n    | typeof HTMLSourceElement\n    | typeof HTMLLinkElement\n    | typeof HTMLScriptElement,\n  attr\n): void {\n  // patch setAttribute\n  const rawElementSetAttribute = iframeWindow.Element.prototype.setAttribute;\n  elementCtr.prototype.setAttribute = function (name: string, value: string): void {\n    let targetValue = value;\n    if (name === attr) targetValue = getAbsolutePath(value, this.baseURI || \"\");\n    rawElementSetAttribute.call(this, name, targetValue);\n  };\n  // patch href get and set\n  const rawAnchorElementHrefDescriptor = Object.getOwnPropertyDescriptor(elementCtr.prototype, attr);\n  const { enumerable, configurable, get, set } = rawAnchorElementHrefDescriptor;\n  Object.defineProperty(elementCtr.prototype, attr, {\n    enumerable,\n    configurable,\n    get: function () {\n      return get.call(this);\n    },\n    set: function (href) {\n      set.call(this, getAbsolutePath(href, this.baseURI));\n    },\n  });\n  // TODO: innerHTML\n}\n\nexport function getCurUrl(proxyLocation: Object): string {\n  const location = proxyLocation as Location;\n  return location.protocol + \"//\" + location.host + location.pathname;\n}\n\nexport function getAbsolutePath(url: string, base: string): string {\n  try {\n    // hash\n    if (url && !url.startsWith(\"#\")) {\n      return new URL(url, base).href;\n    } else return url;\n  } catch {\n    return url;\n  }\n}\n/**\n * url\n */\nexport function getSyncUrl(id: string, prefix: { [key: string]: string }): string {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  winUrlElement = null;\n  const syncUrl = window.decodeURIComponent(queryMap[id] || \"\");\n  const validShortPath = syncUrl.match(/^{([^}]*)}/)?.[1];\n  if (prefix && validShortPath) {\n    return syncUrl.replace(`{${validShortPath}}`, prefix[validShortPath]);\n  }\n  return syncUrl;\n}\n// @ts-ignore\nexport const requestIdleCallback = window.requestIdleCallback || ((cb: Function) => setTimeout(cb, 1));\n\nexport function getContainer(container: string | HTMLElement): HTMLElement {\n  return typeof container === \"string\" ? (document.querySelector(container) as HTMLElement) : container;\n}\n\nexport function warn(msg: string, data?: any): void {\n  console?.warn(`[wujie warn]: ${msg}`, data);\n}\n\nexport function error(msg: string, data?: any): void {\n  console?.error(`[wujie error]: ${msg}`, data);\n}\n\nexport function getInlineCode(match) {\n  const start = match.indexOf(\">\") + 1;\n  const end = match.lastIndexOf(\"<\");\n  return match.substring(start, end);\n}\n\nexport function defaultGetPublicPath(entry) {\n  if (typeof entry === \"object\") {\n    return \"/\";\n  }\n  try {\n    const { origin, pathname } = new URL(entry, location.href);\n    const paths = pathname.split(\"/\");\n    // \n    paths.pop();\n    return `${origin}${paths.join(\"/\")}/`;\n  } catch (e) {\n    console.warn(e);\n    return \"\";\n  }\n}\n\n/** [f1, f2, f3, f4] => f4(f3(f2(f1)))  */\nexport function compose(fnList: Array<Function>): (...args: Array<string>) => string {\n  return function (code: string, ...args: Array<any>) {\n    return fnList.reduce((newCode, fn) => (isFunction(fn) ? fn(newCode, ...args) : newCode), code || \"\");\n  };\n}\n\n// \nexport function nextTick(cb: () => any): void {\n  Promise.resolve().then(cb);\n}\n\n//\nexport function execHooks(plugins: Array<plugin>, hookName: string, ...args: Array<any>): void {\n  try {\n    plugins\n      .map((plugin) => plugin[hookName])\n      .filter((hook) => isFunction(hook))\n      .forEach((hook) => hook(...args));\n  } catch (e) {\n    error(e);\n  }\n}\n\n// \nexport function mergeOptions(options: cacheOptions, cacheOptions: cacheOptions) {\n  return {\n    name: options.name,\n    el: options.el || cacheOptions?.el,\n    url: options.url || cacheOptions?.url,\n    exec: options.exec !== undefined ? options.exec : cacheOptions?.exec,\n    replace: options.replace || cacheOptions?.replace,\n    fetch: options.fetch || cacheOptions?.fetch,\n    props: options.props || cacheOptions?.props,\n    sync: options.sync !== undefined ? options.sync : cacheOptions?.sync,\n    prefix: options.prefix || cacheOptions?.prefix,\n    loading: options.loading || cacheOptions?.loading,\n    //  {}\n    attrs: options.attrs !== undefined ? options.attrs : cacheOptions?.attrs || {},\n    //  true\n    fiber: options.fiber !== undefined ? options.fiber : cacheOptions?.fiber !== undefined ? cacheOptions?.fiber : true,\n    alive: options.alive !== undefined ? options.alive : cacheOptions?.alive,\n    degrade: options.degrade !== undefined ? options.degrade : cacheOptions?.degrade,\n    plugins: options.plugins || cacheOptions?.plugins,\n    lifecycles: {\n      beforeLoad: options.beforeLoad || cacheOptions?.beforeLoad,\n      beforeMount: options.beforeMount || cacheOptions?.beforeMount,\n      afterMount: options.afterMount || cacheOptions?.afterMount,\n      beforeUnmount: options.beforeUnmount || cacheOptions?.beforeUnmount,\n      afterUnmount: options.afterUnmount || cacheOptions?.afterUnmount,\n      activated: options.activated || cacheOptions?.activated,\n      deactivated: options.deactivated || cacheOptions?.deactivated,\n      loadError: options.loadError || cacheOptions?.loadError,\n    },\n  };\n}\n\n/**\n * \n */\nexport function eventTrigger(el: HTMLElement | Window | Document, eventName: string, detail?: any) {\n  let event;\n  if (typeof window.CustomEvent === \"function\") {\n    event = new CustomEvent(eventName, { detail });\n  } else {\n    event = document.createEvent(\"CustomEvent\");\n    event.initCustomEvent(eventName, true, false, detail);\n  }\n  el.dispatchEvent(event);\n}\n","import { getInlineCode } from \"./utils\";\n\nconst ALL_SCRIPT_REGEX = /(<script[\\s\\S]*?>)[\\s\\S]*?<\\/script>/gi;\nconst SCRIPT_TAG_REGEX = /<(script)\\s+((?!type=('|\")text\\/ng-template\\3).)*?>.*?<\\/\\1>/is;\nconst SCRIPT_SRC_REGEX = /.*\\ssrc=('|\")?([^>'\"\\s]+)/;\nconst SCRIPT_TYPE_REGEX = /.*\\stype=('|\")?([^>'\"\\s]+)/;\nconst SCRIPT_ENTRY_REGEX = /.*\\sentry\\s*.*/;\nconst SCRIPT_ASYNC_REGEX = /.*\\sasync\\s*.*/;\nconst DEFER_ASYNC_REGEX = /.*\\sdefer\\s*.*/;\nconst SCRIPT_NO_MODULE_REGEX = /.*\\snomodule\\s*.*/;\nconst SCRIPT_MODULE_REGEX = /.*\\stype=('|\")?module('|\")?\\s*.*/;\nconst LINK_TAG_REGEX = /<(link)\\s+.*?>/gis;\nconst LINK_PRELOAD_OR_PREFETCH_REGEX = /\\srel=('|\")?(preload|prefetch|modulepreload)\\1/;\nconst LINK_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nconst LINK_AS_FONT = /.*\\sas=('|\")?font\\1.*/;\nconst STYLE_TAG_REGEX = /<style[^>]*>[\\s\\S]*?<\\/style>/gi;\nconst STYLE_TYPE_REGEX = /\\s+rel=('|\")?stylesheet\\1.*/;\nconst STYLE_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nconst HTML_COMMENT_REGEX = /<!--([\\s\\S]*?)-->/g;\nconst LINK_IGNORE_REGEX = /<link(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst STYLE_IGNORE_REGEX = /<style(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst SCRIPT_IGNORE_REGEX = /<script(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst CROSS_ORIGIN_REGEX = /.*\\scrossorigin=?('|\")?(use-credentials|anonymous)?('|\")?/i;\n\n/**  */\nexport interface ScriptBaseObject {\n  /**  */\n  src?: string;\n  /** async */\n  async?: boolean;\n  /** defer */\n  defer?: boolean;\n  /** module */\n  module?: boolean;\n  /** crossorigin */\n  crossorigin?: boolean;\n  /** crossorigin */\n  crossoriginType?: \"anonymous\" | \"use-credentials\" | \"\";\n}\nexport type ScriptObject = ScriptBaseObject & {\n  /** script */\n  content?: string;\n  /**  */\n  ignore?: boolean;\n};\n\n/**  */\nexport interface StyleObject {\n  /**   */\n  src?: string;\n  /**  */\n  content?: string;\n  /**  */\n  ignore?: boolean;\n}\n\nexport interface TemplateResult {\n  template: string;\n  scripts: ScriptObject[];\n  styles: StyleObject[];\n  entry: string | ScriptObject;\n}\n\nfunction hasProtocol(url) {\n  return url.startsWith(\"//\") || url.startsWith(\"http://\") || url.startsWith(\"https://\");\n}\n\nfunction getEntirePath(path, baseURI) {\n  return new URL(path, baseURI).toString();\n}\n\nfunction isValidJavaScriptType(type) {\n  const handleTypes = [\n    \"text/javascript\",\n    \"module\",\n    \"application/javascript\",\n    \"text/ecmascript\",\n    \"application/ecmascript\",\n  ];\n  return !type || handleTypes.indexOf(type) !== -1;\n}\n\nfunction isModuleScriptSupported() {\n  const s = window.document.createElement(\"script\");\n  return \"noModule\" in s;\n}\n\nexport const genLinkReplaceSymbol = (linkHref, preloadOrPrefetch = false) =>\n  `<!-- ${preloadOrPrefetch ? \"prefetch/preload/modulepreload\" : \"\"} link ${linkHref} replaced by wujie -->`;\nexport const getInlineStyleReplaceSymbol = (index) => `<!-- inline-style-${index} replaced by wujie -->`;\nexport const genScriptReplaceSymbol = (scriptSrc, type = \"\") =>\n  `<!-- ${type} script ${scriptSrc} replaced by wujie -->`;\nexport const inlineScriptReplaceSymbol = \"<!-- inline scripts replaced by wujie -->\";\nexport const genIgnoreAssetReplaceSymbol = (url) => `<!-- ignore asset ${url || \"file\"} replaced by wujie -->`;\nexport const genModuleScriptReplaceSymbol = (scriptSrc, moduleSupport) =>\n  `<!-- ${moduleSupport ? \"nomodule\" : \"module\"} script ${scriptSrc} ignored by wujie -->`;\n\n/**\n * parse the script link from the template\n * 1. collect stylesheets\n * 2. use global eval to evaluate the inline scripts\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function#Difference_between_Function_constructor_and_function_declaration\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval#Do_not_ever_use_eval!\n * @param tpl\n * @param baseURI\n * @stripStyles whether to strip the css links\n * @returns {{template: void | string | *, scripts: *[], entry: *}}\n */\nexport default function processTpl(tpl: String, baseURI: String, postProcessTemplate?: Function): TemplateResult {\n  const scripts: ScriptObject[] = [];\n  const styles: StyleObject[] = [];\n  let entry = null;\n  const moduleSupport = isModuleScriptSupported();\n  const template = tpl\n\n    /*\n     remove html comment first\n     */\n    .replace(HTML_COMMENT_REGEX, \"\")\n\n    .replace(LINK_TAG_REGEX, (match) => {\n      /*\n       change the css link\n       */\n      const styleType = !!match.match(STYLE_TYPE_REGEX);\n      if (styleType) {\n        const styleHref = match.match(STYLE_HREF_REGEX);\n        const styleIgnore = match.match(LINK_IGNORE_REGEX);\n\n        if (styleHref) {\n          const href = styleHref && styleHref[2];\n          let newHref = href;\n\n          if (href && !hasProtocol(href)) {\n            newHref = getEntirePath(href, baseURI);\n          }\n          if (styleIgnore) {\n            return genIgnoreAssetReplaceSymbol(newHref);\n          }\n\n          styles.push({ src: newHref });\n          return genLinkReplaceSymbol(newHref);\n        }\n      }\n\n      const preloadOrPrefetchType =\n        match.match(LINK_PRELOAD_OR_PREFETCH_REGEX) && match.match(LINK_HREF_REGEX) && !match.match(LINK_AS_FONT);\n      if (preloadOrPrefetchType) {\n        const [, , linkHref] = match.match(LINK_HREF_REGEX);\n        return genLinkReplaceSymbol(linkHref, true);\n      }\n\n      return match;\n    })\n    .replace(STYLE_TAG_REGEX, (match) => {\n      if (STYLE_IGNORE_REGEX.test(match)) {\n        return genIgnoreAssetReplaceSymbol(\"style file\");\n      } else {\n        const code = getInlineCode(match);\n        styles.push({ src: \"\", content: code });\n        return getInlineStyleReplaceSymbol(styles.length - 1);\n      }\n    })\n    .replace(ALL_SCRIPT_REGEX, (match, scriptTag) => {\n      const scriptIgnore = scriptTag.match(SCRIPT_IGNORE_REGEX);\n      const isModuleScript = !!scriptTag.match(SCRIPT_MODULE_REGEX);\n      const isCrossOriginScript = scriptTag.match(CROSS_ORIGIN_REGEX);\n      const crossOriginType = isCrossOriginScript?.[2] || \"\";\n      const moduleScriptIgnore =\n        (moduleSupport && !!scriptTag.match(SCRIPT_NO_MODULE_REGEX)) || (!moduleSupport && isModuleScript);\n      // in order to keep the exec order of all javascripts\n\n      const matchedScriptTypeMatch = scriptTag.match(SCRIPT_TYPE_REGEX);\n      const matchedScriptType = matchedScriptTypeMatch && matchedScriptTypeMatch[2];\n      if (!isValidJavaScriptType(matchedScriptType)) {\n        return match;\n      }\n\n      // if it is a external script\n      if (SCRIPT_TAG_REGEX.test(match) && scriptTag.match(SCRIPT_SRC_REGEX)) {\n        /*\n         collect scripts and replace the ref\n         */\n\n        const matchedScriptEntry = scriptTag.match(SCRIPT_ENTRY_REGEX);\n        const matchedScriptSrcMatch = scriptTag.match(SCRIPT_SRC_REGEX);\n        let matchedScriptSrc = matchedScriptSrcMatch && matchedScriptSrcMatch[2];\n\n        if (entry && matchedScriptEntry) {\n          throw new SyntaxError(\"You should not set multiply entry script!\");\n        } else {\n          // append the domain while the script not have an protocol prefix\n          if (matchedScriptSrc && !hasProtocol(matchedScriptSrc)) {\n            matchedScriptSrc = getEntirePath(matchedScriptSrc, baseURI);\n          }\n\n          entry = entry || (matchedScriptEntry && matchedScriptSrc);\n        }\n\n        if (scriptIgnore) {\n          return genIgnoreAssetReplaceSymbol(matchedScriptSrc || \"js file\");\n        }\n\n        if (moduleScriptIgnore) {\n          return genModuleScriptReplaceSymbol(matchedScriptSrc || \"js file\", moduleSupport);\n        }\n\n        if (matchedScriptSrc) {\n          const isAsyncScript = !!scriptTag.match(SCRIPT_ASYNC_REGEX);\n          const isDeferScript = !!scriptTag.match(DEFER_ASYNC_REGEX);\n          scripts.push(\n            isAsyncScript || isDeferScript\n              ? {\n                  async: isAsyncScript,\n                  defer: isDeferScript,\n                  src: matchedScriptSrc,\n                  module: isModuleScript,\n                  crossorigin: !!isCrossOriginScript,\n                  crossoriginType: crossOriginType,\n                }\n              : {\n                  src: matchedScriptSrc,\n                  module: isModuleScript,\n                  crossorigin: !!isCrossOriginScript,\n                  crossoriginType: crossOriginType,\n                }\n          );\n          return genScriptReplaceSymbol(\n            matchedScriptSrc,\n            (isAsyncScript && \"async\") || (isDeferScript && \"defer\") || \"\"\n          );\n        }\n\n        return match;\n      } else {\n        if (scriptIgnore) {\n          return genIgnoreAssetReplaceSymbol(\"js file\");\n        }\n\n        if (moduleScriptIgnore) {\n          return genModuleScriptReplaceSymbol(\"js file\", moduleSupport);\n        }\n\n        // if it is an inline script\n        const code = getInlineCode(match);\n\n        // remove script blocks when all of these lines are comments.\n        const isPureCommentBlock = code.split(/[\\r\\n]+/).every((line) => !line.trim() || line.trim().startsWith(\"//\"));\n\n        if (!isPureCommentBlock && code) {\n          scripts.push({\n            src: \"\",\n            content: code,\n            module: isModuleScript,\n            crossorigin: !!isCrossOriginScript,\n            crossoriginType: crossOriginType,\n          });\n        }\n\n        return inlineScriptReplaceSymbol;\n      }\n    });\n\n  let tplResult = {\n    template,\n    scripts,\n    styles,\n    // set the last script as entry if have not set\n    entry: entry || scripts[scripts.length - 1],\n  };\n  if (typeof postProcessTemplate === \"function\") {\n    tplResult = postProcessTemplate(tplResult);\n  }\n\n  return tplResult;\n}\n","import { plugin, ScriptObjectLoader } from \"./index\";\nimport { StyleObject } from \"./template\";\nimport { compose, getAbsolutePath } from \"./utils\";\n\ninterface loaderOption {\n  plugins: Array<plugin>;\n  replace: (code: string) => string;\n}\n\n/**\n *  cssLoader\n */\nexport function getCssLoader({ plugins, replace }: loaderOption) {\n  return (code: string, src: string = \"\", base: string): string =>\n    compose(plugins.map((plugin) => plugin.cssLoader))(replace ? replace(code) : code, src, base);\n}\n\n/**\n *  jsLoader\n */\nexport function getJsLoader({ plugins, replace }: loaderOption) {\n  return (code: string, src: string = \"\", base: string): string =>\n    compose(plugins.map((plugin) => plugin.jsLoader))(replace ? replace(code) : code, src, base);\n}\n\n/**\n * \n */\ntype presetLoadersType = \"cssBeforeLoaders\" | \"cssAfterLoaders\" | \"jsBeforeLoaders\" | \"jsAfterLoaders\";\nexport function getPresetLoaders(loaderType: presetLoadersType, plugins: Array<plugin>): plugin[presetLoadersType] {\n  const loaders: (StyleObject | ScriptObjectLoader)[][] = plugins\n    .map((plugin) => plugin[loaderType])\n    .filter((loaders) => loaders?.length);\n  const res = loaders.reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), []);\n  return loaderType === \"cssBeforeLoaders\" ? res.reverse() : res;\n}\n\n/**\n * \n */\ntype effectLoadersType = \"jsExcludes\" | \"cssExcludes\" | \"jsIgnores\" | \"cssIgnores\";\nexport function getEffectLoaders(loaderType: effectLoadersType, plugins: Array<plugin>): plugin[effectLoadersType] {\n  return plugins\n    .map((plugin) => plugin[loaderType])\n    .filter((loaders) => loaders?.length)\n    .reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), []);\n}\n\n//  url loader\nexport function isMatchUrl(url: string, effectLoaders: plugin[effectLoadersType]): boolean {\n  return effectLoaders.some((loader) => (typeof loader === \"string\" ? url === loader : loader.test(url)));\n}\n\n/**\n * css\n */\nfunction cssRelativePathResolve(code: string, src: string, base: string) {\n  const baseUrl = src ? getAbsolutePath(src, base) : base;\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/url\n  const urlReg = /(url\\((?!['\"]?(?:data):)['\"]?)([^'\")]*)(['\"]?\\))/g;\n  return code.replace(urlReg, (_m, pre, url, post) => {\n    const absoluteUrl = getAbsolutePath(url, baseUrl);\n    return pre + absoluteUrl + post;\n  });\n}\n\nconst defaultPlugin = {\n  cssLoader: cssRelativePathResolve,\n};\n\nexport function getPlugins(plugins: Array<plugin>): Array<plugin> {\n  return Array.isArray(plugins) ? [defaultPlugin, ...plugins] : [defaultPlugin];\n}\n\nexport default defaultPlugin;\n","import processTpl, {\n  genLinkReplaceSymbol,\n  getInlineStyleReplaceSymbol,\n  ScriptObject,\n  ScriptBaseObject,\n  StyleObject,\n} from \"./template\";\nimport { defaultGetPublicPath, getInlineCode, requestIdleCallback, error, compose, getCurUrl } from \"./utils\";\nimport { WUJIE_TIPS_NO_FETCH, WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, WUJIE_TIPS_CSS_ERROR_REQUESTED } from \"./constant\";\nimport { getEffectLoaders, isMatchUrl } from \"./plugin\";\nimport Wujie from \"./sandbox\";\nimport { plugin, loadErrorHandler } from \"./index\";\n\nexport type ScriptResultList = (ScriptBaseObject & { contentPromise: Promise<string> })[];\nexport type StyleResultList = { src: string; contentPromise: Promise<string>; ignore?: boolean }[];\n\ninterface htmlParseResult {\n  template: string;\n\n  assetPublicPath: string;\n\n  getExternalScripts(): ScriptResultList;\n\n  getExternalStyleSheets(): StyleResultList;\n}\n\ntype ImportEntryOpts = {\n  fetch?: typeof window.fetch;\n  plugins?: Array<plugin>;\n  loadError?: loadErrorHandler;\n};\n\nconst styleCache = {};\nconst scriptCache = {};\nconst embedHTMLCache = {};\n\nif (!window.fetch) {\n  error(WUJIE_TIPS_NO_FETCH);\n  throw new Error();\n}\nconst defaultFetch = window.fetch.bind(window);\n\nfunction defaultGetTemplate(tpl) {\n  return tpl;\n}\n\n/**\n * css-loader\n */\nexport async function processCssLoader(\n  sandbox: Wujie,\n  template: string,\n  getExternalStyleSheets: () => StyleResultList\n): Promise<string> {\n  const curUrl = getCurUrl(sandbox.proxyLocation);\n  /** css-loader */\n  const composeCssLoader = compose(sandbox.plugins.map((plugin) => plugin.cssLoader));\n  const processedCssList: StyleResultList = getExternalStyleSheets().map(({ src, ignore, contentPromise }) => ({\n    src,\n    ignore,\n    contentPromise: contentPromise.then((content) => composeCssLoader(content, src, curUrl)),\n  }));\n  const embedHTML = await getEmbedHTML(template, processedCssList);\n  return sandbox.replace ? sandbox.replace(embedHTML) : embedHTML;\n}\n\n/**\n * convert external css link to inline style for performance optimization\n * @return embedHTML\n */\nasync function getEmbedHTML(template, styleResultList: StyleResultList): Promise<string> {\n  let embedHTML = template;\n\n  return Promise.all(\n    styleResultList.map((styleResult, index) =>\n      styleResult.contentPromise.then((content) => {\n        if (styleResult.src) {\n          embedHTML = embedHTML.replace(\n            genLinkReplaceSymbol(styleResult.src),\n            styleResult.ignore\n              ? `<link href=\"${styleResult.src}\" rel=\"stylesheet\" type=\"text/css\">`\n              : `<style>/* ${styleResult.src} */${content}</style>`\n          );\n        } else if (content) {\n          embedHTML = embedHTML.replace(\n            getInlineStyleReplaceSymbol(index),\n            `<style>/* inline-style-${index} */${content}</style>`\n          );\n        }\n      })\n    )\n  ).then(() => embedHTML);\n}\n\nconst isInlineCode = (code) => code.startsWith(\"<\");\n\nconst fetchAssets = (\n  src: string,\n  cache: Object,\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response>,\n  cssFlag?: boolean,\n  loadError?: loadErrorHandler\n) =>\n  cache[src] ||\n  (cache[src] = fetch(src)\n    .then((response) => {\n      // usually browser treats 4xx and 5xx response of script loading as an error and will fire a script error event\n      // https://stackoverflow.com/questions/5625420/what-http-headers-responses-trigger-the-onerror-handler-on-a-script-tag/5625603\n      if (response.status >= 400) {\n        cache[src] = null;\n        if (cssFlag) {\n          error(WUJIE_TIPS_CSS_ERROR_REQUESTED, { src, response });\n          loadError?.(src, new Error(WUJIE_TIPS_CSS_ERROR_REQUESTED));\n          return \"\";\n        } else {\n          error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, { src, response });\n          loadError?.(src, new Error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED));\n          throw new Error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED);\n        }\n      }\n      return response.text();\n    })\n    .catch((e) => {\n      cache[src] = null;\n      if (cssFlag) {\n        error(WUJIE_TIPS_CSS_ERROR_REQUESTED, src);\n        loadError?.(src, e);\n        return \"\";\n      } else {\n        error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, src);\n        loadError?.(src, e);\n        throw e;\n      }\n    }));\n\n// for prefetch\nexport function getExternalStyleSheets(\n  styles: StyleObject[],\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response> = defaultFetch,\n  loadError: loadErrorHandler\n): StyleResultList {\n  return styles.map(({ src, content, ignore }) => {\n    // \n    if (content) {\n      return { src: \"\", contentPromise: Promise.resolve(content) };\n    } else if (isInlineCode(src)) {\n      // if it is inline style\n      return { src: \"\", contentPromise: Promise.resolve(getInlineCode(src)) };\n    } else {\n      // external styles\n      return {\n        src,\n        ignore,\n        contentPromise: ignore ? Promise.resolve(\"\") : fetchAssets(src, styleCache, fetch, true, loadError),\n      };\n    }\n  });\n}\n\n// for prefetch\nexport function getExternalScripts(\n  scripts: ScriptObject[],\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response> = defaultFetch,\n  loadError: loadErrorHandler\n): ScriptResultList {\n  // module should be requested in iframe\n  return scripts.map((script) => {\n    const { src, async, defer, module, ignore } = script;\n    let contentPromise = null;\n    // async\n    if ((async || defer) && src && !module) {\n      contentPromise = new Promise((resolve, reject) =>\n        requestIdleCallback(() => fetchAssets(src, scriptCache, fetch, false, loadError).then(resolve, reject))\n      );\n      // module || ignore\n    } else if ((module && src) || ignore) {\n      contentPromise = Promise.resolve(\"\");\n      // inline\n    } else if (!src) {\n      contentPromise = Promise.resolve(script.content);\n      // outline\n    } else {\n      contentPromise = fetchAssets(src, scriptCache, fetch, false, loadError);\n    }\n    return { ...script, contentPromise };\n  });\n}\n\nexport default function importHTML(url: string, opts?: ImportEntryOpts): Promise<htmlParseResult> {\n  const fetch = opts.fetch ?? defaultFetch;\n  const { plugins, loadError } = opts;\n  const htmlLoader = plugins ? compose(plugins.map((plugin) => plugin.htmlLoader)) : defaultGetTemplate;\n  const jsExcludes = getEffectLoaders(\"jsExcludes\", plugins);\n  const cssExcludes = getEffectLoaders(\"cssExcludes\", plugins);\n  const jsIgnores = getEffectLoaders(\"jsIgnores\", plugins);\n  const cssIgnores = getEffectLoaders(\"cssIgnores\", plugins);\n  const getPublicPath = defaultGetPublicPath;\n\n  const getHtmlParseResult = (url, htmlLoader) =>\n    fetch(url)\n      .then(\n        (response) => response.text(),\n        (e) => {\n          loadError?.(url, e);\n          return Promise.reject(e);\n        }\n      )\n      .then((html) => {\n        const assetPublicPath = getPublicPath(url);\n        const { template, scripts, styles } = processTpl(htmlLoader(html), assetPublicPath);\n        return {\n          template: template,\n          assetPublicPath,\n          getExternalScripts: () =>\n            getExternalScripts(\n              scripts\n                .filter((script) => !script.src || !isMatchUrl(script.src, jsExcludes))\n                .map((script) => ({ ...script, ignore: script.src && isMatchUrl(script.src, jsIgnores) })),\n              fetch,\n              loadError\n            ),\n          getExternalStyleSheets: () =>\n            getExternalStyleSheets(\n              styles\n                .filter((style) => !style.src || !isMatchUrl(style.src, cssExcludes))\n                .map((style) => ({ ...style, ignore: style.src && isMatchUrl(style.src, cssIgnores) })),\n              fetch,\n              loadError\n            ),\n        };\n      });\n\n  if (opts?.plugins.some((plugin) => plugin.htmlLoader)) {\n    return getHtmlParseResult(url, htmlLoader);\n    // html-loader\n  } else {\n    return embedHTMLCache[url] || (embedHTMLCache[url] = getHtmlParseResult(url, htmlLoader));\n  }\n}\n","import Wujie from \"./sandbox\";\nimport { cacheOptions } from \"./index\";\nexport interface SandboxCache {\n  wujie?: Wujie;\n  options?: cacheOptions;\n}\n\n// map\nexport const idToSandboxCacheMap = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE.inject.idToSandboxMap\n  : new Map<String, SandboxCache>();\n\nexport function getWujieById(id: String): Wujie | null {\n  return idToSandboxCacheMap.get(id)?.wujie || null;\n}\n\nexport function getOptionsById(id: String): cacheOptions | null {\n  return idToSandboxCacheMap.get(id)?.options || null;\n}\n\nexport function addSandboxCacheWithWujie(id: string, sandbox: Wujie): void {\n  const wujieCache = idToSandboxCacheMap.get(id);\n  if (wujieCache) idToSandboxCacheMap.set(id, { ...wujieCache, wujie: sandbox });\n  else idToSandboxCacheMap.set(id, { wujie: sandbox });\n}\n\nexport function deleteWujieById(id: string) {\n  const wujieCache = idToSandboxCacheMap.get(id);\n  if (wujieCache?.options) idToSandboxCacheMap.set(id, { options: wujieCache.options });\n  idToSandboxCacheMap.delete(id);\n}\n\nexport function addSandboxCacheWithOptions(id: string, options: cacheOptions): void {\n  const wujieCache = idToSandboxCacheMap.get(id);\n  if (wujieCache) idToSandboxCacheMap.set(id, { ...wujieCache, options });\n  else idToSandboxCacheMap.set(id, { options });\n}\n\n// document\nexport const documentProxyProperties = {\n  // \n  modifyLocalProperties: [\"createElement\", \"createTextNode\", \"documentURI\", \"URL\", \"getElementsByTagName\"],\n\n  // \n  modifyProperties: [\n    \"createElement\",\n    \"createTextNode\",\n    \"documentURI\",\n    \"URL\",\n    \"getElementsByTagName\",\n    \"getElementsByClassName\",\n    \"getElementsByName\",\n    \"getElementById\",\n    \"querySelector\",\n    \"querySelectorAll\",\n    \"documentElement\",\n    \"scrollingElement\",\n    \"forms\",\n    \"images\",\n    \"links\",\n  ],\n\n  // shadowRoot\n  shadowProperties: [\n    \"activeElement\",\n    \"childElementCount\",\n    \"children\",\n    \"firstElementChild\",\n    \"firstChild\",\n    \"fullscreenElement\",\n    \"lastElementChild\",\n    \"pictureInPictureElement\",\n    \"pointerLockElement\",\n    \"styleSheets\",\n  ],\n\n  // shadowRoot\n  shadowMethods: [\n    \"append\",\n    \"contains\",\n    \"getSelection\",\n    \"elementFromPoint\",\n    \"elementsFromPoint\",\n    \"getAnimations\",\n    \"replaceChildren\",\n  ],\n\n  // document\n  documentProperties: [\n    \"characterSet\",\n    \"compatMode\",\n    \"contentType\",\n    \"designMode\",\n    \"dir\",\n    \"doctype\",\n    \"embeds\",\n    \"fullscreenEnabled\",\n    \"hidden\",\n    \"implementation\",\n    \"lastModified\",\n    \"pictureInPictureEnabled\",\n    \"plugins\",\n    \"readyState\",\n    \"referrer\",\n    \"visibilityState\",\n    \"fonts\",\n  ],\n\n  // document\n  documentMethods: [\n    \"execCommand\",\n    \"createRange\",\n    \"exitFullscreen\",\n    \"exitPictureInPicture\",\n    \"getElementsByTagNameNS\",\n    \"hasFocus\",\n    \"prepend\",\n  ],\n\n  // document\n  documentEvents: [\n    \"onpointerlockchange\",\n    \"onpointerlockerror\",\n    \"onbeforecopy\",\n    \"onbeforecut\",\n    \"onbeforepaste\",\n    \"onfreeze\",\n    \"onresume\",\n    \"onsearch\",\n    \"onfullscreenchange\",\n    \"onfullscreenerror\",\n    \"onsecuritypolicyviolation\",\n    \"onvisibilitychange\",\n  ],\n\n  // \n  ownerProperties: [\"head\", \"body\"],\n};\n\n// iframe document\nexport const appDocumentAddEventListenerEvents = [\"DOMContentLoaded\", \"readystatechange\"];\nexport const appDocumentOnEvents = [\"onreadystatechange\"];\n// document\nexport const mainDocumentAddEventListenerEvents = [\n  \"fullscreenchange\",\n  \"fullscreenerror\",\n  \"scroll\",\n  \"selectionchange\",\n  \"visibilitychange\",\n  \"wheel\",\n];\n\n// documentshadow\nexport const mainAndAppAddEventListenerEvents = [\"gotpointercapture\", \"lostpointercapture\"];\n\n// windowiframe\nexport const appWindowAddEventListenerEvents = [\n  \"hashchange\",\n  \"popstate\",\n  \"DOMContentLoaded\",\n  \"load\",\n  \"beforeunload\",\n  \"unload\",\n];\n\n// window.onXXXiframe\nexport const appWindowOnEvent = [\"onload\", \"onbeforeunload\", \"onunload\"];\n\n// tagattrmap\nexport const relativeElementTagAttrMap = {\n  IMG: \"src\",\n  A: \"href\",\n  SOURCE: \"src\",\n};\n\n// window\nexport const windowProxyProperties = [\"getComputedStyle\", \"visualViewport\", \"matchMedia\", \"DOMParser\"];\n\n// window\nexport const windowRegWhiteList = [\n  /animationFrame$/i,\n  /resizeObserver$|mutationObserver$|intersectionObserver$/i,\n  /height$|width$|left$/i,\n  /^screen/i,\n  /X$|Y$/,\n];\n\n// \nexport const rawElementAppendChild = HTMLElement.prototype.appendChild;\nexport const rawElementRemoveChild = HTMLElement.prototype.removeChild;\nexport const rawHeadInsertBefore = HTMLHeadElement.prototype.insertBefore;\nexport const rawBodyInsertBefore = HTMLBodyElement.prototype.insertBefore;\nexport const rawAddEventListener = EventTarget.prototype.addEventListener;\nexport const rawRemoveEventListener = EventTarget.prototype.removeEventListener;\nexport const rawAppendChild = Node.prototype.appendChild;\nexport const rawDocumentQuerySelector = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__\n  : Document.prototype.querySelector;\n","import { getExternalStyleSheets, getExternalScripts } from \"./entry\";\nimport {\n  getWujieById,\n  rawAppendChild,\n  rawHeadInsertBefore,\n  rawBodyInsertBefore,\n  rawDocumentQuerySelector,\n  rawAddEventListener,\n  rawRemoveEventListener,\n} from \"./common\";\nimport { isFunction, isHijackingTag, requestIdleCallback, error, warn, nextTick, getCurUrl } from \"./utils\";\nimport { insertScriptToIframe } from \"./iframe\";\nimport Wujie from \"./sandbox\";\nimport { getPatchStyleElements } from \"./shadow\";\nimport { getCssLoader, getEffectLoaders, isMatchUrl } from \"./plugin\";\nimport { WUJIE_DATA_ID, WUJIE_DATA_FLAG, WUJIE_TIPS_REPEAT_RENDER } from \"./constant\";\nimport { ScriptObject } from \"./template\";\n\nfunction patchCustomEvent(\n  e: CustomEvent,\n  elementGetter: () => HTMLScriptElement | HTMLLinkElement | null\n): CustomEvent {\n  Object.defineProperties(e, {\n    srcElement: {\n      get: elementGetter,\n    },\n    target: {\n      get: elementGetter,\n    },\n  });\n\n  return e;\n}\n\n/**\n * \n */\nfunction manualInvokeElementEvent(element: HTMLLinkElement | HTMLScriptElement, event: string): void {\n  const customEvent = new CustomEvent(event);\n  const patchedEvent = patchCustomEvent(customEvent, () => element);\n  if (isFunction(element[`on${event}`])) {\n    element[`on${event}`](patchedEvent);\n  } else {\n    element.dispatchEvent(patchedEvent);\n  }\n}\n\n/**\n * cssstylesheetElement\n */\nfunction handleStylesheetElementPatch(stylesheetElement: HTMLStyleElement & { _patcher?: any }, sandbox: Wujie) {\n  if (!stylesheetElement.innerHTML || sandbox.degrade) return;\n  const patcher = () => {\n    const [hostStyleSheetElement, fontStyleSheetElement] = getPatchStyleElements([stylesheetElement.sheet]);\n    if (hostStyleSheetElement) {\n      sandbox.shadowRoot.head.appendChild(hostStyleSheetElement);\n    }\n    if (fontStyleSheetElement) {\n      sandbox.shadowRoot.host.appendChild(fontStyleSheetElement);\n    }\n    stylesheetElement._patcher = undefined;\n  };\n  if (stylesheetElement._patcher) {\n    clearTimeout(stylesheetElement._patcher);\n  }\n  stylesheetElement._patcher = setTimeout(patcher, 50);\n}\n\n/**\n * \n */\nfunction patchStylesheetElement(\n  stylesheetElement: HTMLStyleElement & { _hasPatch?: boolean },\n  cssLoader: (code: string, url: string, base: string) => string,\n  sandbox: Wujie,\n  curUrl: string\n) {\n  if (stylesheetElement._hasPatch) return;\n  const innerHTMLDesc = Object.getOwnPropertyDescriptor(Element.prototype, \"innerHTML\");\n  const innerTextDesc = Object.getOwnPropertyDescriptor(HTMLElement.prototype, \"innerText\");\n  const textContentDesc = Object.getOwnPropertyDescriptor(Node.prototype, \"textContent\");\n  const RawInsertRule = stylesheetElement.sheet?.insertRule;\n  // cssRuleinnerHTML\n  function patchSheetInsertRule() {\n    if (!RawInsertRule) return;\n    stylesheetElement.sheet.insertRule = (rule: string, index?: number): number => {\n      stylesheetElement.innerHTML += rule;\n      return RawInsertRule.call(stylesheetElement.sheet, rule, index);\n    };\n  }\n  patchSheetInsertRule();\n  Object.defineProperties(stylesheetElement, {\n    innerHTML: {\n      get: function () {\n        return innerHTMLDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        innerHTMLDesc.set.call(stylesheetElement, cssLoader(code, \"\", curUrl));\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n      },\n    },\n    innerText: {\n      get: function () {\n        return innerTextDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        innerTextDesc.set.call(stylesheetElement, cssLoader(code, \"\", curUrl));\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n      },\n    },\n    textContent: {\n      get: function () {\n        return textContentDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        textContentDesc.set.call(stylesheetElement, cssLoader(code, \"\", curUrl));\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n      },\n    },\n    appendChild: {\n      value: function (node: Node): Node {\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n        if (node.nodeType === Node.TEXT_NODE) {\n          const res = rawAppendChild.call(\n            stylesheetElement,\n            stylesheetElement.ownerDocument.createTextNode(cssLoader(node.textContent, \"\", curUrl))\n          );\n          // appendChildsheetpatch\n          patchSheetInsertRule();\n          return res;\n        } else return rawAppendChild(node);\n      },\n    },\n    _hasPatch: { get: () => true },\n  });\n}\n\nfunction rewriteAppendOrInsertChild(opts: {\n  rawDOMAppendOrInsertBefore: <T extends Node>(newChild: T, refChild?: Node | null) => T;\n  wujieId: string;\n}) {\n  return function appendChildOrInsertBefore<T extends Node>(\n    this: HTMLHeadElement | HTMLBodyElement,\n    newChild: T,\n    refChild?: Node | null\n  ) {\n    let element = newChild as any;\n    const { rawDOMAppendOrInsertBefore, wujieId } = opts;\n    const sandbox = getWujieById(wujieId);\n\n    if (!isHijackingTag(element.tagName) || !wujieId) {\n      return rawDOMAppendOrInsertBefore.call(this, element, refChild) as T;\n    }\n\n    const { styleSheetElements, replace, fetch, plugins, iframe, lifecycles, proxyLocation } = sandbox;\n    const iframeDocument = iframe.contentDocument;\n    const curUrl = getCurUrl(proxyLocation);\n\n    // TODO \n    if (element.tagName) {\n      switch (element.tagName?.toUpperCase()) {\n        case \"LINK\": {\n          const { href } = element as HTMLLinkElement;\n          // css\n          if (href && !isMatchUrl(href, getEffectLoaders(\"cssExcludes\", plugins))) {\n            getExternalStyleSheets(\n              [{ src: href, ignore: isMatchUrl(href, getEffectLoaders(\"cssIgnores\", plugins)) }],\n              fetch,\n              lifecycles.loadError\n            ).forEach(({ src, ignore, contentPromise }) =>\n              contentPromise.then(\n                (content) => {\n                  //  ignore \n                  if (ignore && src) {\n                    const stylesheetElement = iframeDocument.createElement(\"link\");\n                    stylesheetElement.setAttribute(\"type\", \"text/css\");\n                    stylesheetElement.setAttribute(\"ref\", \"stylesheet\");\n                    rawDOMAppendOrInsertBefore.call(this, stylesheetElement, refChild);\n                    manualInvokeElementEvent(element, \"load\");\n                  } else {\n                    // js\n                    const stylesheetElement = iframeDocument.createElement(\"style\");\n                    // css-loader\n                    const cssLoader = getCssLoader({ plugins, replace });\n                    stylesheetElement.innerHTML = cssLoader(content, src, curUrl);\n                    styleSheetElements.push(stylesheetElement);\n                    rawDOMAppendOrInsertBefore.call(this, stylesheetElement, refChild);\n                    // \n                    handleStylesheetElementPatch(stylesheetElement, sandbox);\n                    manualInvokeElementEvent(element, \"load\");\n                  }\n                  element = null;\n                },\n                () => {\n                  manualInvokeElementEvent(element, \"error\");\n                  element = null;\n                }\n              )\n            );\n          }\n\n          const comment = iframeDocument.createComment(`dynamic link ${href} replaced by wujie`);\n          return rawDOMAppendOrInsertBefore.call(this, comment, refChild);\n        }\n        case \"STYLE\": {\n          const stylesheetElement: HTMLStyleElement = newChild as any;\n          styleSheetElements.push(stylesheetElement);\n          const content = stylesheetElement.innerHTML;\n          const cssLoader = getCssLoader({ plugins, replace });\n          content && (stylesheetElement.innerHTML = cssLoader(content, \"\", curUrl));\n          const res = rawDOMAppendOrInsertBefore.call(this, element, refChild);\n          // \n          patchStylesheetElement(stylesheetElement, cssLoader, sandbox, curUrl);\n          handleStylesheetElementPatch(stylesheetElement, sandbox);\n          return res;\n        }\n        case \"SCRIPT\": {\n          const { src, text, type, crossOrigin } = element as HTMLScriptElement;\n          // js\n          if (!isMatchUrl(src, getEffectLoaders(\"jsExcludes\", plugins))) {\n            const execScript = (scriptResult) => {\n              // \n              if (sandbox.iframe === null) return warn(WUJIE_TIPS_REPEAT_RENDER);\n              insertScriptToIframe(scriptResult, sandbox.iframe.contentWindow);\n              manualInvokeElementEvent(element, \"load\");\n              element = null;\n            };\n            const scriptOptions = {\n              src,\n              module: type === \"module\",\n              crossorigin: crossOrigin !== null,\n              crossoriginType: crossOrigin || \"\",\n              ignore: isMatchUrl(src, getEffectLoaders(\"jsIgnores\", plugins)),\n            } as ScriptObject;\n            getExternalScripts([scriptOptions], fetch, lifecycles.loadError).forEach((scriptResult) =>\n              scriptResult.contentPromise.then(\n                (content) => {\n                  if (sandbox.execQueue === null) return warn(WUJIE_TIPS_REPEAT_RENDER);\n                  const execQueueLength = sandbox.execQueue?.length;\n                  sandbox.execQueue.push(() =>\n                    sandbox.fiber\n                      ? requestIdleCallback(() => {\n                          execScript({ ...scriptResult, content });\n                        })\n                      : execScript({ ...scriptResult, content })\n                  );\n                  // \n                  if (!execQueueLength) sandbox.execQueue.shift()();\n                },\n                () => {\n                  manualInvokeElementEvent(element, \"error\");\n                  element = null;\n                }\n              )\n            );\n          } else {\n            const execQueueLength = sandbox.execQueue?.length;\n            sandbox.execQueue.push(() =>\n              requestIdleCallback(() => {\n                insertScriptToIframe({ src: null, content: text }, sandbox.iframe.contentWindow);\n              })\n            );\n            if (!execQueueLength) sandbox.execQueue.shift()();\n          }\n          // inline script never trigger the onload and onerror event\n          const comment = iframeDocument.createComment(`dynamic script ${src} replaced by wujie`);\n          return rawDOMAppendOrInsertBefore.call(this, comment, refChild);\n        }\n        // iframewindow.parent\n        case \"IFRAME\": {\n          // js-iframejs-iframe\n          if (element.getAttribute(WUJIE_DATA_FLAG) === \"\") {\n            return rawAppendChild.call(rawDocumentQuerySelector.call(this.ownerDocument, \"html\"), element);\n          }\n          const res = rawDOMAppendOrInsertBefore.call(this, element, refChild);\n          try {\n            // dom-iframe\n            if (!element.getAttribute(WUJIE_DATA_ID)) {\n              const patchScript = (element as HTMLIFrameElement).contentWindow.document.createElement(\"script\");\n              patchScript.type = \"text/javascript\";\n              patchScript.innerHTML = `Array.prototype.slice.call(window.parent.frames).some(function(iframe){if(iframe.name === '${wujieId}'){window.parent = iframe;return true};return false})`;\n              element.contentDocument.head.insertBefore(patchScript, element.contentDocument.head.firstChild);\n            }\n          } catch (e) {\n            error(e);\n          }\n          return res;\n        }\n        default:\n      }\n    }\n  };\n}\n\n/**\n * headbodyheadbody\n */\nfunction patchEventListener(element: HTMLHeadElement | HTMLBodyElement) {\n  const listenerMap = new Map<string, EventListenerOrEventListenerObject[]>();\n  element._cacheListeners = listenerMap;\n\n  element.addEventListener = (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ) => {\n    const listeners = listenerMap.get(type) || [];\n    listenerMap.set(type, [...listeners, listener]);\n    return rawAddEventListener.call(element, type, listener, options);\n  };\n\n  element.removeEventListener = (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ) => {\n    const typeListeners = listenerMap.get(type);\n    const index = typeListeners?.indexOf(listener);\n    if (typeListeners?.length && index !== -1) {\n      typeListeners.splice(index, 1);\n    }\n    return rawRemoveEventListener.call(element, type, listener, options);\n  };\n}\n\n/**\n * headbody\n */\nexport function removeEventListener(element: HTMLHeadElement | HTMLBodyElement) {\n  const listenerMap = element._cacheListeners;\n  [...listenerMap.entries()].forEach(([type, listeners]) => {\n    listeners.forEach((listener) => rawRemoveEventListener.call(element, type, listener));\n  });\n}\n\n/**\n * patch head and body in render\n * intercept appendChild and insertBefore\n */\nexport function patchRenderEffect(render: ShadowRoot | Document, id: string, degrade: boolean): void {\n  // domiframeiframe\n  if (!degrade) {\n    patchEventListener(render.head);\n    patchEventListener(render.body as HTMLBodyElement);\n  }\n\n  render.head.appendChild = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawAppendChild,\n    wujieId: id,\n  }) as typeof rawAppendChild;\n  render.head.insertBefore = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawHeadInsertBefore as any,\n    wujieId: id,\n  }) as typeof rawHeadInsertBefore;\n  render.body.appendChild = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawAppendChild,\n    wujieId: id,\n  }) as typeof rawAppendChild;\n  render.body.insertBefore = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawBodyInsertBefore as any,\n    wujieId: id,\n  }) as typeof rawBodyInsertBefore;\n}\n","import {\n  WUJIE_DATA_ID,\n  WUJIE_IFRAME_CLASS,\n  WUJIE_SHADE_STYLE,\n  CONTAINER_POSITION_DATA_FLAG,\n  CONTAINER_OVERFLOW_DATA_FLAG,\n  LOADING_DATA_FLAG,\n  WUJIE_LOADING_STYLE,\n  WUJIE_LOADING_SVG,\n} from \"./constant\";\nimport { getWujieById, rawElementAppendChild, rawElementRemoveChild, relativeElementTagAttrMap } from \"./common\";\nimport { getExternalStyleSheets } from \"./entry\";\nimport Wujie from \"./sandbox\";\nimport { patchElementEffect } from \"./iframe\";\nimport { patchRenderEffect } from \"./effect\";\nimport { getCssLoader, getPresetLoaders } from \"./plugin\";\nimport { getAbsolutePath, getContainer, getCurUrl } from \"./utils\";\n\nconst cssSelectorMap = {\n  \":root\": \":host\",\n};\n\ndeclare global {\n  interface ShadowRoot {\n    head: HTMLHeadElement;\n    body: HTMLBodyElement;\n  }\n}\n\n/**\n * webComponent\n */\nclass WujieApp extends HTMLElement {\n  connectedCallback(): void {\n    if (this.shadowRoot) return;\n    const shadowRoot = this.attachShadow({ mode: \"open\" });\n    const sandbox = getWujieById(this.getAttribute(WUJIE_DATA_ID));\n    patchElementEffect(shadowRoot, sandbox.iframe.contentWindow);\n    sandbox.shadowRoot = shadowRoot;\n  }\n\n  disconnectedCallback(): void {\n    const sandbox = getWujieById(this.getAttribute(WUJIE_DATA_ID));\n    sandbox.unmount();\n  }\n}\n\n/**\n *  wujie webComponentshadowdom\n */\nexport function defineWujieWebComponent() {\n  if (!customElements.get(\"wujie-app\")) {\n    customElements.define(\"wujie-app\", WujieApp);\n  }\n}\n\nexport function createWujieWebComponent(id: string): HTMLElement {\n  const contentElement = window.document.createElement(\"wujie-app\");\n  contentElement.setAttribute(WUJIE_DATA_ID, id);\n  contentElement.classList.add(WUJIE_IFRAME_CLASS);\n  return contentElement;\n}\n\n/**\n * \n */\nexport function renderElementToContainer(element: Element, selectorOrElement: string | HTMLElement): HTMLElement {\n  const container = getContainer(selectorOrElement);\n  if (container && !container.contains(element)) {\n    //  loading \n    if (!container.querySelector(`div[${LOADING_DATA_FLAG}]`)) {\n      // \n      clearChild(container);\n    }\n    // \n    if (element) {\n      rawElementAppendChild.call(container, element);\n    }\n  }\n  return container;\n}\n\n/**\n * css-before-loader  css-after-loader\n */\nasync function processCssLoaderForTemplate(sandbox: Wujie, html: HTMLHtmlElement): Promise<HTMLHtmlElement> {\n  const document = sandbox.iframe.contentDocument;\n  const { plugins, replace, proxyLocation } = sandbox;\n  const cssLoader = getCssLoader({ plugins, replace });\n  const cssBeforeLoaders = getPresetLoaders(\"cssBeforeLoaders\", plugins);\n  const cssAfterLoaders = getPresetLoaders(\"cssAfterLoaders\", plugins);\n  const curUrl = getCurUrl(proxyLocation);\n\n  return await Promise.all([\n    Promise.all(\n      getExternalStyleSheets(cssBeforeLoaders, sandbox.fetch, sandbox.lifecycles.loadError).map(\n        ({ src, contentPromise }) => contentPromise.then((content) => ({ src, content }))\n      )\n    ).then((contentList) => {\n      contentList.forEach(({ src, content }) => {\n        if (!content) return;\n        const styleElement = document.createElement(\"style\");\n        styleElement.setAttribute(\"type\", \"text/css\");\n        styleElement.appendChild(document.createTextNode(content ? cssLoader(content, src, curUrl) : content));\n        const head = html.querySelector(\"head\");\n        head?.insertBefore(styleElement, html.querySelector(\"head\")?.firstChild);\n      });\n    }),\n    Promise.all(\n      getExternalStyleSheets(cssAfterLoaders, sandbox.fetch, sandbox.lifecycles.loadError).map(\n        ({ src, contentPromise }) => contentPromise.then((content) => ({ src, content }))\n      )\n    ).then((contentList) => {\n      contentList.forEach(({ src, content }) => {\n        if (!content) return;\n        const styleElement = document.createElement(\"style\");\n        styleElement.setAttribute(\"type\", \"text/css\");\n        styleElement.appendChild(document.createTextNode(content ? cssLoader(content, src, curUrl) : content));\n        html.appendChild(styleElement);\n      });\n    }),\n  ]).then(\n    () => html,\n    () => html\n  );\n}\n\n// htmlheadbody\nfunction replaceHeadAndBody(html: HTMLHtmlElement, head: HTMLHeadElement, body: HTMLBodyElement): HTMLHtmlElement {\n  const headElement = html.querySelector(\"head\");\n  const bodyElement = html.querySelector(\"body\");\n  if (headElement) {\n    while (headElement.firstChild) {\n      head.appendChild(headElement.firstChild.cloneNode(true));\n      headElement.removeChild(headElement.firstChild);\n    }\n    headElement.parentNode.replaceChild(head, headElement);\n  }\n  if (bodyElement) {\n    while (bodyElement.firstChild) {\n      body.appendChild(bodyElement.firstChild.cloneNode(true));\n      bodyElement.removeChild(bodyElement.firstChild);\n    }\n    bodyElement.parentNode.replaceChild(body, bodyElement);\n  }\n  return html;\n}\n\n/**\n * templatehtml\n */\nfunction renderTemplateToHtml(iframeWindow: Window, template: string): HTMLHtmlElement {\n  const sandbox = iframeWindow.__WUJIE;\n  const { head, body, alive, execFlag } = sandbox;\n  const document = iframeWindow.document;\n  let html = document.createElement(\"html\");\n  html.innerHTML = template;\n  // headbody\n  if (!alive && execFlag) {\n    html = replaceHeadAndBody(html, head, body);\n  } else {\n    sandbox.head = html.querySelector(\"head\");\n    sandbox.body = html.querySelector(\"body\");\n  }\n  const ElementIterator = document.createTreeWalker(html, NodeFilter.SHOW_ELEMENT);\n  let nextElement = ElementIterator.currentNode as HTMLElement;\n  while (nextElement) {\n    patchElementEffect(nextElement, iframeWindow);\n    const relativeAttr = relativeElementTagAttrMap[nextElement.tagName];\n    const url = nextElement[relativeAttr];\n    if (relativeAttr) nextElement.setAttribute(relativeAttr, getAbsolutePath(url, nextElement.baseURI || \"\"));\n    nextElement = ElementIterator.nextNode() as HTMLElement;\n  }\n  if (!html.querySelector(\"head\")) {\n    const head = document.createElement(\"head\");\n    html.appendChild(head);\n  }\n  if (!html.querySelector(\"body\")) {\n    const body = document.createElement(\"body\");\n    html.appendChild(body);\n  }\n  return html;\n}\n\n/**\n * templateshadowRoot\n */\nexport async function renderTemplateToShadowRoot(\n  shadowRoot: ShadowRoot,\n  iframeWindow: Window,\n  template: string\n): Promise<void> {\n  const html = renderTemplateToHtml(iframeWindow, template);\n  //  css-before-loader  css-after-loader\n  const processedHtml = await processCssLoaderForTemplate(iframeWindow.__WUJIE, html);\n  // change ownerDocument\n  shadowRoot.appendChild(processedHtml);\n  const shade = document.createElement(\"div\");\n  shade.setAttribute(\"style\", WUJIE_SHADE_STYLE);\n  processedHtml.insertBefore(shade, processedHtml.firstChild);\n  shadowRoot.head = shadowRoot.querySelector(\"head\");\n  shadowRoot.body = shadowRoot.querySelector(\"body\");\n\n  //  html parentNode\n  Object.defineProperty(shadowRoot.firstChild, \"parentNode\", {\n    enumerable: true,\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n\n  patchRenderEffect(shadowRoot, iframeWindow.__WUJIE.id, false);\n}\n\nexport function createIframeContainer(id: string): HTMLIFrameElement {\n  const iframe = document.createElement(\"iframe\");\n  iframe.setAttribute(\"style\", \"width: 100%; height:100%\");\n  iframe.setAttribute(WUJIE_DATA_ID, id);\n  return iframe;\n}\n\n/**\n * templateiframe\n */\nexport async function renderTemplateToIframe(\n  renderDocument: Document,\n  iframeWindow: Window,\n  template: string\n): Promise<void> {\n  // iframe\n  clearChild(renderDocument);\n  // template\n  const html = renderTemplateToHtml(iframeWindow, template);\n  //  css-before-loader  css-after-loader\n  const processedHtml = await processCssLoaderForTemplate(iframeWindow.__WUJIE, html);\n  renderDocument.appendChild(processedHtml);\n\n  //  html parentNode\n  Object.defineProperty(renderDocument.firstElementChild, \"parentNode\", {\n    enumerable: true,\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n\n  patchRenderEffect(renderDocument, iframeWindow.__WUJIE.id, true);\n}\n\n/**\n * Element\n */\nexport function clearChild(root: ShadowRoot | Node): void {\n  // \n  while (root?.firstChild) {\n    rawElementRemoveChild.call(root, root.firstChild);\n  }\n}\n\n/**\n * loading\n */\nexport function addLoading(el: string | HTMLElement, loading: HTMLElement): void {\n  const container = getContainer(el);\n  clearChild(container);\n  //  loading \n  const containerStyles = window.getComputedStyle(container);\n  if (containerStyles.position === \"static\") {\n    container.setAttribute(CONTAINER_POSITION_DATA_FLAG, containerStyles.position);\n    container.setAttribute(\n      CONTAINER_OVERFLOW_DATA_FLAG,\n      containerStyles.overflow === \"visible\" ? \"\" : containerStyles.overflow\n    );\n    container.style.setProperty(\"position\", \"relative\");\n    container.style.setProperty(\"overflow\", \"hidden\");\n  } else if ([\"relative\", \"sticky\"].includes(containerStyles.position)) {\n    container.setAttribute(\n      CONTAINER_OVERFLOW_DATA_FLAG,\n      containerStyles.overflow === \"visible\" ? \"\" : containerStyles.overflow\n    );\n    container.style.setProperty(\"overflow\", \"hidden\");\n  }\n  const loadingContainer = document.createElement(\"div\");\n  loadingContainer.setAttribute(LOADING_DATA_FLAG, \"\");\n  loadingContainer.setAttribute(\"style\", WUJIE_LOADING_STYLE);\n  if (loading) loadingContainer.appendChild(loading);\n  else loadingContainer.innerHTML = WUJIE_LOADING_SVG;\n  container.appendChild(loadingContainer);\n}\n/**\n * loading\n */\nexport function removeLoading(el: HTMLElement): void {\n  // \n  const positionFlag = el.getAttribute(CONTAINER_POSITION_DATA_FLAG);\n  const overflowFlag = el.getAttribute(CONTAINER_OVERFLOW_DATA_FLAG);\n  if (positionFlag) el.style.removeProperty(\"position\");\n  if (overflowFlag !== null) {\n    overflowFlag ? el.style.setProperty(\"overflow\", overflowFlag) : el.style.removeProperty(\"overflow\");\n  }\n  el.removeAttribute(CONTAINER_POSITION_DATA_FLAG);\n  el.removeAttribute(CONTAINER_OVERFLOW_DATA_FLAG);\n  const loadingContainer = el.querySelector(`div[${LOADING_DATA_FLAG}]`);\n  loadingContainer && el.removeChild(loadingContainer);\n}\n/**\n * \n * rootfont-face\n */\nexport function getPatchStyleElements(rootStyleSheets: Array<CSSStyleSheet>): Array<HTMLStyleElement | null> {\n  const rootCssRules = [];\n  const fontCssRules = [];\n  const rootStyleReg = /:root/g;\n\n  // rootcssRules\n  for (let i = 0; i < rootStyleSheets.length; i++) {\n    const cssRules = rootStyleSheets[i]?.cssRules ?? [];\n    for (let j = 0; j < cssRules.length; j++) {\n      const cssRuleText = cssRules[j].cssText;\n      // rootcssRule\n      if (rootStyleReg.test(cssRuleText)) {\n        rootCssRules.push(cssRuleText.replace(rootStyleReg, (match) => cssSelectorMap[match]));\n      }\n      // font-facecssRule\n      if (cssRules[j].type === CSSRule.FONT_FACE_RULE) {\n        fontCssRules.push(cssRuleText);\n      }\n    }\n  }\n\n  let rootStyleSheetElement = null;\n  let fontStyleSheetElement = null;\n\n  // host\n  if (rootCssRules.length) {\n    rootStyleSheetElement = window.document.createElement(\"style\");\n    rootStyleSheetElement.innerHTML = rootCssRules.join(\"\");\n  }\n\n  if (fontCssRules.length) {\n    fontStyleSheetElement = window.document.createElement(\"style\");\n    fontStyleSheetElement.innerHTML = fontCssRules.join(\"\");\n  }\n\n  return [rootStyleSheetElement, fontStyleSheetElement];\n}\n","import { anchorElementGenerator, getAnchorElementQueryMap, getSyncUrl, appRouteParse, getDegradeIframe } from \"./utils\";\nimport { renderIframeReplaceApp, patchEventTimeStamp } from \"./iframe\";\nimport { renderElementToContainer, createIframeContainer, clearChild } from \"./shadow\";\nimport { getWujieById, rawDocumentQuerySelector } from \"./common\";\n\n/**\n * \n */\nexport function syncUrlToWindow(iframeWindow: Window): void {\n  const { sync, id, prefix } = iframeWindow.__WUJIE;\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  // urlid\n  if (!sync && !queryMap[id]) return (winUrlElement = null);\n  const curUrl = iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n  let validShortPath = \"\";\n  // \n  if (prefix) {\n    Object.keys(prefix).forEach((shortPath) => {\n      const longPath = prefix[shortPath];\n      // \n      if (curUrl.startsWith(longPath) && (!validShortPath || longPath.length > prefix[validShortPath].length)) {\n        validShortPath = shortPath;\n      }\n    });\n  }\n  // \n  if (sync) {\n    queryMap[id] = window.encodeURIComponent(\n      validShortPath ? curUrl.replace(prefix[validShortPath], `{${validShortPath}}`) : curUrl\n    );\n    // \n  } else {\n    delete queryMap[id];\n  }\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  if (winUrlElement.href !== window.location.href) {\n    window.history.replaceState(null, \"\", winUrlElement.href);\n  }\n  winUrlElement = null;\n}\n\n/**\n * \n */\nexport function syncUrlToIframe(iframeWindow: Window): void {\n  // \n  const { pathname, search, hash } = iframeWindow.location;\n  const { id, url, sync, execFlag, prefix, inject } = iframeWindow.__WUJIE;\n\n  // \n  const idUrl = sync && !execFlag ? getSyncUrl(id, prefix) : url;\n  // href\n  const syncUrl = (/^http/.test(idUrl) ? null : idUrl) || url;\n  const { appRoutePath } = appRouteParse(syncUrl);\n\n  const preAppRoutePath = pathname + search + hash;\n  if (preAppRoutePath !== appRoutePath) {\n    iframeWindow.history.replaceState(null, \"\", inject.mainHostPath + appRoutePath);\n  }\n}\n\n/**\n * \n * hash\n */\nexport function clearInactiveAppUrl(): void {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  Object.keys(queryMap).forEach((id) => {\n    const sandbox = getWujieById(id);\n    if (!sandbox) return;\n    // \n    const clearFlag = sandbox.degrade\n      ? !window.document.contains(getDegradeIframe(sandbox.id))\n      : !window.document.contains(sandbox?.shadowRoot?.host);\n    if (sandbox.execFlag && sandbox.sync && !sandbox.hrefFlag && clearFlag) {\n      delete queryMap[id];\n    }\n  });\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  if (winUrlElement.href !== window.location.href) {\n    window.history.replaceState(null, \"\", winUrlElement.href);\n  }\n  winUrlElement = null;\n}\n\n/**\n * url\n */\nexport function pushUrlToWindow(id: string, url: string): void {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  queryMap[id] = window.encodeURIComponent(url);\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  window.history.pushState(null, \"\", winUrlElement.href);\n  winUrlElement = null;\n}\n\n/**\n * (window.location.href)\n */\nexport function processAppForHrefJump(): void {\n  window.addEventListener(\"popstate\", () => {\n    let winUrlElement = anchorElementGenerator(window.location.href);\n    const queryMap = getAnchorElementQueryMap(winUrlElement);\n    winUrlElement = null;\n    Object.keys(queryMap)\n      .map((id) => getWujieById(id))\n      .filter((sandbox) => sandbox)\n      .forEach((sandbox) => {\n        const url = queryMap[sandbox.id];\n        const iframeBody = rawDocumentQuerySelector.call(sandbox.iframe.contentDocument, \"body\");\n        // href\n        if (/http/.test(url)) {\n          if (sandbox.degrade) {\n            renderElementToContainer(sandbox.document.firstElementChild, iframeBody);\n            renderIframeReplaceApp(window.decodeURIComponent(url), getDegradeIframe(sandbox.id).parentElement);\n          } else renderIframeReplaceApp(window.decodeURIComponent(url), sandbox.shadowRoot.host.parentElement);\n          sandbox.hrefFlag = true;\n          // href\n        } else if (sandbox.hrefFlag) {\n          if (sandbox.degrade) {\n            // \n            const iframe = createIframeContainer(sandbox.id);\n            renderElementToContainer(iframe, sandbox.el);\n            clearChild(iframe.contentDocument);\n            patchEventTimeStamp(iframe.contentWindow, sandbox.iframe.contentWindow);\n            iframe.contentWindow.onunload = () => {\n              sandbox.unmount();\n            };\n            iframe.contentDocument.appendChild(iframeBody.firstElementChild);\n            sandbox.document = iframe.contentDocument;\n          } else renderElementToContainer(sandbox.shadowRoot.host, sandbox.el);\n          sandbox.hrefFlag = false;\n        }\n      });\n  });\n}\n","import WuJie from \"./sandbox\";\nimport { ScriptObject } from \"./template\";\nimport { renderElementToContainer, clearChild } from \"./shadow\";\nimport { syncUrlToWindow } from \"./sync\";\nimport {\n  fixElementCtrSrcOrHref,\n  isConstructable,\n  anchorElementGenerator,\n  isMatchSyncQueryById,\n  warn,\n  error,\n  execHooks,\n  getCurUrl,\n  getAbsolutePath,\n} from \"./utils\";\nimport {\n  documentProxyProperties,\n  rawAddEventListener,\n  rawRemoveEventListener,\n  rawDocumentQuerySelector,\n  mainDocumentAddEventListenerEvents,\n  mainAndAppAddEventListenerEvents,\n  appDocumentAddEventListenerEvents,\n  appDocumentOnEvents,\n  appWindowAddEventListenerEvents,\n  appWindowOnEvent,\n  windowProxyProperties,\n  windowRegWhiteList,\n} from \"./common\";\nimport { getJsLoader } from \"./plugin\";\nimport { WUJIE_TIPS_EMPTY_CALLBACK, WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, WUJIE_DATA_FLAG } from \"./constant\";\nimport { ScriptObjectLoader } from \"./index\";\n\ndeclare global {\n  interface Window {\n    // \n    __POWERED_BY_WUJIE__?: boolean;\n    // \n    __WUJIE_PUBLIC_PATH__: string;\n    // querySelector\n    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__: typeof Document.prototype.querySelector;\n    // querySelector\n    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__: typeof Document.prototype.querySelectorAll;\n    // window\n    __WUJIE_RAW_WINDOW__: Window;\n    // \n    __WUJIE: WuJie;\n    // mount\n    __WUJIE_MOUNT: () => void;\n    // unmount\n    __WUJIE_UNMOUNT: () => void;\n    // document type\n    Document: typeof Document;\n    // img type\n    HTMLImageElement: typeof HTMLImageElement;\n    // node type\n    Node: typeof Node;\n    // element type\n    Element: typeof Element;\n    // htmlElement typeof\n    HTMLElement: typeof HTMLElement;\n    // anchor type\n    HTMLAnchorElement: typeof HTMLAnchorElement;\n    // source type\n    HTMLSourceElement: typeof HTMLSourceElement;\n    // link type\n    HTMLLinkElement: typeof HTMLLinkElement;\n    // script type\n    HTMLScriptElement: typeof HTMLScriptElement;\n    EventTarget: typeof EventTarget;\n    Event: typeof Event;\n    ShadowRoot: typeof ShadowRoot;\n    // \n    $wujie: { [key: string]: any };\n  }\n  interface HTMLHeadElement {\n    _cacheListeners: Map<string, EventListenerOrEventListenerObject[]>;\n  }\n  interface HTMLBodyElement {\n    _cacheListeners: Map<string, EventListenerOrEventListenerObject[]>;\n  }\n}\n\n/**\n * windowiframe\n */\nfunction patchIframeEvents(iframeWindow: Window) {\n  iframeWindow.addEventListener = function addEventListener<K extends keyof WindowEventMap>(\n    type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"windowAddEventListenerHook\", iframeWindow, type, listener, options);\n\n    if (appWindowAddEventListenerEvents.includes(type)) {\n      return rawAddEventListener.call(iframeWindow, type, listener, options);\n    }\n    // window.windowwindow\n    rawAddEventListener.call(window.__WUJIE_RAW_WINDOW__ || window, type, listener, options);\n  };\n\n  iframeWindow.removeEventListener = function removeEventListener<K extends keyof WindowEventMap>(\n    type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"windowRemoveEventListenerHook\", iframeWindow, type, listener, options);\n\n    if (appWindowAddEventListenerEvents.includes(type)) {\n      return rawRemoveEventListener.call(iframeWindow, type, listener, options);\n    }\n    rawRemoveEventListener.call(window.__WUJIE_RAW_WINDOW__ || window, type, listener, options);\n  };\n}\n\nfunction patchIframeVariable(iframeWindow: Window, appHostPath: string): void {\n  iframeWindow.__WUJIE_PUBLIC_PATH__ = appHostPath + \"/\";\n  iframeWindow.$wujie = iframeWindow.__WUJIE.provide;\n  iframeWindow.__WUJIE_RAW_WINDOW__ = iframeWindow;\n  iframeWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__ = iframeWindow.Document.prototype.querySelector;\n  iframeWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__ = iframeWindow.Document.prototype.querySelectorAll;\n}\n\n/**\n * iframehistorypushStatereplaceState\n * location\n * \n * @param iframeWindow\n * @param appHostPath  host path\n * @param mainHostPath  host path\n */\nfunction patchIframeHistory(iframeWindow: Window, appHostPath: string, mainHostPath: string): void {\n  const history = iframeWindow.history;\n  const rawHistoryPushState = history.pushState;\n  const rawHistoryReplaceState = history.replaceState;\n  history.pushState = function (data: any, title: string, url?: string): void {\n    const baseUrl =\n      mainHostPath + iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n    const mainUrl = getAbsolutePath(url?.replace(appHostPath, \"\"), baseUrl);\n    const ignoreFlag = url === undefined;\n\n    rawHistoryPushState.call(history, data, title, ignoreFlag ? undefined : mainUrl);\n    if (ignoreFlag) return;\n    updateBase(iframeWindow, appHostPath, mainHostPath);\n    syncUrlToWindow(iframeWindow);\n  };\n  history.replaceState = function (data: any, title: string, url?: string): void {\n    const baseUrl =\n      mainHostPath + iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n    const mainUrl = getAbsolutePath(url?.replace(appHostPath, \"\"), baseUrl);\n    const ignoreFlag = url === undefined;\n\n    rawHistoryReplaceState.call(history, data, title, ignoreFlag ? undefined : mainUrl);\n    if (ignoreFlag) return;\n    updateBase(iframeWindow, appHostPath, mainHostPath);\n    syncUrlToWindow(iframeWindow);\n  };\n}\n\n/**\n * iframebase\n * @param iframeWindow\n * @param url\n * @param appHostPath\n * @param mainHostPath\n */\nfunction updateBase(iframeWindow: Window, appHostPath: string, mainHostPath: string) {\n  const baseUrl = new URL(iframeWindow.location.href?.replace(mainHostPath, \"\"), appHostPath);\n  const baseElement = rawDocumentQuerySelector.call(iframeWindow.document, \"base\");\n  if (baseElement) baseElement.setAttribute(\"href\", appHostPath + baseUrl.pathname);\n}\n\n/**\n * patch iframe window effect\n * @param iframeWindow\n */\n// TODO \nfunction patchWindowEffect(iframeWindow: Window): void {\n  // \n  function processWindowProperty(key: string): boolean {\n    const value = iframeWindow[key];\n    try {\n      if (typeof value === \"function\" && !isConstructable(value)) {\n        iframeWindow[key] = window[key].bind(window);\n      } else {\n        iframeWindow[key] = window[key];\n      }\n      return true;\n    } catch (e) {\n      warn(e.message);\n      return false;\n    }\n  }\n  Object.getOwnPropertyNames(iframeWindow).forEach((key) => {\n    // \n    if (key === \"getSelection\") {\n      Object.defineProperty(iframeWindow, key, {\n        get: () => iframeWindow.document[key],\n      });\n      return;\n    }\n    // \n    if (windowProxyProperties.includes(key)) {\n      processWindowProperty(key);\n      return;\n    }\n    // \n    windowRegWhiteList.some((reg) => {\n      if (reg.test(key) && key in iframeWindow.parent) {\n        return processWindowProperty(key);\n      }\n      return false;\n    });\n  });\n  // onEvent set\n  const windowOnEvents = Object.getOwnPropertyNames(window)\n    .filter((p) => /^on/.test(p))\n    .filter((e) => !appWindowOnEvent.includes(e));\n\n  // window\n  windowOnEvents.forEach((e) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow, e) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow, e, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => window[e],\n        set:\n          descriptor.writable || descriptor.set\n            ? (handler) => {\n                window[e] = typeof handler === \"function\" ? handler.bind(iframeWindow) : handler;\n              }\n            : undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // \n  execHooks(iframeWindow.__WUJIE.plugins, \"windowPropertyOverride\", iframeWindow);\n}\n\n/**\n * \n */\nfunction recordEventListeners(iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  iframeWindow.EventTarget.prototype.addEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    // \n    const elementListenerList = sandbox.elementEventCacheMap.get(this);\n    if (elementListenerList) {\n      if (!elementListenerList.find((listener) => listener.handler === handler)) {\n        elementListenerList.push({ type, handler, options });\n      }\n    } else sandbox.elementEventCacheMap.set(this, [{ type, handler, options }]);\n    return rawAddEventListener.call(this, type, handler, options);\n  };\n\n  iframeWindow.EventTarget.prototype.removeEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | EventListenerOptions\n  ): void {\n    // \n    const elementListenerList = sandbox.elementEventCacheMap.get(this);\n    if (elementListenerList) {\n      const index = elementListenerList?.findIndex((ele) => ele.handler === handler);\n      elementListenerList.splice(index, 1);\n    }\n    if (!elementListenerList?.length) {\n      sandbox.elementEventCacheMap.delete(this);\n    }\n    return rawRemoveEventListener.call(this, type, handler, options);\n  };\n}\n\n/**\n * \n */\nexport function recoverEventListeners(rootElement: Element, iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  const elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n  const ElementIterator = document.createTreeWalker(rootElement);\n  let nextElement = ElementIterator.currentNode;\n  while (nextElement) {\n    const elementListenerList = sandbox.elementEventCacheMap.get(nextElement);\n    if (elementListenerList?.length) {\n      elementEventCacheMap.set(nextElement, elementListenerList);\n      elementListenerList.forEach((listener) => {\n        nextElement.addEventListener(listener.type, listener.handler, listener.options);\n      });\n    }\n    nextElement = ElementIterator.nextNode() as HTMLElement;\n  }\n  sandbox.elementEventCacheMap = elementEventCacheMap;\n}\n\n/**\n * \n */\nexport function recoverDocumentListeners(oldRootElement: Element, newRootElement: Element, iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  const elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n  const elementListenerList = sandbox.elementEventCacheMap.get(oldRootElement);\n  if (elementListenerList?.length) {\n    elementEventCacheMap.set(newRootElement, elementListenerList);\n    elementListenerList.forEach((listener) => {\n      newRootElement.addEventListener(listener.type, listener.handler, listener.options);\n    });\n  }\n  sandbox.elementEventCacheMap = elementEventCacheMap;\n}\n\n/**\n * vuee.timeStamp < attachedTimestamp \n */\nexport function patchEventTimeStamp(targetWindow: Window, iframeWindow: Window) {\n  Object.defineProperty(targetWindow.Event.prototype, \"timeStamp\", {\n    get: () => {\n      return iframeWindow.document.createEvent(\"Event\").timeStamp;\n    },\n  });\n}\n\n/**\n * patch document effect\n * @param iframeWindow\n */\n// TODO \nfunction patchDocumentEffect(iframeWindow: Window): void {\n  const sandbox = iframeWindow.__WUJIE;\n\n  /**\n   *  addEventListenerremoveEventListener\n   *  handler thishandler.bind(document)\n   * removeEventListenerhandler => handler.bind(document)\n   * callback = handler.bind(document) removeEventListener\n   */\n  const handlerCallbackMap: WeakMap<EventListenerOrEventListenerObject, EventListenerOrEventListenerObject> =\n    new WeakMap();\n  const handlerTypeMap: WeakMap<EventListenerOrEventListenerObject, Array<string>> = new WeakMap();\n  iframeWindow.Document.prototype.addEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    let callback = handlerCallbackMap.get(handler);\n    const typeList = handlerTypeMap.get(handler);\n    //  handlerCallbackMap\n    if (!callback) {\n      callback = typeof handler === \"function\" ? handler.bind(this) : handler;\n      handlerCallbackMap.set(handler, callback);\n    }\n    //  handlerTypeMap\n    if (typeList) {\n      if (!typeList.includes(type)) typeList.push(type);\n    } else {\n      handlerTypeMap.set(handler, [type]);\n    }\n\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"documentAddEventListenerHook\", iframeWindow, type, callback, options);\n    if (appDocumentAddEventListenerEvents.includes(type)) {\n      return rawAddEventListener.call(this, type, callback, options);\n    }\n    // document.firstElementChild\n    if (sandbox.degrade) return sandbox.document.firstElementChild.addEventListener(type, callback, options);\n    if (mainDocumentAddEventListenerEvents.includes(type))\n      return window.document.addEventListener(type, callback, options);\n    if (mainAndAppAddEventListenerEvents.includes(type)) {\n      window.document.addEventListener(type, callback, options);\n      sandbox.shadowRoot.addEventListener(type, callback, options);\n      return;\n    }\n    sandbox.shadowRoot.addEventListener(type, callback, options);\n  };\n  iframeWindow.Document.prototype.removeEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    const callback: EventListenerOrEventListenerObject = handlerCallbackMap.get(handler);\n    const typeList = handlerTypeMap.get(handler);\n    if (callback) {\n      if (typeList?.includes(type)) {\n        typeList.splice(typeList.indexOf(type), 1);\n        if (!typeList.length) {\n          handlerCallbackMap.delete(handler);\n          handlerTypeMap.delete(handler);\n        }\n      }\n\n      // \n      execHooks(iframeWindow.__WUJIE.plugins, \"documentRemoveEventListenerHook\", iframeWindow, type, callback, options);\n      if (appDocumentAddEventListenerEvents.includes(type)) {\n        return rawRemoveEventListener.call(this, type, callback, options);\n      }\n      if (sandbox.degrade) return sandbox.document.firstElementChild.removeEventListener(type, callback, options);\n      if (mainDocumentAddEventListenerEvents.includes(type)) {\n        return window.document.removeEventListener(type, callback, options);\n      }\n      if (mainAndAppAddEventListenerEvents.includes(type)) {\n        window.document.removeEventListener(type, callback, options);\n        sandbox.shadowRoot.removeEventListener(type, callback, options);\n        return;\n      }\n      sandbox.shadowRoot.removeEventListener(type, callback, options);\n    } else {\n      warn(WUJIE_TIPS_EMPTY_CALLBACK);\n    }\n  };\n  // onEvent\n  const elementOnEvents = Object.keys(iframeWindow.HTMLElement.prototype).filter((ele) => /^on/.test(ele));\n  const documentOnEvent = Object.keys(iframeWindow.Document.prototype)\n    .filter((ele) => /^on/.test(ele))\n    .filter((ele) => !appDocumentOnEvents.includes(ele));\n  elementOnEvents\n    .filter((e) => documentOnEvent.includes(e))\n    .forEach((e) => {\n      const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, e) || {\n        enumerable: true,\n        writable: true,\n      };\n      try {\n        Object.defineProperty(iframeWindow.Document.prototype, e, {\n          enumerable: descriptor.enumerable,\n          configurable: true,\n          get: () => (sandbox.degrade ? sandbox.document : sandbox.shadowRoot).firstElementChild[e],\n          set:\n            descriptor.writable || descriptor.set\n              ? (handler) => {\n                  const val = typeof handler === \"function\" ? handler.bind(iframeWindow.document) : handler;\n                  sandbox.degrade\n                    ? (sandbox.document.firstElementChild[e] = val)\n                    : (sandbox.shadowRoot.firstElementChild[e] = val);\n                }\n              : undefined,\n        });\n      } catch (e) {\n        warn(e.message);\n      }\n    });\n  // get\n  const {\n    ownerProperties,\n    modifyProperties,\n    shadowProperties,\n    shadowMethods,\n    documentProperties,\n    documentMethods,\n    documentEvents,\n  } = documentProxyProperties;\n  modifyProperties.concat(shadowProperties, shadowMethods, documentProperties, documentMethods).forEach((propKey) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, propKey) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow.Document.prototype, propKey, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => sandbox.proxyDocument[propKey],\n        set: undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // document\n  // TODO \n  documentEvents.forEach((propKey) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, propKey) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow.Document.prototype, propKey, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => (sandbox.degrade ? sandbox : window).document[propKey],\n        set:\n          descriptor.writable || descriptor.set\n            ? (handler) => {\n                (sandbox.degrade ? sandbox : window).document[propKey] =\n                  typeof handler === \"function\" ? handler.bind(iframeWindow.document) : handler;\n              }\n            : undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // process owner property\n  ownerProperties.forEach((propKey) => {\n    Object.defineProperty(iframeWindow.document, propKey, {\n      enumerable: true,\n      configurable: true,\n      get: () => sandbox.proxyDocument[propKey],\n      set: undefined,\n    });\n  });\n  // \n  execHooks(iframeWindow.__WUJIE.plugins, \"documentPropertyOverride\", iframeWindow);\n}\n\n/**\n * patch Node effect\n * @param iframeWindow\n */\nfunction patchNodeEffect(iframeWindow: Window): void {\n  const rawGetRootNode = iframeWindow.Node.prototype.getRootNode;\n  iframeWindow.Node.prototype.getRootNode = function (options?: GetRootNodeOptions): Node {\n    const rootNode = rawGetRootNode.call(this, options);\n    if (rootNode === iframeWindow.__WUJIE.shadowRoot) return iframeWindow.document;\n    else return rootNode;\n  };\n}\n\n/**\n * \n * @param iframeWindow\n */\nfunction patchRelativeUrlEffect(iframeWindow: Window): void {\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLImageElement, \"src\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLAnchorElement, \"href\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLSourceElement, \"src\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLLinkElement, \"href\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLScriptElement, \"src\");\n}\n\n/**\n * base\n */\nexport function initBase(iframeWindow: Window, url: string): void {\n  const iframeDocument = iframeWindow.document;\n  const baseElement = iframeDocument.createElement(\"base\");\n  const iframeUrlElement = anchorElementGenerator(iframeWindow.location.href);\n  const appUrlElement = anchorElementGenerator(url);\n  baseElement.setAttribute(\"href\", appUrlElement.protocol + \"//\" + appUrlElement.host + iframeUrlElement.pathname);\n  iframeDocument.head.appendChild(baseElement);\n}\n\n/**\n * iframedom\n * @param iframeWindow\n */\nfunction initIframeDom(iframeWindow: Window): void {\n  const iframeDocument = iframeWindow.document;\n  clearChild(iframeDocument);\n  const html = iframeDocument.createElement(\"html\");\n  html.innerHTML = \"<head></head><body></body>\";\n  iframeDocument.appendChild(html);\n\n  initBase(iframeWindow, iframeWindow.__WUJIE.url);\n  patchWindowEffect(iframeWindow);\n  patchDocumentEffect(iframeWindow);\n  patchNodeEffect(iframeWindow);\n  patchRelativeUrlEffect(iframeWindow);\n}\n\n/**\n * js\n */\n// TODO \nfunction stopIframeLoading(iframeWindow: Window, url: string) {\n  iframeWindow.__WUJIE.iframeReady = new Promise<void>((resolve) => {\n    function loop() {\n      setTimeout(() => {\n        // location ready\n        if (iframeWindow.location.href === \"about:blank\") {\n          loop();\n        } else {\n          iframeWindow.stop();\n          initIframeDom(iframeWindow);\n          /**\n           * url\n           */\n          if (!isMatchSyncQueryById(iframeWindow.__WUJIE.id)) {\n            iframeWindow.history.replaceState(null, \"\", url);\n          }\n          resolve();\n        }\n      }, 0);\n    }\n    loop();\n  });\n}\n\nexport function patchElementEffect(element: HTMLElement | ShadowRoot, iframeWindow: Window): void {\n  const proxyLocation = iframeWindow.__WUJIE.proxyLocation as Location;\n  Object.defineProperty(element, \"baseURI\", {\n    configurable: true,\n    get: () => proxyLocation.protocol + \"//\" + proxyLocation.host + proxyLocation.pathname,\n    set: undefined,\n  });\n  Object.defineProperty(element, \"ownerDocument\", {\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n}\n\n/**\n * \n * @param iframeWindow\n */\nexport function syncIframeUrlToWindow(iframeWindow: Window): void {\n  iframeWindow.addEventListener(\"hashchange\", () => syncUrlToWindow(iframeWindow));\n  iframeWindow.addEventListener(\"popstate\", () => {\n    syncUrlToWindow(iframeWindow);\n  });\n}\n\n/**\n * iframe\n * @param scriptResult script\n * @param iframeWindow\n */\nexport function insertScriptToIframe(scriptResult: ScriptObject | ScriptObjectLoader, iframeWindow: Window) {\n  const { src, module, content, crossorigin, crossoriginType, callback } = scriptResult as ScriptObjectLoader;\n  const scriptElement = iframeWindow.document.createElement(\"script\");\n  const nextScriptElement = iframeWindow.document.createElement(\"script\");\n  const { replace, plugins, proxyLocation } = iframeWindow.__WUJIE;\n  const jsLoader = getJsLoader({ plugins, replace });\n  let code = jsLoader(content, src, getCurUrl(proxyLocation));\n\n  // \n  if (content) {\n    // patch location\n    if (!iframeWindow.__WUJIE.degrade && !module) {\n      code = `(function(window, self, global, location) {\n      ${code}\n}).bind(window.__WUJIE.proxy)(\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxyLocation,\n);`;\n    }\n    //  webpack publicPath  auto \n    Object.defineProperty(scriptElement, \"src\", { get: () => src });\n    // \n  } else {\n    src && scriptElement.setAttribute(\"src\", src);\n    crossorigin && scriptElement.setAttribute(\"crossorigin\", crossoriginType);\n  }\n  module && scriptElement.setAttribute(\"type\", \"module\");\n  scriptElement.textContent = code || \"\";\n  nextScriptElement.textContent =\n    \"if(window.__WUJIE.execQueue && window.__WUJIE.execQueue.length){ window.__WUJIE.execQueue.shift()()}\";\n\n  const container = rawDocumentQuerySelector.call(iframeWindow.document, \"head\");\n\n  if (/^<!DOCTYPE html/i.test(code)) {\n    error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, scriptResult);\n    return container.appendChild(nextScriptElement);\n  }\n  container.appendChild(scriptElement);\n\n  // \n  callback?.(iframeWindow);\n\n  container.appendChild(nextScriptElement);\n}\n\n/**\n * iframe\n * @param src \n * @param shadowRoot\n */\nexport function renderIframeReplaceApp(src: string, element: HTMLElement): void {\n  const iframe = window.document.createElement(\"iframe\");\n  iframe.setAttribute(\"src\", src);\n  iframe.setAttribute(\"style\", \"height:100%;width:100%\");\n  renderElementToContainer(iframe, element);\n}\n\n/**\n * js\n * iframe\n * iframehtml\n */\nexport function iframeGenerator(\n  sandbox: WuJie,\n  attrs: { [key: string]: any },\n  mainHostPath: string,\n  appHostPath: string,\n  appRoutePath: string\n): HTMLIFrameElement {\n  const iframe = window.document.createElement(\"iframe\");\n  const url = mainHostPath + appRoutePath;\n  const attrsMerge = { src: mainHostPath, ...attrs, style: \"display: none\", name: sandbox.id, [WUJIE_DATA_FLAG]: \"\" };\n  Object.keys(attrsMerge).forEach((key) => iframe.setAttribute(key, attrsMerge[key]));\n  window.document.body.appendChild(iframe);\n  const iframeWindow = iframe.contentWindow;\n  iframeWindow.__WUJIE = sandbox;\n  patchIframeVariable(iframeWindow, appHostPath);\n  stopIframeLoading(iframeWindow, url);\n  patchIframeHistory(iframeWindow, appHostPath, mainHostPath);\n  patchIframeEvents(iframeWindow);\n  if (iframeWindow.__WUJIE.degrade) recordEventListeners(iframeWindow);\n  syncIframeUrlToWindow(iframeWindow);\n  return iframe;\n}\n","import { patchElementEffect, renderIframeReplaceApp } from \"./iframe\";\nimport { renderElementToContainer } from \"./shadow\";\nimport { pushUrlToWindow } from \"./sync\";\nimport { documentProxyProperties, rawDocumentQuerySelector } from \"./common\";\nimport { WUJIE_TIPS_RELOAD_DISABLED } from \"./constant\";\nimport {\n  getTargetValue,\n  anchorElementGenerator,\n  getDegradeIframe,\n  isCallable,\n  checkProxyFunction,\n  warn,\n} from \"./utils\";\n\n/**\n * location href set\n */\nfunction locationHrefSet(iframe: HTMLIFrameElement, value: string, appHostPath: string): boolean {\n  const { shadowRoot, id, degrade, document } = iframe.contentWindow.__WUJIE;\n  let url = value;\n  if (!/^http/.test(url)) {\n    let hrefElement = anchorElementGenerator(url);\n    url = appHostPath + hrefElement.pathname + hrefElement.search + hrefElement.hash;\n    hrefElement = null;\n  }\n  iframe.contentWindow.__WUJIE.hrefFlag = true;\n  if (degrade) {\n    const iframeBody = rawDocumentQuerySelector.call(iframe.contentDocument, \"body\");\n    renderElementToContainer(document.firstElementChild, iframeBody);\n    renderIframeReplaceApp(window.decodeURIComponent(url), getDegradeIframe(id).parentElement);\n  } else renderIframeReplaceApp(url, shadowRoot.host.parentElement);\n  pushUrlToWindow(id, url);\n  return true;\n}\n\n/**\n * windowdocumentlocation\n */\nexport function proxyGenerator(\n  iframe: HTMLIFrameElement,\n  urlElement: HTMLAnchorElement,\n  mainHostPath: string,\n  appHostPath: string\n): {\n  proxyWindow: Window;\n  proxyDocument: Object;\n  proxyLocation: Object;\n} {\n  const proxyWindow = new Proxy(iframe.contentWindow, {\n    get: (target: Window, p: PropertyKey): any => {\n      // location\n      if (p === \"location\") {\n        return target.__WUJIE.proxyLocation;\n      }\n      // \n      if (p === \"self\" || p === \"window\") {\n        return target.__WUJIE.proxy;\n      }\n      // this\n      if (p === \"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__\" || p === \"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__\") {\n        return target[p];\n      }\n      // this\n      return getTargetValue(target, p);\n    },\n\n    set: (target: Window, p: PropertyKey, value: any) => {\n      checkProxyFunction(value);\n      target[p] = value;\n      return true;\n    },\n\n    has: (target: Window, p: PropertyKey) => p in target,\n  });\n\n  // proxy document\n  const proxyDocument = new Proxy(\n    {},\n    {\n      get: function (_fakeDocument, propKey) {\n        const document = window.document;\n        const shadowRoot = iframe.contentWindow.__WUJIE.shadowRoot;\n        // need fix\n        if (propKey === \"createElement\" || propKey === \"createTextNode\") {\n          return new Proxy(document[propKey], {\n            apply(createElement, _ctx, args) {\n              const element = createElement.apply(iframe.contentDocument, args);\n              patchElementEffect(element, iframe.contentWindow);\n              return element;\n            },\n          });\n        }\n        if (propKey === \"documentURI\" || propKey === \"URL\") {\n          return (iframe.contentWindow.__WUJIE.proxyLocation as Location).href;\n        }\n\n        // from shadowRoot\n        if (\n          propKey === \"getElementsByTagName\" ||\n          propKey === \"getElementsByClassName\" ||\n          propKey === \"getElementsByName\"\n        ) {\n          return new Proxy(shadowRoot.querySelectorAll, {\n            apply(querySelectorAll, _ctx, args) {\n              let arg = args[0];\n              if (propKey === \"getElementsByTagName\" && arg === \"script\") {\n                return iframe.contentDocument.scripts;\n              }\n              if (propKey === \"getElementsByClassName\") arg = \".\" + arg;\n              if (propKey === \"getElementsByName\") arg = `[name=\"${arg}\"]`;\n              return querySelectorAll.call(shadowRoot, arg);\n            },\n          });\n        }\n        if (propKey === \"getElementById\") {\n          return new Proxy(shadowRoot.querySelector, {\n            apply(querySelector, _ctx, args) {\n              return querySelector.call(shadowRoot, `[id=\"${args[0]}\"]`);\n            },\n          });\n        }\n        if (propKey === \"querySelector\" || propKey === \"querySelectorAll\") {\n          return shadowRoot[propKey].bind(shadowRoot);\n        }\n        if (propKey === \"documentElement\" || propKey === \"scrollingElement\") return shadowRoot.firstElementChild;\n        if (propKey === \"forms\") return shadowRoot.querySelectorAll(\"form\");\n        if (propKey === \"images\") return shadowRoot.querySelectorAll(\"img\");\n        if (propKey === \"links\") return shadowRoot.querySelectorAll(\"a\");\n        const { ownerProperties, shadowProperties, shadowMethods, documentProperties, documentMethods } =\n          documentProxyProperties;\n        if (ownerProperties.concat(shadowProperties).includes(propKey.toString())) {\n          if (propKey === \"activeElement\" && shadowRoot.activeElement === null) return shadowRoot.body;\n          return shadowRoot[propKey];\n        }\n        if (shadowMethods.includes(propKey.toString())) {\n          return getTargetValue(shadowRoot, propKey) ?? getTargetValue(document, propKey);\n        }\n        // from window.document\n        if (documentProperties.includes(propKey.toString())) {\n          return document[propKey];\n        }\n        if (documentMethods.includes(propKey.toString())) {\n          return getTargetValue(document, propKey);\n        }\n      },\n    }\n  );\n\n  // proxy location\n  const proxyLocation = new Proxy(\n    {},\n    {\n      get: function (_fakeLocation, propKey) {\n        const location = iframe.contentWindow.location;\n        if (propKey === \"host\" || propKey === \"hostname\" || propKey === \"protocol\" || propKey === \"port\") {\n          return urlElement[propKey];\n        }\n        if (propKey === \"href\") {\n          return location[propKey].replace(mainHostPath, appHostPath);\n        }\n        if (propKey === \"reload\") {\n          warn(WUJIE_TIPS_RELOAD_DISABLED);\n          return () => null;\n        }\n        return getTargetValue(location, propKey);\n      },\n      set: function (_fakeLocation, propKey, value) {\n        // iframe\n        if (propKey === \"href\") {\n          return locationHrefSet(iframe, value, appHostPath);\n        }\n        iframe.contentWindow.location[propKey] = value;\n        return true;\n      },\n      ownKeys: function () {\n        return Object.keys(iframe.contentWindow.location).filter((key) => key !== \"reload\");\n      },\n      getOwnPropertyDescriptor: function (_target, key) {\n        return { enumerable: true, configurable: true, value: this[key] };\n      },\n    }\n  );\n  return { proxyWindow, proxyDocument, proxyLocation };\n}\n\n/**\n * documentlocation\n */\nexport function localGenerator(\n  iframe: HTMLIFrameElement,\n  urlElement: HTMLAnchorElement,\n  mainHostPath: string,\n  appHostPath: string\n): {\n  proxyDocument: Object;\n  proxyLocation: Object;\n} {\n  //  document\n  const proxyDocument = {};\n  const sandbox = iframe.contentWindow.__WUJIE;\n  // \n  Object.defineProperties(proxyDocument, {\n    createElement: {\n      get: () => {\n        return function (...args) {\n          const element = window.document.createElement.apply(iframe.contentDocument, args);\n          patchElementEffect(element, iframe.contentWindow);\n          return element;\n        };\n      },\n    },\n    createTextNode: {\n      get: () => {\n        return function (...args) {\n          const element = window.document.createTextNode.apply(iframe.contentDocument, args);\n          patchElementEffect(element, iframe.contentWindow);\n          return element;\n        };\n      },\n    },\n    documentURI: {\n      get: () => (sandbox.proxyLocation as Location).href,\n    },\n    URL: {\n      get: () => (sandbox.proxyLocation as Location).href,\n    },\n    getElementsByTagName: {\n      get() {\n        return function (...args) {\n          const tagName = args[0];\n          if (tagName === \"script\") {\n            return iframe.contentDocument.scripts as any;\n          }\n          return sandbox.document.getElementsByTagName(tagName) as any;\n        };\n      },\n    },\n  });\n  // \n  const {\n    modifyLocalProperties,\n    modifyProperties,\n    ownerProperties,\n    shadowProperties,\n    shadowMethods,\n    documentProperties,\n    documentMethods,\n  } = documentProxyProperties;\n  modifyProperties\n    .filter((key) => !modifyLocalProperties.includes(key))\n    .concat(ownerProperties, shadowProperties, shadowMethods, documentProperties, documentMethods)\n    .forEach((key) => {\n      Object.defineProperty(proxyDocument, key, {\n        get: () =>\n          isCallable(sandbox.document[key]) ? sandbox.document[key].bind(sandbox.document) : sandbox.document[key],\n      });\n    });\n\n  //  location\n  const proxyLocation = {};\n  const location = iframe.contentWindow.location;\n  const locationKeys = Object.keys(location);\n  const constantKey = [\"host\", \"hostname\", \"port\", \"protocol\", \"port\"];\n  constantKey.forEach((key) => {\n    proxyLocation[key] = urlElement[key];\n  });\n  Object.defineProperties(proxyLocation, {\n    href: {\n      get: () => location.href.replace(mainHostPath, appHostPath),\n      set: (value) => {\n        locationHrefSet(iframe, value, appHostPath);\n      },\n    },\n    reload: {\n      get() {\n        warn(WUJIE_TIPS_RELOAD_DISABLED);\n        return () => null;\n      },\n    },\n  });\n  locationKeys\n    .filter((key) => !constantKey.concat([\"href\", \"reload\"]).includes(key))\n    .forEach((key) => {\n      Object.defineProperty(proxyLocation, key, {\n        get: () => (isCallable(location[key]) ? location[key].bind(location) : location[key]),\n      });\n    });\n  return { proxyDocument, proxyLocation };\n}\n","import { warn, error } from \"./utils\";\nimport { WUJIE_ALL_EVENT, WUJIE_TIPS_NO_SUBJECT } from \"./constant\";\n\nexport type EventObj = { [event: string]: Array<Function> };\n\n// map\nexport const appEventObjMap = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE.inject.appEventObjMap\n  : new Map<String, EventObj>();\n\n// eventBus \nexport class EventBus {\n  private id: string;\n  private eventObj: EventObj;\n\n  constructor(id: string) {\n    this.id = id;\n    this.$clear();\n    if (!appEventObjMap.get(this.id)) {\n      appEventObjMap.set(this.id, {});\n    }\n    this.eventObj = appEventObjMap.get(this.id);\n  }\n\n  // \n  public $on(event: string, fn: Function): EventBus {\n    const cbs = this.eventObj[event];\n    if (!cbs) {\n      this.eventObj[event] = [fn];\n      return this;\n    }\n    if (!cbs.includes(fn)) cbs.push(fn);\n    return this;\n  }\n\n  /** $emit$emit */\n  public $onAll(fn: (event: string, ...args: Array<any>) => any): EventBus {\n    return this.$on(WUJIE_ALL_EVENT, fn);\n  }\n\n  // \n  public $once(event: string, fn: Function): void {\n    const on = function (...args: Array<any>) {\n      this.$off(event, on);\n      fn(...args);\n    }.bind(this);\n    this.$on(event, on);\n  }\n\n  // \n  public $off(event: string, fn: Function): EventBus {\n    const cbs = this.eventObj[event];\n    if (!event || !cbs || !cbs.length) {\n      warn(`${event} ${WUJIE_TIPS_NO_SUBJECT}`);\n      return this;\n    }\n\n    let cb;\n    let i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn) {\n        cbs.splice(i, 1);\n        break;\n      }\n    }\n    return this;\n  }\n\n  // $onAll\n  public $offAll(fn: Function): EventBus {\n    return this.$off(WUJIE_ALL_EVENT, fn);\n  }\n\n  // \n  public $emit(event: string, ...args: Array<any>): EventBus {\n    let cbs = [];\n    let allCbs = [];\n\n    appEventObjMap.forEach((eventObj) => {\n      if (eventObj[event]) cbs = cbs.concat(eventObj[event]);\n      if (eventObj[WUJIE_ALL_EVENT]) allCbs = allCbs.concat(eventObj[WUJIE_ALL_EVENT]);\n    });\n\n    if (!event || (cbs.length === 0 && allCbs.length === 0)) {\n      warn(`${event} ${WUJIE_TIPS_NO_SUBJECT}`);\n    } else {\n      try {\n        for (let i = 0, l = cbs.length; i < l; i++) cbs[i](...args);\n        for (let i = 0, l = allCbs.length; i < l; i++) allCbs[i](event, ...args);\n      } catch (e) {\n        error(e);\n      }\n    }\n    return this;\n  }\n\n  // \n  public $clear(): EventBus {\n    const eventObj = appEventObjMap.get(this.id) ?? {};\n    const events = Object.keys(eventObj);\n    events.forEach((event) => delete eventObj[event]);\n    return this;\n  }\n}\n","import {\n  iframeGenerator,\n  recoverEventListeners,\n  recoverDocumentListeners,\n  insertScriptToIframe,\n  patchEventTimeStamp,\n} from \"./iframe\";\nimport { syncUrlToWindow, syncUrlToIframe, clearInactiveAppUrl } from \"./sync\";\nimport {\n  createWujieWebComponent,\n  clearChild,\n  getPatchStyleElements,\n  renderElementToContainer,\n  renderTemplateToShadowRoot,\n  createIframeContainer,\n  renderTemplateToIframe,\n  removeLoading,\n} from \"./shadow\";\nimport { proxyGenerator, localGenerator } from \"./proxy\";\nimport { ScriptResultList } from \"./entry\";\nimport { getPlugins, getPresetLoaders } from \"./plugin\";\nimport { removeEventListener } from \"./effect\";\nimport {\n  SandboxCache,\n  idToSandboxCacheMap,\n  addSandboxCacheWithWujie,\n  deleteWujieById,\n  rawElementAppendChild,\n  rawDocumentQuerySelector,\n} from \"./common\";\nimport { EventBus, appEventObjMap, EventObj } from \"./event\";\nimport { isFunction, wujieSupport, appRouteParse, requestIdleCallback, getAbsolutePath, eventTrigger } from \"./utils\";\nimport { WUJIE_DATA_ATTACH_CSS_FLAG } from \"./constant\";\nimport { plugin, ScriptObjectLoader, loadErrorHandler } from \"./index\";\n\nexport type lifecycle = (appWindow: Window) => any;\ntype lifecycles = {\n  beforeLoad: lifecycle;\n  beforeMount: lifecycle;\n  afterMount: lifecycle;\n  beforeUnmount: lifecycle;\n  afterUnmount: lifecycle;\n  activated: lifecycle;\n  deactivated: lifecycle;\n  loadError: loadErrorHandler;\n};\n/**\n *  Proxyiframe \n */\nexport default class Wujie {\n  public id: string;\n  /**  */\n  public url: string;\n  /**  */\n  public alive: boolean;\n  /** window */\n  public proxy: WindowProxy;\n  /** document */\n  public proxyDocument: Object;\n  /** location */\n  public proxyLocation: Object;\n  /**  */\n  public bus: EventBus;\n  /**  */\n  public el: HTMLElement;\n  /** js */\n  public iframe: HTMLIFrameElement;\n  /** css */\n  public shadowRoot: ShadowRoot;\n  /** template */\n  public template: string;\n  /**  */\n  public replace: (code: string) => string;\n  /** fetch */\n  public fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n  /**  */\n  public lifecycles: lifecycles;\n  /**  */\n  public plugins: Array<plugin>;\n  /** jsready */\n  public iframeReady: Promise<void>;\n  /**  */\n  public preload: Promise<void>;\n  /** js */\n  public execQueue: Array<Function>;\n  /**  */\n  public execFlag: boolean;\n  /** mount */\n  public mountFlag: boolean;\n  /**  */\n  public sync: boolean;\n  /**  */\n  public prefix: { [key: string]: string };\n  /**  */\n  public hrefFlag: boolean;\n  /** fiber */\n  public fiber: boolean;\n  /**  */\n  public degrade: boolean;\n  /** document */\n  public document: Document;\n  /** styleSheet */\n  public styleSheetElements: Array<HTMLLinkElement | HTMLStyleElement>;\n  /** head */\n  public head: HTMLHeadElement;\n  /** body */\n  public body: HTMLBodyElement;\n  /** dom */\n  public elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n\n  /** $wujie */\n  public provide: {\n    bus: EventBus;\n    shadowRoot?: ShadowRoot | undefined;\n    props?: { [key: string]: any } | undefined;\n    location?: Object;\n  };\n\n  /**  */\n  public inject: {\n    idToSandboxMap: Map<String, SandboxCache>;\n    appEventObjMap: Map<String, EventObj>;\n    mainHostPath: string;\n  };\n\n  /** \n   * 1\n   * 2iframefetch\n   * 3shadow\n   * 4\n   */\n  public async active(options: {\n    url: string;\n    sync?: boolean;\n    prefix?: { [key: string]: string };\n    template?: string;\n    el?: string | HTMLElement;\n    props?: { [key: string]: any };\n    alive?: boolean;\n    fetch?: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n    replace?: (code: string) => string;\n  }): Promise<void> {\n    const { sync, url, el, template, props, alive, prefix, fetch, replace } = options;\n    this.url = url;\n    this.sync = sync;\n    this.alive = alive;\n    this.hrefFlag = false;\n    this.prefix = prefix ?? this.prefix;\n    this.replace = replace ?? this.replace;\n    this.provide.props = props ?? this.provide.props;\n    // wait iframe init\n    await this.iframeReady;\n\n    // fetch\n    // TODO fetch\n    const iframeWindow = this.iframe.contentWindow;\n    const iframeFetch = fetch\n      ? (input: RequestInfo, init?: RequestInit) =>\n          fetch(typeof input === \"string\" ? getAbsolutePath(input, (this.proxyLocation as Location).href) : input, init)\n      : this.fetch;\n    if (iframeFetch) {\n      iframeWindow.fetch = iframeFetch;\n      this.fetch = iframeFetch;\n    }\n\n    // \n    if (this.execFlag && this.alive) {\n      // \n      syncUrlToWindow(iframeWindow);\n    } else {\n      // urliframeurl\n      syncUrlToIframe(iframeWindow);\n      syncUrlToWindow(iframeWindow);\n    }\n\n    // inject template\n    this.template = template ?? this.template;\n\n    /*  */\n    if (this.degrade) {\n      const iframe = createIframeContainer(this.id);\n      const iframeBody = rawDocumentQuerySelector.call(iframeWindow.document, \"body\") as HTMLElement;\n      this.el = renderElementToContainer(iframe, el ?? iframeBody);\n      clearChild(iframe.contentDocument);\n      // jsiframedom\n      if (el) clearChild(iframeBody);\n      // vueevent.timeStamp\n      patchEventTimeStamp(iframe.contentWindow, iframeWindow);\n      // iframeunmount\n      iframe.contentWindow.onunload = () => {\n        this.unmount();\n      };\n      if (this.document) {\n        if (this.alive) {\n          iframe.contentDocument.appendChild(this.document.firstElementChild);\n          // \n          recoverEventListeners(iframe.contentDocument.firstElementChild, iframeWindow);\n        } else {\n          await renderTemplateToIframe(iframe.contentDocument, this.iframe.contentWindow, this.template);\n          // react16\n          recoverDocumentListeners(\n            this.document.firstElementChild,\n            iframe.contentDocument.firstElementChild,\n            iframeWindow\n          );\n        }\n      } else {\n        await renderTemplateToIframe(iframe.contentDocument, this.iframe.contentWindow, this.template);\n      }\n      this.document = iframe.contentDocument;\n      return;\n    }\n\n    if (this.shadowRoot) {\n      /*\n       document.addEventListener was transfer to shadowRoot.addEventListener\n       react 16 SyntheticEvent will remember document event for avoid repeat listen\n       shadowRoot have to dispatchEvent for react 16 so can't be destroyed\n       this may lead memory leak risk\n       */\n      this.el = renderElementToContainer(this.shadowRoot.host, el);\n      if (this.alive) return;\n    } else {\n      // iframeWeb Componentconnect\n      const iframeBody = rawDocumentQuerySelector.call(iframeWindow.document, \"body\") as HTMLElement;\n      this.el = renderElementToContainer(createWujieWebComponent(this.id), el ?? iframeBody);\n    }\n\n    await renderTemplateToShadowRoot(this.shadowRoot, iframeWindow, this.template);\n    this.patchCssRules();\n\n    // inject shadowRoot to app\n    this.provide.shadowRoot = this.shadowRoot;\n  }\n\n  /** \n   * 1js\n   * 2\n   */\n  public async start(getExternalScripts: () => ScriptResultList): Promise<void> {\n    this.execFlag = true;\n    // \n    const scriptResultList = await getExternalScripts();\n    // \n    if (!this.iframe) return;\n    const iframeWindow = this.iframe.contentWindow;\n    // \n    iframeWindow.__POWERED_BY_WUJIE__ = true;\n    // \n    const beforeScriptResultList: ScriptObjectLoader[] = getPresetLoaders(\"jsBeforeLoaders\", this.plugins);\n    // \n    const afterScriptResultList: ScriptObjectLoader[] = getPresetLoaders(\"jsAfterLoaders\", this.plugins);\n    // \n    const syncScriptResultList: ScriptResultList = [];\n    // async\n    const asyncScriptResultList: ScriptResultList = [];\n    // deferDOMContentLoaded\n    const deferScriptResultList: ScriptResultList = [];\n    scriptResultList.forEach((scriptResult) => {\n      if (scriptResult.defer) deferScriptResultList.push(scriptResult);\n      else if (scriptResult.async) asyncScriptResultList.push(scriptResult);\n      else syncScriptResultList.push(scriptResult);\n    });\n\n    // \n    beforeScriptResultList.forEach((beforeScriptResult) => {\n      this.execQueue.push(() =>\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe(beforeScriptResult, iframeWindow))\n          : insertScriptToIframe(beforeScriptResult, iframeWindow)\n      );\n    });\n\n    // \n    syncScriptResultList.concat(deferScriptResultList).forEach((scriptResult) => {\n      this.execQueue.push(() =>\n        scriptResult.contentPromise.then((content) =>\n          this.fiber\n            ? requestIdleCallback(() => insertScriptToIframe({ ...scriptResult, content }, iframeWindow))\n            : insertScriptToIframe({ ...scriptResult, content }, iframeWindow)\n        )\n      );\n    });\n\n    // \n    asyncScriptResultList.forEach((scriptResult) => {\n      scriptResult.contentPromise.then((content) => {\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe({ ...scriptResult, content }, iframeWindow))\n          : insertScriptToIframe({ ...scriptResult, content }, iframeWindow);\n      });\n    });\n\n    //mount\n    this.execQueue.push(this.fiber ? () => requestIdleCallback(() => this.mount()) : () => this.mount());\n\n    // DOMContentLoaded \n    const domContentLoadedTrigger = () => {\n      eventTrigger(iframeWindow.document, \"DOMContentLoaded\");\n      eventTrigger(iframeWindow, \"DOMContentLoaded\");\n      this.execQueue.shift()?.();\n    };\n    this.execQueue.push(this.fiber ? () => requestIdleCallback(domContentLoadedTrigger) : domContentLoadedTrigger);\n\n    // \n    afterScriptResultList.forEach((afterScriptResult) => {\n      this.execQueue.push(() =>\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe(afterScriptResult, iframeWindow))\n          : insertScriptToIframe(afterScriptResult, iframeWindow)\n      );\n    });\n\n    // loaded \n    const domLoadedTrigger = () => {\n      eventTrigger(iframeWindow.document, \"readystatechange\");\n      eventTrigger(iframeWindow, \"load\");\n      this.execQueue.shift()?.();\n    };\n    this.execQueue.push(this.fiber ? () => requestIdleCallback(domLoadedTrigger) : domLoadedTrigger);\n    // mountloading\n    if (this.alive || !isFunction(this.iframe.contentWindow.__WUJIE_UNMOUNT)) removeLoading(this.el);\n    this.execQueue.shift()();\n\n    // execQueuestart\n    return new Promise((resolve) => {\n      this.execQueue.push(() => {\n        resolve();\n        this.execQueue.shift()?.();\n      });\n    });\n  }\n\n  /**\n   * mount__WUJIE_MOUNTasync\n   * fibermountmount\n   * __WUJIE_MOUNTwindowmount\n   * window.__WUJIE.mount()\n   */\n  public mount(): void {\n    if (this.mountFlag) return;\n    if (isFunction(this.iframe.contentWindow.__WUJIE_MOUNT)) {\n      removeLoading(this.el);\n      this.lifecycles?.beforeMount?.(this.iframe.contentWindow);\n      this.iframe.contentWindow.__WUJIE_MOUNT();\n      this.lifecycles?.afterMount?.(this.iframe.contentWindow);\n      this.mountFlag = true;\n    }\n    if (this.alive) {\n      this.lifecycles?.activated?.(this.iframe.contentWindow);\n    }\n    this.execQueue.shift()?.();\n  }\n\n  /** proxyLocation.hrefshadow */\n  public unmount(): void {\n    // iframeclear\n    this.degrade ? setTimeout(() => clearInactiveAppUrl()) : clearInactiveAppUrl();\n    if (this.alive) {\n      this.lifecycles?.deactivated?.(this.iframe.contentWindow);\n    }\n    if (!this.mountFlag) return;\n    if (isFunction(this.iframe.contentWindow.__WUJIE_UNMOUNT) && !this.alive && !this.hrefFlag) {\n      this.lifecycles?.beforeUnmount?.(this.iframe.contentWindow);\n      this.iframe.contentWindow.__WUJIE_UNMOUNT();\n      this.lifecycles?.afterUnmount?.(this.iframe.contentWindow);\n      this.mountFlag = false;\n      this.bus.$clear();\n      if (!this.degrade) {\n        clearChild(this.shadowRoot);\n        // head body\n        removeEventListener(this.head);\n        removeEventListener(this.body);\n      }\n      clearChild(this.head);\n      clearChild(this.body);\n    }\n  }\n\n  /**  */\n  public destroy() {\n    this.bus.$clear();\n    this.shadowRoot = null;\n    this.iframe = null;\n    this.proxy = null;\n    this.proxyDocument = null;\n    this.proxyLocation = null;\n    this.execQueue = null;\n    this.provide = null;\n    this.styleSheetElements = null;\n    this.bus = null;\n    this.el = null;\n    this.replace = null;\n    this.fetch = null;\n    this.execFlag = null;\n    this.mountFlag = null;\n    this.hrefFlag = null;\n    this.document = null;\n    this.head = null;\n    this.body = null;\n    this.elementEventCacheMap = null;\n    this.lifecycles = null;\n    this.plugins = null;\n    this.provide = null;\n    this.inject = null;\n    this.execQueue = null;\n    this.prefix = null;\n\n    (window.__POWERED_BY_WUJIE__\n      ? window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__.call(window.document, \"iframe\")\n      : window.document.querySelectorAll(\"iframe\")\n    ).forEach((iframe) => {\n      if (iframe.name === this.id) iframe.parentNode.removeChild(iframe);\n    });\n    deleteWujieById(this.id);\n  }\n\n  /** mount */\n  public rebuildStyleSheets(): void {\n    if (this.styleSheetElements && this.styleSheetElements.length) {\n      this.styleSheetElements.forEach((styleSheetElement) => {\n        rawElementAppendChild.call(this.degrade ? this.document.head : this.shadowRoot.head, styleSheetElement);\n      });\n    }\n    this.patchCssRules();\n  }\n\n  /**\n   * \n   * 1:root:host\n   * 2@font-faceshadowRoot\n   */\n  public patchCssRules(): void {\n    if (this.degrade) return;\n    if (this.shadowRoot.host.hasAttribute(WUJIE_DATA_ATTACH_CSS_FLAG)) return;\n    const [hostStyleSheetElement, fontStyleSheetElement] = getPatchStyleElements(\n      Array.from(this.iframe.contentDocument.querySelectorAll(\"style\")).map(\n        (styleSheetElement) => styleSheetElement.sheet\n      )\n    );\n    if (hostStyleSheetElement) {\n      this.shadowRoot.head.appendChild(hostStyleSheetElement);\n      this.styleSheetElements.push(hostStyleSheetElement);\n    }\n    if (fontStyleSheetElement) {\n      this.shadowRoot.host.appendChild(fontStyleSheetElement);\n    }\n    (hostStyleSheetElement || fontStyleSheetElement) &&\n      this.shadowRoot.host.setAttribute(WUJIE_DATA_ATTACH_CSS_FLAG, \"\");\n  }\n\n  /**\n   * @param id id\n   * @param url urlprotocolhostpathqueryhash\n   */\n  constructor(options: {\n    name: string;\n    url: string;\n    attrs: { [key: string]: any };\n    fiber: boolean;\n    degrade;\n    plugins: Array<plugin>;\n    lifecycles: lifecycles;\n  }) {\n    // inject\n    if (window.__POWERED_BY_WUJIE__) this.inject = window.__WUJIE.inject;\n    else {\n      this.inject = {\n        idToSandboxMap: idToSandboxCacheMap,\n        appEventObjMap,\n        mainHostPath: window.location.protocol + \"//\" + window.location.host,\n      };\n    }\n    const { name, url, attrs, fiber, degrade, lifecycles, plugins } = options;\n    this.id = name;\n    this.fiber = fiber;\n    this.degrade = degrade || !wujieSupport;\n    this.bus = new EventBus(this.id);\n    this.url = url;\n    this.provide = { bus: this.bus };\n    this.styleSheetElements = [];\n    this.execQueue = [];\n    this.lifecycles = lifecycles;\n    this.plugins = getPlugins(plugins);\n\n    // \n    const { urlElement, appHostPath, appRoutePath } = appRouteParse(url);\n    const { mainHostPath } = this.inject;\n    // iframe\n    const iframe = iframeGenerator(this, attrs, mainHostPath, appHostPath, appRoutePath);\n    this.iframe = iframe;\n\n    if (this.degrade) {\n      const { proxyDocument, proxyLocation } = localGenerator(iframe, urlElement, mainHostPath, appHostPath);\n      this.proxyDocument = proxyDocument;\n      this.proxyLocation = proxyLocation;\n    } else {\n      const { proxyWindow, proxyDocument, proxyLocation } = proxyGenerator(\n        iframe,\n        urlElement,\n        mainHostPath,\n        appHostPath\n      );\n      this.proxy = proxyWindow;\n      this.proxyDocument = proxyDocument;\n      this.proxyLocation = proxyLocation;\n    }\n    this.provide.location = this.proxyLocation;\n\n    addSandboxCacheWithWujie(this.id, this);\n  }\n}\n","import importHTML, { processCssLoader } from \"./entry\";\nimport { StyleObject } from \"./template\";\nimport WuJie, { lifecycle } from \"./sandbox\";\nimport { defineWujieWebComponent, addLoading } from \"./shadow\";\nimport { processAppForHrefJump } from \"./sync\";\nimport { getPlugins } from \"./plugin\";\nimport { wujieSupport, mergeOptions, isFunction, requestIdleCallback, isMatchSyncQueryById, warn } from \"./utils\";\nimport { getWujieById, getOptionsById, addSandboxCacheWithOptions } from \"./common\";\nimport { EventBus } from \"./event\";\nimport { WUJIE_TIPS_STOP_APP, WUJIE_TIPS_NOT_SUPPORTED } from \"./constant\";\n\nexport const bus = new EventBus(Date.now().toString());\n\nexport interface ScriptObjectLoader {\n  /**  */\n  src?: string;\n  /** module */\n  module?: boolean;\n  /** crossorigin */\n  crossorigin?: boolean;\n  /** crossorigin */\n  crossoriginType?: \"anonymous\" | \"use-credentials\" | \"\";\n  /** script */\n  content?: string;\n  /**  */\n  callback?: (appWindow: Window) => any;\n}\nexport interface plugin {\n  /** htmlloader */\n  htmlLoader?: (code: string) => string;\n  /** js */\n  jsExcludes?: Array<string | RegExp>;\n  /** js */\n  jsIgnores?: Array<string | RegExp>;\n  /** jsloader */\n  jsBeforeLoaders?: Array<ScriptObjectLoader>;\n  /** jsloader */\n  jsLoader?: (code: string, url: string, base: string) => string;\n  /** jsloader */\n  jsAfterLoaders?: Array<ScriptObjectLoader>;\n  /** css */\n  cssExcludes?: Array<string | RegExp>;\n  /** css */\n  cssIgnores?: Array<string | RegExp>;\n  /** cssloader */\n  cssBeforeLoaders?: Array<StyleObject>;\n  /** cssloader */\n  cssLoader?: (code: string, url: string, base: string) => string;\n  /** cssloader */\n  cssAfterLoaders?: Array<StyleObject>;\n  /**  window addEventListener  */\n  windowAddEventListenerHook?: eventListenerHook;\n  /**  window removeEventListener  */\n  windowRemoveEventListenerHook?: eventListenerHook;\n  /**  document addEventListener  */\n  documentAddEventListenerHook?: eventListenerHook;\n  /**  document removeEventListener  */\n  documentRemoveEventListenerHook?: eventListenerHook;\n  /**  window  */\n  windowPropertyOverride?: (iframeWindow: Window) => void;\n  /**  document  */\n  documentPropertyOverride?: (iframeWindow: Window) => void;\n}\n\ntype eventListenerHook = (\n  iframeWindow: Window,\n  type: string,\n  handler: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions\n) => void;\n\nexport type loadErrorHandler = (url: string, e: Error) => any;\n\ntype baseOptions = {\n  /**  */\n  name: string;\n  /** url */\n  url: string;\n  /**  */\n  replace?: (code: string) => string;\n  /** fetch */\n  fetch?: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n  /**  */\n  props?: { [key: string]: any };\n  /** iframe */\n  attrs?: { [key: string]: any };\n  /** fiber */\n  fiber?: boolean;\n  /** state */\n  alive?: boolean;\n  /** iframe */\n  degrade?: boolean;\n  /**  */\n  plugins?: Array<plugin>;\n  /**  */\n  beforeLoad?: lifecycle;\n  beforeMount?: lifecycle;\n  afterMount?: lifecycle;\n  beforeUnmount?: lifecycle;\n  afterUnmount?: lifecycle;\n  activated?: lifecycle;\n  deactivated?: lifecycle;\n  loadError?: loadErrorHandler;\n};\n\nexport type preOptions = baseOptions & {\n  /**  */\n  exec?: boolean;\n};\n\nexport type startOptions = baseOptions & {\n  /**  */\n  el: HTMLElement | string;\n  /**\n   * \n   * falsehistory\n   * https://html.spec.whatwg.org/multipage/history.html#the-history-interface\n   */\n  sync?: boolean;\n  /**  */\n  prefix?: { [key: string]: string };\n  /** loading */\n  loading?: HTMLElement;\n};\n\nexport type cacheOptions = baseOptions & {\n  /**  */\n  exec?: boolean;\n  /**  */\n  el?: HTMLElement | string;\n  /**  */\n  sync?: boolean;\n  /**  */\n  prefix?: { [key: string]: string };\n  /** loading */\n  loading?: HTMLElement;\n};\n\n/**\n * \n * wujie.__WUJIE true\n * window.__POWERED_BY_WUJIE__ false\n * iframeloading\n */\nif (window.__WUJIE && !window.__POWERED_BY_WUJIE__) {\n  warn(WUJIE_TIPS_STOP_APP);\n  throw new Error(WUJIE_TIPS_STOP_APP);\n}\n\n// \nprocessAppForHrefJump();\n\n// webComponent\ndefineWujieWebComponent();\n\n// \nif (!wujieSupport) warn(WUJIE_TIPS_NOT_SUPPORTED);\n\n/**\n * \n */\nexport function setupApp(options: cacheOptions): void {\n  if (options.name) addSandboxCacheWithOptions(options.name, options);\n}\n\n/**\n * app\n */\nexport async function startApp(startOptions: startOptions): Promise<Function | void> {\n  const sandbox = getWujieById(startOptions.name);\n  const cacheOptions = getOptionsById(startOptions.name);\n  // \n  const options = mergeOptions(startOptions, cacheOptions);\n  const {\n    name,\n    url,\n    replace,\n    fetch,\n    props,\n    attrs,\n    fiber,\n    alive,\n    degrade,\n    sync,\n    prefix,\n    el,\n    loading,\n    plugins,\n    lifecycles,\n  } = options;\n  // \n  if (sandbox) {\n    sandbox.plugins = getPlugins(plugins);\n    sandbox.lifecycles = lifecycles;\n    const iframeWindow = sandbox.iframe.contentWindow;\n    if (sandbox.preload) {\n      await Promise.resolve(sandbox.preload);\n    }\n    if (alive) {\n      // \n      await sandbox.active({ url, sync, prefix, el, props, alive, fetch, replace });\n      // \n      if (!sandbox.execFlag) {\n        sandbox.lifecycles?.beforeLoad?.(sandbox.iframe.contentWindow);\n        const { getExternalScripts } = await importHTML(url, {\n          fetch: fetch || window.fetch,\n          plugins: sandbox.plugins,\n          loadError: sandbox.lifecycles.loadError,\n        });\n        await sandbox.start(getExternalScripts);\n      }\n      sandbox.lifecycles?.activated?.(sandbox.iframe.contentWindow);\n      return sandbox.destroy;\n    } else if (isFunction(iframeWindow.__WUJIE_MOUNT)) {\n      /**\n       * webcomponentdisconnectedCallbacksandbox.unmount\n       * webcomponentstartAppunmount\n       */\n      sandbox.unmount();\n      await sandbox.active({ url, sync, prefix, el, props, alive, fetch, replace });\n      // \n      sandbox.lifecycles?.beforeMount?.(sandbox.iframe.contentWindow);\n      iframeWindow.__WUJIE_MOUNT();\n      sandbox.lifecycles?.afterMount?.(sandbox.iframe.contentWindow);\n      sandbox.mountFlag = true;\n      sandbox.rebuildStyleSheets();\n      return sandbox.destroy;\n    } else {\n      // \n      sandbox.destroy();\n    }\n  }\n\n  // loading\n  addLoading(el, loading);\n  const newSandbox = new WuJie({ name, url, attrs, fiber, degrade, plugins, lifecycles });\n  newSandbox.lifecycles?.beforeLoad?.(newSandbox.iframe.contentWindow);\n  const { template, getExternalScripts, getExternalStyleSheets } = await importHTML(url, {\n    fetch: fetch || window.fetch,\n    plugins: newSandbox.plugins,\n    loadError: newSandbox.lifecycles.loadError,\n  });\n\n  const processedHtml = await processCssLoader(newSandbox, template, getExternalStyleSheets);\n  await newSandbox.active({ url, sync, prefix, template: processedHtml, el, props, alive, fetch, replace });\n  await newSandbox.start(getExternalScripts);\n  return newSandbox.destroy;\n}\n\n/**\n * APP\n */\nexport function preloadApp(preOptions: preOptions): void {\n  requestIdleCallback((): void | Promise<void> => {\n    /**\n     * \n     * urlidurl\n     */\n    if (getWujieById(preOptions.name) || isMatchSyncQueryById(preOptions.name)) return;\n    const cacheOptions = getOptionsById(preOptions.name);\n    // \n    const options = mergeOptions({ ...preOptions }, cacheOptions);\n    const { name, url, props, alive, replace, exec, attrs, fiber, degrade, plugins, lifecycles } = options;\n\n    const sandbox = new WuJie({ name, url, attrs, fiber, degrade, plugins, lifecycles });\n    if (sandbox.preload) return sandbox.preload;\n    const runPreload = async () => {\n      sandbox.lifecycles?.beforeLoad?.(sandbox.iframe.contentWindow);\n      const { template, getExternalScripts, getExternalStyleSheets } = await importHTML(url, {\n        fetch: fetch || window.fetch,\n        plugins: sandbox.plugins,\n        loadError: sandbox.lifecycles.loadError,\n      });\n      const processedHtml = await processCssLoader(sandbox, template, getExternalStyleSheets);\n      await sandbox.active({ url, props, alive, template: processedHtml, fetch, replace });\n      if (exec) {\n        await sandbox.start(getExternalScripts);\n      }\n    };\n    sandbox.preload = runPreload();\n  });\n}\n\n/**\n * APP\n */\nexport function destroyApp(id: string): void {\n  const sandbox = getWujieById(id);\n  if (sandbox) {\n    sandbox.destroy();\n  }\n}\n","import Vue from \"vue\";\nimport { bus, preloadApp, startApp, destroyApp, setupApp } from \"wujie\";\n\nconst wujieVueOptions = {\n  name: \"WujieVue\",\n  props: {\n    width: { type: String, default: \"\" },\n    height: { type: String, default: \"\" },\n    name: { type: String, default: \"\" },\n    loading: { type: HTMLElement, default: undefined },\n    url: { type: String, default: \"\" },\n    sync: { type: Boolean, default: undefined },\n    prefix: { type: Object, default: undefined },\n    alive: { type: Boolean, default: undefined },\n    props: { type: Object, default: undefined },\n    attrs: {type: Object, default: undefined},\n    replace: { type: Function, default: undefined },\n    fetch: { type: Function, default: undefined },\n    fiber: { type: Boolean, default: undefined },\n    degrade: { type: Boolean, default: undefined },\n    plugins: { type: Array, default: null },\n    beforeLoad: { type: Function, default: null },\n    beforeMount: { type: Function, default: null },\n    afterMount: { type: Function, default: null },\n    beforeUnmount: { type: Function, default: null },\n    afterUnmount: { type: Function, default: null },\n    activated: { type: Function, default: null },\n    deactivated: { type: Function, default: null },\n    loadError: { type: Function, default: null },\n  },\n  data() {\n    return {\n      destroy: null,\n      startAppQueue: Promise.resolve(),\n    };\n  },\n  mounted() {\n    bus.$onAll(this.handleEmit);\n    this.execStartApp();\n    this.$watch(\n      () => this.name + this.url,\n      () => this.execStartApp()\n    );\n  },\n  methods: {\n    handleEmit(event, ...args) {\n      this.$emit(event, ...args);\n    },\n    execStartApp() {\n      this.startAppQueue = this.startAppQueue.then(async () => {\n        try {\n          this.destroy = await startApp({\n            name: this.name,\n            url: this.url,\n            el: this.$refs.wujie,\n            loading: this.loading,\n            alive: this.alive,\n            fetch: this.fetch,\n            props: this.props,\n            attrs: this.attrs,\n            replace: this.replace,\n            sync: this.sync,\n            prefix: this.prefix,\n            fiber: this.fiber,\n            degrade: this.degrade,\n            plugins: this.plugins,\n            beforeLoad: this.beforeLoad,\n            beforeMount: this.beforeMount,\n            afterMount: this.afterMount,\n            beforeUnmount: this.beforeUnmount,\n            afterUnmount: this.afterUnmount,\n            activated: this.activated,\n            deactivated: this.deactivated,\n            loadError: this.loadError,\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      });\n    },\n  },\n  beforeDestroy() {\n    bus.$offAll(this.handleEmit);\n  },\n  render(c) {\n    return c(\"div\", {\n      style: {\n        width: this.width,\n        height: this.height,\n      },\n      ref: \"wujie\",\n    });\n  },\n};\n\nconst WujieVue = Vue.extend(wujieVueOptions);\n\nWujieVue.setupApp = setupApp;\nWujieVue.preloadApp = preloadApp;\nWujieVue.bus = bus;\nWujieVue.destroyApp = destroyApp;\nWujieVue.install = function (Vue) {\n  Vue.component(\"WujieVue\", WujieVue);\n};\n\nexport default WujieVue;\n","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"react17\" :url=\"react17Url\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport wujieVue from \"wujie-vue2\";\nexport default {\n  data() {\n    return {\n      react17Url: hostMap(\"//localhost:7100/\") + this.$route.params.path,\n    };\n  },\n  watch: {\n    $route() {\n      wujieVue.bus.$emit(\"react17-router-change\", `/${this.$route.params.path}`);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React17-sub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./React17-sub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./React17-sub.vue?vue&type=template&id=45c8121c&scoped=true&\"\nimport script from \"./React17-sub.vue?vue&type=script&lang=js&\"\nexport * from \"./React17-sub.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45c8121c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vue2\",\"url\":_vm.vue2Url,\"sync\":true}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"vue2\" :url=\"vue2Url\" :sync=\"true\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  data() {\n    return {\n      vue2Url: hostMap(\"//localhost:7200/\"),\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vue2.vue?vue&type=template&id=5a74e1ae&scoped=true&\"\nimport script from \"./Vue2.vue?vue&type=script&lang=js&\"\nexport * from \"./Vue2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a74e1ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vue2\",\"url\":_vm.vue2Url}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"vue2\" :url=\"vue2Url\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  computed: {\n    vue2Url() {\n      return hostMap(\"//localhost:7200/\") + `#/${this.$route.params.path}`;\n    },\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue2-sub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue2-sub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vue2-sub.vue?vue&type=template&id=53c9eb48&scoped=true&\"\nimport script from \"./Vue2-sub.vue?vue&type=script&lang=js&\"\nexport * from \"./Vue2-sub.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53c9eb48\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vite\",\"url\":_vm.viteUrl,\"sync\":true}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"vite\" :url=\"viteUrl\" :sync=\"true\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  data() {\n    return {\n      viteUrl: hostMap(\"//localhost:7500/\"),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vite.vue?vue&type=template&id=947c7230&scoped=true&\"\nimport script from \"./Vite.vue?vue&type=script&lang=js&\"\nexport * from \"./Vite.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"947c7230\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vite\",\"url\":_vm.viteUrl}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"vite\" :url=\"viteUrl\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  computed: {\n    viteUrl() {\n      return hostMap(\"//localhost:7500/\") + this.$route.params.path;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vite-sub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vite-sub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vite-sub.vue?vue&type=template&id=3b8cef63&scoped=true&\"\nimport script from \"./Vite-sub.vue?vue&type=script&lang=js&\"\nexport * from \"./Vite-sub.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b8cef63\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vue3\",\"url\":_vm.vue3Url,\"sync\":true}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"vue3\" :url=\"vue3Url\" :sync=\"true\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nexport default {\n  data() {\n    return {\n      vue3Url: hostMap(\"//localhost:7300/\"),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue3.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue3.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vue3.vue?vue&type=template&id=3e8a9450&scoped=true&\"\nimport script from \"./Vue3.vue?vue&type=script&lang=js&\"\nexport * from \"./Vue3.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e8a9450\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"name\":\"vue3\",\"url\":_vm.vue3Url}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--nameurl -->\n  <WujieVue width=\"100%\" height=\"100%\" name=\"vue3\" :url=\"vue3Url\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\nimport wujieVue from \"wujie-vue2\";\nexport default {\n  data() {\n    return {\n      vue3Url: hostMap(\"//localhost:7300/\") + this.$route.params.path,\n    };\n  },\n  watch: {\n    $route() {\n      wujieVue.bus.$emit(\"vue3-router-change\", `/${this.$route.params.path}`);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue3-sub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Vue3-sub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vue3-sub.vue?vue&type=template&id=65269b0e&scoped=true&\"\nimport script from \"./Vue3-sub.vue?vue&type=script&lang=js&\"\nexport * from \"./Vue3-sub.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65269b0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WujieVue',{staticClass:\"angular-container\",attrs:{\"name\":\"angular12\",\"url\":_vm.url,\"attrs\":_vm.attrs,\"sync\":true}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <WujieVue class=\"angular-container\" name=\"angular12\" :url=\"url\" :attrs=\"attrs\" :sync=\"true\"></WujieVue>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  data() {\n    return {\n      url: hostMap(\"//localhost:7400/\"),\n      // iframeurlgithub pages csp\n      attrs: process.env.NODE_ENV === \"production\" ? { src: hostMap(\"//localhost:7400/\") } : {},\n    };\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n.angular-container {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Angular12.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Angular12.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Angular12.vue?vue&type=template&id=2dc62798&scoped=true&\"\nimport script from \"./Angular12.vue?vue&type=script&lang=js&\"\nexport * from \"./Angular12.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Angular12.vue?vue&type=style&index=0&id=2dc62798&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dc62798\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"react16\",\"url\":_vm.react16Url,\"sync\":true}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"react17\",\"url\":_vm.react17Url,\"sync\":true}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"vue2\",\"url\":_vm.vue2Url,\"sync\":true}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"vue3\",\"url\":_vm.vue3Url,\"sync\":true}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"vite\",\"url\":_vm.vite,\"sync\":true}}),_c('WujieVue',{staticClass:\"item\",attrs:{\"name\":\"angular12\",\"url\":_vm.angular12Url,\"sync\":true}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height: 100%; width: 100%\">\n    <WujieVue class=\"item\" name=\"react16\" :url=\"react16Url\" :sync=\"true\"></WujieVue>\n    <WujieVue class=\"item\" name=\"react17\" :url=\"react17Url\" :sync=\"true\"></WujieVue>\n    <WujieVue class=\"item\" name=\"vue2\" :url=\"vue2Url\" :sync=\"true\"></WujieVue>\n    <WujieVue class=\"item\" name=\"vue3\" :url=\"vue3Url\" :sync=\"true\"></WujieVue>\n    <WujieVue class=\"item\" name=\"vite\" :url=\"vite\" :sync=\"true\"></WujieVue>\n    <WujieVue class=\"item\" name=\"angular12\" :url=\"angular12Url\" :sync=\"true\"></WujieVue>\n  </div>\n</template>\n\n<script>\nimport hostMap from \"../hostMap\";\n\nexport default {\n  data() {\n    return {\n      react16Url: hostMap(\"//localhost:7600/\"),\n      react17Url: hostMap(\"//localhost:7100/\"),\n      vue2Url: hostMap(\"//localhost:7200/\"),\n      vue3Url: hostMap(\"//localhost:7300/\"),\n      vite: hostMap(\"//localhost:7500/\"),\n      angular12Url: hostMap(\"//localhost:7400/\"),\n    };\n  },\n  methods: {\n    jump(name) {\n      this.$router.push({ name });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.item {\n  display: inline-block;\n  border: 1px dashed #ccc;\n  border-radius: 8px;\n  width: 45%;\n  height: 45%;\n  margin: 20px;\n  overflow: scroll;\n}\n</style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Multiple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.2.5_li4tts7salxwv3rbqjnooz7t7e/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Multiple.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Multiple.vue?vue&type=template&id=7ef41522&scoped=true&\"\nimport script from \"./Multiple.vue?vue&type=script&lang=js&\"\nexport * from \"./Multiple.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Multiple.vue?vue&type=style&index=0&id=7ef41522&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ef41522\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport React16 from \"../views/React16.vue\";\nimport React16Sub from \"../views/React16-sub.vue\";\nimport React17 from \"../views/React17.vue\";\nimport React17Sub from \"../views/React17-sub.vue\";\nimport Vue2 from \"../views/Vue2.vue\";\nimport Vue2Sub from \"../views/Vue2-sub.vue\";\nimport Vite from \"../views/Vite.vue\";\nimport ViteSub from \"../views/Vite-sub.vue\";\nimport Vue3 from \"../views/Vue3.vue\";\nimport Vue3Sub from \"../views/Vue3-sub.vue\";\nimport Angular12 from \"../views/Angular12.vue\";\nimport Multiple from \"../views/Multiple.vue\";\nconst basename = process.env.NODE_ENV === \"production\" ? \"/demo-main-vue/\" : \"\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/home\",\n    name: \"home\",\n    component: Home,\n  },\n  {\n    path: \"/react16\",\n    name: \"react16\",\n    component: React16,\n  },\n  {\n    path: \"/react16-sub/:path\",\n    name: \"react16-sub\",\n    component: React16Sub,\n  },\n  {\n    path: \"/react17\",\n    name: \"react17\",\n    component: React17,\n  },\n  {\n    path: \"/react17-sub/:path\",\n    name: \"react17-sub\",\n    component: React17Sub,\n  },\n  {\n    path: \"/vue2\",\n    name: \"vue2\",\n    component: Vue2,\n  },\n  {\n    path: \"/vue2-sub/:path\",\n    name: \"vue2-sub\",\n    component: Vue2Sub,\n  },\n  {\n    path: \"/vite\",\n    name: \"vite\",\n    component: Vite,\n  },\n  {\n    path: \"/vite-sub/:path\",\n    name: \"vite-sub\",\n    component: ViteSub,\n  },\n  {\n    path: \"/vue3\",\n    name: \"vue3\",\n    component: Vue3,\n  },\n  {\n    path: \"/vue3-sub/:path\",\n    name: \"vue3-sub\",\n    component: Vue3Sub,\n  },\n  {\n    path: \"/angular12\",\n    name: \"angular12\",\n    component: Angular12,\n  },\n  {\n    path: \"/all\",\n    name: \"all\",\n    component: Multiple,\n  },\n  {\n    path: \"/\",\n    redirect: \"/home\",\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: basename,\n  routes,\n});\n\nexport default router;\n","// credentialsinclude\nexport default function fetch(url, options) {\n  return window.fetch(url, { ...options, credentials: \"omit\" });\n}\n","const lifecycles = {\n  beforeLoad: (appWindow) => console.log(`${appWindow.__WUJIE.id} beforeLoad `),\n  beforeMount: (appWindow) => console.log(`${appWindow.__WUJIE.id} beforeMount `),\n  afterMount: (appWindow) => console.log(`${appWindow.__WUJIE.id} afterMount `),\n  beforeUnmount: (appWindow) => console.log(`${appWindow.__WUJIE.id} beforeUnmount `),\n  afterUnmount: (appWindow) => console.log(`${appWindow.__WUJIE.id} afterUnmount `),\n  activated: (appWindow) => console.log(`${appWindow.__WUJIE.id} activated `),\n  deactivated: (appWindow) => console.log(`${appWindow.__WUJIE.id} deactivated `),\n  loadError: (url, e) => console.log(`${url} `, e),\n};\n\nexport default lifecycles;\n","const plugins = [\n  {\n    htmlLoader: (code) => {\n      console.log(\"html-loader\");\n      return code;\n    },\n    jsBeforeLoaders: [\n      {\n        callback(appWindow) {\n          console.log(\"js-before-loader-callback\", appWindow.__WUJIE.id);\n        },\n      },\n    ],\n    jsLoader: (code, url) => {\n      console.log(\"js-loader\", url);\n      return code;\n    },\n    jsAfterLoaders: [\n      {\n        callback(appWindow) {\n          console.log(\"js-after-loader-callback\", appWindow.__WUJIE.id);\n        },\n      },\n    ],\n    cssBeforeLoaders: [\n      //html\n      { src: \"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/HDaBURp7.css\" },\n      //html\n      { content: \"img{width: 300px}\" },\n    ],\n    cssLoader: (code, url) => {\n      console.log(\"css-loader\", url, code.slice(0, 50) + \"...\");\n      return code;\n    },\n    cssAfterLoaders: [\n      //html\n      { src: \"https://vfiles.gtimg.cn/wuji_dashboard/xy/test_wuji_damy/FQsK8IN6.css\" },\n      //html\n      { content: \"img{height: 300px}\" },\n    ],\n  },\n];\n\nexport default plugins;\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport WujieVue from \"wujie-vue2\";\nimport hostMap from \"./hostMap\";\nimport credentialsFetch from \"./fetch\";\nimport Switch from \"ant-design-vue/es/switch\";\nimport Tooltip from \"ant-design-vue/es/tooltip\";\nimport button from \"ant-design-vue/es/button/index\";\nimport Icon from \"ant-design-vue/es/icon/index\";\nimport \"ant-design-vue/es/button/style/index.css\";\nimport \"ant-design-vue/es/style/index.css\";\nimport \"ant-design-vue/es/switch/style/index.css\";\nimport \"ant-design-vue/es/tooltip/style/index.css\";\nimport \"ant-design-vue/es/icon/style/index.css\";\nimport lifecycles from \"./lifecycle\";\nimport plugins from \"./plugin\";\n\nconst isProduction = process.env.NODE_ENV === \"production\";\nconst { setupApp, preloadApp, bus } = WujieVue;\nVue.use(WujieVue).use(Switch).use(Tooltip).use(button).use(Icon);\n\nVue.config.productionTip = false;\n\nbus.$on(\"click\", (msg) => window.alert(msg));\n\n//  xxx-sub \nbus.$on(\"sub-route-change\", (name, path) => {\n  const mainName = `${name}-sub`;\n  const mainPath = `/${name}-sub${path}`;\n  const currentName = router.currentRoute.name;\n  const currentPath = router.currentRoute.path;\n  if (mainName === currentName && mainPath !== currentPath) {\n    router.push({ path: mainPath });\n  }\n});\n\nconst degrade = window.localStorage.getItem(\"degrade\") === \"true\" || !window.Proxy || !window.CustomElementRegistry;\nconst props = {\n  jump: (name) => {\n    router.push({ name });\n  },\n};\n/**\n *  attrs\n *  iframe  srcgithub pages csp\n *  host+port\n */\nconst attrs = isProduction ? { src: hostMap(\"//localhost:8000/\") } : {};\n/**\n * \n * preloadAppstartApp\n */\nsetupApp({\n  name: \"react16\",\n  url: hostMap(\"//localhost:7600/\"),\n  attrs,\n  exec: true,\n  props,\n  fetch: credentialsFetch,\n  plugins,\n  prefix: { \"prefix-dialog\": \"/dialog\", \"prefix-location\": \"/location\" },\n  degrade,\n  ...lifecycles,\n});\n\nsetupApp({\n  name: \"react17\",\n  url: hostMap(\"//localhost:7100/\"),\n  attrs,\n  exec: true,\n  alive: true,\n  props,\n  fetch: credentialsFetch,\n  degrade,\n  ...lifecycles,\n});\n\nsetupApp({\n  name: \"vue2\",\n  url: hostMap(\"//localhost:7200/\"),\n  attrs,\n  exec: true,\n  props,\n  fetch: credentialsFetch,\n  degrade,\n  ...lifecycles,\n});\n\nsetupApp({\n  name: \"vue3\",\n  url: hostMap(\"//localhost:7300/\"),\n  attrs,\n  exec: true,\n  alive: true,\n  plugins: [{ cssExcludes: [\"https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"] }],\n  props,\n  // credentials\n  fetch: (url, options) =>\n    url.includes(hostMap(\"//localhost:7300/\")) ? credentialsFetch(url, options) : window.fetch(url, options),\n  degrade,\n  ...lifecycles,\n});\n\nsetupApp({\n  name: \"angular12\",\n  url: hostMap(\"//localhost:7400/\"),\n  attrs,\n  exec: true,\n  props,\n  fetch: credentialsFetch,\n  degrade,\n  ...lifecycles,\n});\n\nsetupApp({\n  name: \"vite\",\n  url: hostMap(\"//localhost:7500/\"),\n  attrs,\n  exec: true,\n  props,\n  fetch: credentialsFetch,\n  degrade,\n  ...lifecycles,\n});\n\nif (window.localStorage.getItem(\"preload\") !== \"false\") {\n  preloadApp({\n    name: \"react16\",\n  });\n  preloadApp({\n    name: \"react17\",\n  });\n  preloadApp({\n    name: \"vue2\",\n  });\n  preloadApp({\n    name: \"vue3\",\n  });\n  preloadApp({\n    name: \"angular12\",\n  });\n  preloadApp({\n    name: \"vite\",\n  });\n}\n\nnew Vue({\n  router,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=341fbafa&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=042261c0&prod&lang=css&\"","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.0_geeguvfn2njjaew5w23blzhalq/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&id=341fbafa&prod&lang=css&\""],"sourceRoot":""}